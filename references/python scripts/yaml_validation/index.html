<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="This site is meanly for people that want to extend the functionality of ESPHome."><meta name=author content=ESPHome><link href=https://nielsnl68.github.io/developers.esphome.io/references/python%20scripts/yaml_validation/ rel=canonical><link href=../code_generation/cpp_types/ rel=prev><link href=config_helpers/ rel=next><link rel=icon href=../../../assets/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.48"><title>YAML config validation tools - ESPHome Developers</title><link rel=stylesheet href=../../../assets/stylesheets/main.6f8fc17f.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../css/material.css><link rel=stylesheet href=../../../css/mkdocstrings.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-7W4JVL1PRY"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-7W4JVL1PRY",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-7W4JVL1PRY",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><link href=../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=grey data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#config_validation-attributes class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=https://nielsnl68.github.io/developers.esphome.io/ title="ESPHome Developers" class="md-header__button md-logo" aria-label="ESPHome Developers" data-md-component=logo> <img src=../../../assets/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ESPHome Developers </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> YAML config validation tools </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=grey data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/nielsnl68/developers.esphome.io/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </div> <div class=md-source__repository> developers.esphome.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://nielsnl68.github.io/developers.esphome.io/ title="ESPHome Developers" class="md-nav__button md-logo" aria-label="ESPHome Developers" data-md-component=logo> <img src=../../../assets/logo.svg alt=logo> </a> ESPHome Developers </label> <div class=md-nav__source> <a href=https://github.com/nielsnl68/developers.esphome.io/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </div> <div class=md-source__repository> developers.esphome.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home page </span> </a> </li> <li class=md-nav__item> <a href=../../../code_of_conduct/ class=md-nav__link> <span class=md-ellipsis> Code of Conduct </span> </a> </li> <li class=md-nav__item> <a href=../../../license/ class=md-nav__link> <span class=md-ellipsis> License agreement </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../../guides/ class="md-nav__link "> <span class=md-ellipsis> Guides </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Categories </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../guides/category/codebase/ class=md-nav__link> <span class=md-ellipsis> codebase </span> </a> </li> <li class=md-nav__item> <a href=../../../guides/category/documentation/ class=md-nav__link> <span class=md-ellipsis> documentation </span> </a> </li> <li class=md-nav__item> <a href=../../../guides/category/howtos/ class=md-nav__link> <span class=md-ellipsis> howto's </span> </a> </li> <li class=md-nav__item> <a href=../../../guides/category/linters/ class=md-nav__link> <span class=md-ellipsis> linters </span> </a> </li> <li class=md-nav__item> <a href=../../../guides/category/others/ class=md-nav__link> <span class=md-ellipsis> others </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> References </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> References </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <div class="md-nav__link md-nav__container"> <a href=../../components/ class="md-nav__link "> <span class=md-ellipsis> Components </span> </a> <label class="md-nav__link " for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> Components </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../components/touchscreen/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Python scripts </span> </a> <label class="md-nav__link " for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=true> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Python scripts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../CORE%20API/ class=md-nav__link> <span class=md-ellipsis> CORE API </span> </a> </li> <li class=md-nav__item> <a href=../automation/ class=md-nav__link> <span class=md-ellipsis> Tools to create automations </span> </a> </li> <li class=md-nav__item> <a href=../util/ class=md-nav__link> <span class=md-ellipsis> Couple of python tools </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2_5> <div class="md-nav__link md-nav__container"> <a href=../code_generation/ class="md-nav__link "> <span class=md-ellipsis> Code generation </span> </a> <label class="md-nav__link " for=__nav_5_2_5 id=__nav_5_2_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2_5> <span class="md-nav__icon md-icon"></span> Code generation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../code_generation/coroutine/ class=md-nav__link> <span class=md-ellipsis> Coroutine </span> </a> </li> <li class=md-nav__item> <a href=../code_generation/cpp_helpers/ class=md-nav__link> <span class=md-ellipsis> Cpp helpers </span> </a> </li> <li class=md-nav__item> <a href=../code_generation/cpp_types/ class=md-nav__link> <span class=md-ellipsis> Cpp types </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2_6 checked> <div class="md-nav__link md-nav__container"> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Yaml validation </span> </a> <label class="md-nav__link md-nav__link--active" for=__nav_5_2_6 id=__nav_5_2_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_2_6_label aria-expanded=true> <label class=md-nav__title for=__nav_5_2_6> <span class="md-nav__icon md-icon"></span> Yaml validation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=config_helpers/ class=md-nav__link> <span class=md-ellipsis> Config helpers </span> </a> </li> <li class=md-nav__item> <a href=constants/ class=md-nav__link> <span class=md-ellipsis> list of predefined constants </span> </a> </li> <li class=md-nav__item> <a href=final_validate/ class=md-nav__link> <span class=md-ellipsis> Final validate </span> </a> </li> <li class=md-nav__item> <a href=schema_extractors/ class=md-nav__link> <span class=md-ellipsis> Schema extractors </span> </a> </li> <li class=md-nav__item> <a href=voluptuous_schema/ class=md-nav__link> <span class=md-ellipsis> Voluptuous schema </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#config_validation-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> <nav class=md-nav aria-label=Attributes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#config_validation.ALLOW_EXTRA class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ALLOW_EXTRA </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.All class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;All </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Any class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Any </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.COMPONENT_SCHEMA class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;COMPONENT_SCHEMA </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Coerce class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Coerce </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.ENTITY_BASE_SCHEMA class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ENTITY_BASE_SCHEMA </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.ENTITY_CATEGORIES class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ENTITY_CATEGORIES </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.ENTITY_ID_CHARACTERS class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ENTITY_ID_CHARACTERS </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Exclusive class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Exclusive </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.GIT_SCHEMA class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;GIT_SCHEMA </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Inclusive class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Inclusive </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Invalid class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Invalid </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.LAMBDA_ENTITY_ID_PROG class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;LAMBDA_ENTITY_ID_PROG </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.LOCAL_SCHEMA class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;LOCAL_SCHEMA </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Length class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Length </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Lower class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Lower </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.METRIC_SUFFIXES class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;METRIC_SUFFIXES </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.MQTT_COMMAND_COMPONENT_SCHEMA class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;MQTT_COMMAND_COMPONENT_SCHEMA </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.MQTT_COMPONENT_AVAILABILITY_SCHEMA class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;MQTT_COMPONENT_AVAILABILITY_SCHEMA </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.MQTT_COMPONENT_SCHEMA class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;MQTT_COMPONENT_SCHEMA </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.MultipleInvalid class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;MultipleInvalid </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.RESERVED_IDS class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;RESERVED_IDS </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.ROOT_CONFIG_PATH class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;ROOT_CONFIG_PATH </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Range class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Range </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.RequiredFieldInvalid class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;RequiredFieldInvalid </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.SOURCE_SCHEMA class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;SOURCE_SCHEMA </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Schema class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Schema </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.TIME_PERIOD_ERROR class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;TIME_PERIOD_ERROR </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.UNDEFINED class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;UNDEFINED </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Upper class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;Upper </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.VARIABLE_PROG class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;VARIABLE_PROG </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.angle class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;angle </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.current class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;current </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.decibel class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;decibel </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.distance class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;distance </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.float_ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;float_ </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.framerate class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;framerate </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.frequency class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;frequency </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.hex_uint16_t class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hex_uint16_t </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.hex_uint32_t class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hex_uint32_t </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.hex_uint64_t class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hex_uint64_t </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.hex_uint8_t class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;hex_uint8_t </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.i2c_address class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;i2c_address </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.negative_one_to_one_float class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;negative_one_to_one_float </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.only_on_esp32 class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;only_on_esp32 </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.only_on_esp8266 class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;only_on_esp8266 </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.only_on_rp2040 class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;only_on_rp2040 </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.only_with_arduino class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;only_with_arduino </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.only_with_esp_idf class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;only_with_esp_idf </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.port class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;port </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.positive_float class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;positive_float </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.positive_int class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;positive_int </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.positive_not_null_float class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;positive_not_null_float </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.positive_not_null_int class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;positive_not_null_int </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.positive_not_null_time_period class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;positive_not_null_time_period </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.positive_time_period class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;positive_time_period </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.positive_time_period_microseconds class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;positive_time_period_microseconds </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.positive_time_period_milliseconds class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;positive_time_period_milliseconds </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.positive_time_period_minutes class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;positive_time_period_minutes </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.positive_time_period_nanoseconds class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;positive_time_period_nanoseconds </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.positive_time_period_seconds class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;positive_time_period_seconds </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.pressure class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;pressure </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.resistance class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;resistance </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.time_period class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;time_period </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.time_period_dict class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;time_period_dict </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.time_period_microseconds class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;time_period_microseconds </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.uint16_t class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;uint16_t </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.uint32_t class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;uint32_t </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.uint64_t class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;uint64_t </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.uint8_t class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;uint8_t </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.voltage class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;voltage </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.zero_to_one_float class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;zero_to_one_float </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#config_validation-classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#config_validation.FinalExternalInvalid class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FinalExternalInvalid </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.GenerateID class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;GenerateID </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.OnlyWith class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;OnlyWith </span> </a> <nav class=md-nav aria-label= OnlyWith> <ul class=md-nav__list> <li class=md-nav__item> <a href=#config_validation.OnlyWith-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> <nav class=md-nav aria-label=Attributes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#config_validation.OnlyWith.default class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;default </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#config_validation.Optional class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Optional </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Required class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Required </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.SplitDefault class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SplitDefault </span> </a> <nav class=md-nav aria-label= SplitDefault> <ul class=md-nav__list> <li class=md-nav__item> <a href=#config_validation.SplitDefault-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> <nav class=md-nav aria-label=Attributes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#config_validation.SplitDefault.default class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;default </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#config_validation.Version class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Version </span> </a> <nav class=md-nav aria-label= Version> <ul class=md-nav__list> <li class=md-nav__item> <a href=#config_validation.Version-attributes class=md-nav__link> <span class=md-ellipsis> Attributes </span> </a> <nav class=md-nav aria-label=Attributes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#config_validation.Version.major class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;major </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Version.minor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;minor </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.Version.patch class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;patch </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#config_validation.Version-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#config_validation.Version.parse class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;parse </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#config_validation-functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> <nav class=md-nav aria-label=Functions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#config_validation.alphanumeric class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;alphanumeric </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.bind_key class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;bind_key </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.boolean class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;boolean </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.boolean_false class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;boolean_false </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.check_not_templatable class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;check_not_templatable </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.color_temperature class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;color_temperature </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.date_time class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;date_time </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.declare_id class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;declare_id </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.dimensions class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;dimensions </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.directory class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;directory </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.domain class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;domain </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.domain_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;domain_name </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.ensure_list class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;ensure_list </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.ensure_schema class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;ensure_schema </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.entity_category class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;entity_category </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.entity_id class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;entity_id </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.enum class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;enum </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.extract_keys class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;extract_keys </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.file_ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;file_ </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.float_range class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;float_range </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.float_with_unit class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;float_with_unit </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.git_ref class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;git_ref </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.has_at_least_one_key class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;has_at_least_one_key </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.has_at_most_one_key class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;has_at_most_one_key </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.has_exactly_one_key class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;has_exactly_one_key </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.has_none_or_all_keys class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;has_none_or_all_keys </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.hex_int class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;hex_int </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.hex_int_range class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;hex_int_range </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.hostname class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;hostname </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.icon class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;icon </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.int_ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;int_ </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.int_range class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;int_range </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.invalid class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;invalid </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.ipv4 class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;ipv4 </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.lambda_ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;lambda_ </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.mac_address class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;mac_address </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.maybe_simple_value class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;maybe_simple_value </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.mqtt_payload class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;mqtt_payload </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.mqtt_qos class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;mqtt_qos </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.none class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;none </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.one_of class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;one_of </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.only_on class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;only_on </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.only_with_framework class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;only_with_framework </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.percentage class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;percentage </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.percentage_int class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;percentage_int </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.platformio_version_constraint class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;platformio_version_constraint </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.polling_component_schema class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;polling_component_schema </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.possibly_negative_percentage class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;possibly_negative_percentage </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.prepend_path class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;prepend_path </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.publish_topic class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;publish_topic </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.remove_prepend_path class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;remove_prepend_path </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.rename_key class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;rename_key </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.require_esphome_version class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;require_esphome_version </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.require_framework_version class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;require_framework_version </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.requires_component class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;requires_component </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.requires_friendly_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;requires_friendly_name </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.returning_lambda class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;returning_lambda </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.source_refresh class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;source_refresh </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.ssid class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;ssid </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.string class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;string </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.string_strict class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;string_strict </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.subscribe_topic class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;subscribe_topic </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.suppress_invalid class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;suppress_invalid </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.temperature class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;temperature </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.temperature_delta class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;temperature_delta </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.templatable class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;templatable </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.time_of_day class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;time_of_day </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.time_period_in_microseconds_ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;time_period_in_microseconds_ </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.time_period_in_milliseconds_ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;time_period_in_milliseconds_ </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.time_period_in_minutes_ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;time_period_in_minutes_ </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.time_period_in_nanoseconds_ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;time_period_in_nanoseconds_ </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.time_period_in_seconds_ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;time_period_in_seconds_ </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.time_period_str_colon class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;time_period_str_colon </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.time_period_str_unit class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;time_period_str_unit </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.typed_schema class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;typed_schema </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.update_interval class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;update_interval </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.url class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;url </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.use_id class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;use_id </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.uuid class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;uuid </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.valid class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;valid </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.valid_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;valid_name </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.validate_bytes class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;validate_bytes </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.validate_esphome_version class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;validate_esphome_version </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.validate_id_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;validate_id_name </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.validate_registry class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;validate_registry </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.validate_registry_entry class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;validate_registry_entry </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.validate_source_shorthand class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;validate_source_shorthand </span> </a> </li> <li class=md-nav__item> <a href=#config_validation.version_number class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;version_number </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <div class="post-head-wrapper-text-only "> </div> <a href="https://github.com/nielsnl68/developers.esphome.io/edit/main/docs/references/python scripts/yaml_validation/index.md" title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg> </a> <div> <h1 style> YAML config validation tools </h1> </div> <hr> <div class="doc doc-object doc-module"> <div class="doc doc-contents first"> <p>Helpers for config validation using voluptuous.</p> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.FinalExternalInvalid href=#config_validation.FinalExternalInvalid>FinalExternalInvalid</a></code></b> – <div class=doc-md-description> <p>Represents an invalid value in the final validation phase where the path should not be prepended.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.GenerateID href=#config_validation.GenerateID>GenerateID</a></code></b> – <div class=doc-md-description> <p>Mark this key as being an auto-generated ID key.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.OnlyWith href=#config_validation.OnlyWith>OnlyWith</a></code></b> – <div class=doc-md-description> <p>Set the default value only if the given component is loaded.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Optional href=#config_validation.Optional>Optional</a></code></b> – <div class=doc-md-description> <p>Mark a field as optional and optionally define a default for the field.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Required href=#config_validation.Required>Required</a></code></b> – <div class=doc-md-description> <p>Define a field to be required to be set. The validated configuration is guaranteed</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.SplitDefault href=#config_validation.SplitDefault>SplitDefault</a></code></b> – <div class=doc-md-description> <p>Mark this key to have a split default for ESP8266/ESP32.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Version href=#config_validation.Version>Version</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <p><span class=doc-section-title>Functions:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.alphanumeric href=#config_validation.alphanumeric>alphanumeric</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.bind_key href=#config_validation.bind_key>bind_key</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.boolean href=#config_validation.boolean>boolean</a></code></b> – <div class=doc-md-description> <p>Validate the given config option to be a boolean.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.boolean_false href=#config_validation.boolean_false>boolean_false</a></code></b> – <div class=doc-md-description> <p>Validate the given config option to be a boolean, set to False.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.check_not_templatable href=#config_validation.check_not_templatable>check_not_templatable</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.color_temperature href=#config_validation.color_temperature>color_temperature</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.date_time href=#config_validation.date_time>date_time</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.declare_id href=#config_validation.declare_id>declare_id</a></code></b> – <div class=doc-md-description> <p>Declare that this configuration option should be used to declare a variable ID</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.dimensions href=#config_validation.dimensions>dimensions</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.directory href=#config_validation.directory>directory</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.domain href=#config_validation.domain>domain</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.domain_name href=#config_validation.domain_name>domain_name</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.ensure_list href=#config_validation.ensure_list>ensure_list</a></code></b> – <div class=doc-md-description> <p>Validate this configuration option to be a list.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.ensure_schema href=#config_validation.ensure_schema>ensure_schema</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.entity_category href=#config_validation.entity_category>entity_category</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.entity_id href=#config_validation.entity_id>entity_id</a></code></b> – <div class=doc-md-description> <p>Validate that this option represents a valid Home Assistant entity id.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.enum href=#config_validation.enum>enum</a></code></b> – <div class=doc-md-description> <p>Validate this config option against an enum mapping.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.extract_keys href=#config_validation.extract_keys>extract_keys</a></code></b> – <div class=doc-md-description> <p>Extract the names of the keys from the given schema.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.file_ href=#config_validation.file_>file_</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.float_range href=#config_validation.float_range>float_range</a></code></b> – <div class=doc-md-description> <p>Validate that the config option is a floating point number in the given range.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.float_with_unit href=#config_validation.float_with_unit>float_with_unit</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.git_ref href=#config_validation.git_ref>git_ref</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.has_at_least_one_key href=#config_validation.has_at_least_one_key>has_at_least_one_key</a></code></b> – <div class=doc-md-description> <p>Validate that at least one of the given keys exist in the config.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.has_at_most_one_key href=#config_validation.has_at_most_one_key>has_at_most_one_key</a></code></b> – <div class=doc-md-description> <p>Validate that at most one of the given keys exist in the config.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.has_exactly_one_key href=#config_validation.has_exactly_one_key>has_exactly_one_key</a></code></b> – <div class=doc-md-description> <p>Validate that exactly one of the given keys exist in the config.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.has_none_or_all_keys href=#config_validation.has_none_or_all_keys>has_none_or_all_keys</a></code></b> – <div class=doc-md-description> <p>Validate that none or all of the given keys exist in the config.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.hex_int href=#config_validation.hex_int>hex_int</a></code></b> – <div class=doc-md-description> <p>Validate the given value to be a hex integer. This is mostly for cosmetic</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.hex_int_range href=#config_validation.hex_int_range>hex_int_range</a></code></b> – <div class=doc-md-description> <p>Validate that the config option is an integer in the given range.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.hostname href=#config_validation.hostname>hostname</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.icon href=#config_validation.icon>icon</a></code></b> – <div class=doc-md-description> <p>Validate that a given config value is a valid icon.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.int_ href=#config_validation.int_>int_</a></code></b> – <div class=doc-md-description> <p>Validate that the config option is an integer.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.int_range href=#config_validation.int_range>int_range</a></code></b> – <div class=doc-md-description> <p>Validate that the config option is an integer in the given range.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.invalid href=#config_validation.invalid>invalid</a></code></b> – <div class=doc-md-description> <p>Mark this value as invalid. Each time <em>any</em> value is passed here it will result in a</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.ipv4 href=#config_validation.ipv4>ipv4</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.lambda_ href=#config_validation.lambda_>lambda_</a></code></b> – <div class=doc-md-description> <p>Coerce this configuration option to a lambda.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.mac_address href=#config_validation.mac_address>mac_address</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.maybe_simple_value href=#config_validation.maybe_simple_value>maybe_simple_value</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.mqtt_payload href=#config_validation.mqtt_payload>mqtt_payload</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.mqtt_qos href=#config_validation.mqtt_qos>mqtt_qos</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.none href=#config_validation.none>none</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.one_of href=#config_validation.one_of>one_of</a></code></b> – <div class=doc-md-description> <p>Validate that the config option is one of the given values.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.only_on href=#config_validation.only_on>only_on</a></code></b> – <div class=doc-md-description> <p>Validate that this option can only be specified on the given target platforms.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.only_with_framework href=#config_validation.only_with_framework>only_with_framework</a></code></b> – <div class=doc-md-description> <p>Validate that this option can only be specified on the given frameworks.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.percentage href=#config_validation.percentage>percentage</a></code></b> – <div class=doc-md-description> <p>Validate that the value is a percentage.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.percentage_int href=#config_validation.percentage_int>percentage_int</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.platformio_version_constraint href=#config_validation.platformio_version_constraint>platformio_version_constraint</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.polling_component_schema href=#config_validation.polling_component_schema>polling_component_schema</a></code></b> – <div class=doc-md-description> <p>Validate that this component represents a PollingComponent with a configurable</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.possibly_negative_percentage href=#config_validation.possibly_negative_percentage>possibly_negative_percentage</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.prepend_path href=#config_validation.prepend_path>prepend_path</a></code></b> – <div class=doc-md-description> <p>A contextmanager helper to prepend a path to all voluptuous errors.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.publish_topic href=#config_validation.publish_topic>publish_topic</a></code></b> – <div class=doc-md-description> <p>Validate that we can publish using this MQTT topic.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.remove_prepend_path href=#config_validation.remove_prepend_path>remove_prepend_path</a></code></b> – <div class=doc-md-description> <p>A contextmanager helper to remove a path from a voluptuous error.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.rename_key href=#config_validation.rename_key>rename_key</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.require_esphome_version href=#config_validation.require_esphome_version>require_esphome_version</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.require_framework_version href=#config_validation.require_framework_version>require_framework_version</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.requires_component href=#config_validation.requires_component>requires_component</a></code></b> – <div class=doc-md-description> <p>Validate that this option can only be specified when the component <code>comp</code> is loaded.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.requires_friendly_name href=#config_validation.requires_friendly_name>requires_friendly_name</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.returning_lambda href=#config_validation.returning_lambda>returning_lambda</a></code></b> – <div class=doc-md-description> <p>Coerce this configuration option to a lambda.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.source_refresh href=#config_validation.source_refresh>source_refresh</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.ssid href=#config_validation.ssid>ssid</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.string href=#config_validation.string>string</a></code></b> – <div class=doc-md-description> <p>Validate that a configuration value is a string. If not, automatically converts to a string.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.string_strict href=#config_validation.string_strict>string_strict</a></code></b> – <div class=doc-md-description> <p>Like string, but only allows strings, and does not automatically convert other types to</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.subscribe_topic href=#config_validation.subscribe_topic>subscribe_topic</a></code></b> – <div class=doc-md-description> <p>Validate that we can subscribe using this MQTT topic.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.suppress_invalid href=#config_validation.suppress_invalid>suppress_invalid</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.temperature href=#config_validation.temperature>temperature</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.temperature_delta href=#config_validation.temperature_delta>temperature_delta</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.templatable href=#config_validation.templatable>templatable</a></code></b> – <div class=doc-md-description> <p>Validate that the configuration option can (optionally) be templated.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.time_of_day href=#config_validation.time_of_day>time_of_day</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.time_period_in_microseconds_ href=#config_validation.time_period_in_microseconds_>time_period_in_microseconds_</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.time_period_in_milliseconds_ href=#config_validation.time_period_in_milliseconds_>time_period_in_milliseconds_</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.time_period_in_minutes_ href=#config_validation.time_period_in_minutes_>time_period_in_minutes_</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.time_period_in_nanoseconds_ href=#config_validation.time_period_in_nanoseconds_>time_period_in_nanoseconds_</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.time_period_in_seconds_ href=#config_validation.time_period_in_seconds_>time_period_in_seconds_</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.time_period_str_colon href=#config_validation.time_period_str_colon>time_period_str_colon</a></code></b> – <div class=doc-md-description> <p>Validate and transform time offset with format HH:MM[:SS].</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.time_period_str_unit href=#config_validation.time_period_str_unit>time_period_str_unit</a></code></b> – <div class=doc-md-description> <p>Validate and transform time period with time unit and integer value.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.typed_schema href=#config_validation.typed_schema>typed_schema</a></code></b> – <div class=doc-md-description> <p>Create a schema that has a key to distinguish between schemas</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.update_interval href=#config_validation.update_interval>update_interval</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.url href=#config_validation.url>url</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.use_id href=#config_validation.use_id>use_id</a></code></b> – <div class=doc-md-description> <p>Declare that this configuration option should point to an ID with the given type.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.uuid href=#config_validation.uuid>uuid</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.valid href=#config_validation.valid>valid</a></code></b> – <div class=doc-md-description> <p>A validator that is always valid and returns the value as-is.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.valid_name href=#config_validation.valid_name>valid_name</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.validate_bytes href=#config_validation.validate_bytes>validate_bytes</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.validate_esphome_version href=#config_validation.validate_esphome_version>validate_esphome_version</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.validate_id_name href=#config_validation.validate_id_name>validate_id_name</a></code></b> – <div class=doc-md-description> <p>Validate that the given value would be a valid C++ identifier name.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.validate_registry href=#config_validation.validate_registry>validate_registry</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.validate_registry_entry href=#config_validation.validate_registry_entry>validate_registry_entry</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.validate_source_shorthand href=#config_validation.validate_source_shorthand>validate_source_shorthand</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.version_number href=#config_validation.version_number>version_number</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <p><span class=doc-section-title>Attributes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.ALLOW_EXTRA href=#config_validation.ALLOW_EXTRA>ALLOW_EXTRA</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.All href=#config_validation.All>All</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Any href=#config_validation.Any>Any</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.COMPONENT_SCHEMA href=#config_validation.COMPONENT_SCHEMA>COMPONENT_SCHEMA</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Coerce href=#config_validation.Coerce>Coerce</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.ENTITY_BASE_SCHEMA href=#config_validation.ENTITY_BASE_SCHEMA>ENTITY_BASE_SCHEMA</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.ENTITY_CATEGORIES href=#config_validation.ENTITY_CATEGORIES>ENTITY_CATEGORIES</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.ENTITY_ID_CHARACTERS href=#config_validation.ENTITY_ID_CHARACTERS>ENTITY_ID_CHARACTERS</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Exclusive href=#config_validation.Exclusive>Exclusive</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.GIT_SCHEMA href=#config_validation.GIT_SCHEMA>GIT_SCHEMA</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Inclusive href=#config_validation.Inclusive>Inclusive</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Invalid href=#config_validation.Invalid>Invalid</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.LAMBDA_ENTITY_ID_PROG href=#config_validation.LAMBDA_ENTITY_ID_PROG>LAMBDA_ENTITY_ID_PROG</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.LOCAL_SCHEMA href=#config_validation.LOCAL_SCHEMA>LOCAL_SCHEMA</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Length href=#config_validation.Length>Length</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Lower href=#config_validation.Lower>Lower</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.METRIC_SUFFIXES href=#config_validation.METRIC_SUFFIXES>METRIC_SUFFIXES</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.MQTT_COMMAND_COMPONENT_SCHEMA href=#config_validation.MQTT_COMMAND_COMPONENT_SCHEMA>MQTT_COMMAND_COMPONENT_SCHEMA</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.MQTT_COMPONENT_AVAILABILITY_SCHEMA href=#config_validation.MQTT_COMPONENT_AVAILABILITY_SCHEMA>MQTT_COMPONENT_AVAILABILITY_SCHEMA</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.MQTT_COMPONENT_SCHEMA href=#config_validation.MQTT_COMPONENT_SCHEMA>MQTT_COMPONENT_SCHEMA</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.MultipleInvalid href=#config_validation.MultipleInvalid>MultipleInvalid</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.RESERVED_IDS href=#config_validation.RESERVED_IDS>RESERVED_IDS</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.ROOT_CONFIG_PATH href=#config_validation.ROOT_CONFIG_PATH>ROOT_CONFIG_PATH</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Range href=#config_validation.Range>Range</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.RequiredFieldInvalid href=#config_validation.RequiredFieldInvalid>RequiredFieldInvalid</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.SOURCE_SCHEMA href=#config_validation.SOURCE_SCHEMA>SOURCE_SCHEMA</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Schema href=#config_validation.Schema>Schema</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.TIME_PERIOD_ERROR href=#config_validation.TIME_PERIOD_ERROR>TIME_PERIOD_ERROR</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.UNDEFINED href=#config_validation.UNDEFINED>UNDEFINED</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Upper href=#config_validation.Upper>Upper</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.VARIABLE_PROG href=#config_validation.VARIABLE_PROG>VARIABLE_PROG</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.angle href=#config_validation.angle>angle</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.current href=#config_validation.current>current</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.decibel href=#config_validation.decibel>decibel</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.distance href=#config_validation.distance>distance</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.float_ href=#config_validation.float_>float_</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.framerate href=#config_validation.framerate>framerate</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.frequency href=#config_validation.frequency>frequency</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.hex_uint16_t href=#config_validation.hex_uint16_t>hex_uint16_t</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.hex_uint32_t href=#config_validation.hex_uint32_t>hex_uint32_t</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.hex_uint64_t href=#config_validation.hex_uint64_t>hex_uint64_t</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.hex_uint8_t href=#config_validation.hex_uint8_t>hex_uint8_t</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.i2c_address href=#config_validation.i2c_address>i2c_address</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.negative_one_to_one_float href=#config_validation.negative_one_to_one_float>negative_one_to_one_float</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.only_on_esp32 href=#config_validation.only_on_esp32>only_on_esp32</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.only_on_esp8266 href=#config_validation.only_on_esp8266>only_on_esp8266</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.only_on_rp2040 href=#config_validation.only_on_rp2040>only_on_rp2040</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.only_with_arduino href=#config_validation.only_with_arduino>only_with_arduino</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.only_with_esp_idf href=#config_validation.only_with_esp_idf>only_with_esp_idf</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.port href=#config_validation.port>port</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.positive_float href=#config_validation.positive_float>positive_float</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.positive_int href=#config_validation.positive_int>positive_int</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.positive_not_null_float href=#config_validation.positive_not_null_float>positive_not_null_float</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.positive_not_null_int href=#config_validation.positive_not_null_int>positive_not_null_int</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.positive_not_null_time_period href=#config_validation.positive_not_null_time_period>positive_not_null_time_period</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.positive_time_period href=#config_validation.positive_time_period>positive_time_period</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.positive_time_period_microseconds href=#config_validation.positive_time_period_microseconds>positive_time_period_microseconds</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.positive_time_period_milliseconds href=#config_validation.positive_time_period_milliseconds>positive_time_period_milliseconds</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.positive_time_period_minutes href=#config_validation.positive_time_period_minutes>positive_time_period_minutes</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.positive_time_period_nanoseconds href=#config_validation.positive_time_period_nanoseconds>positive_time_period_nanoseconds</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.positive_time_period_seconds href=#config_validation.positive_time_period_seconds>positive_time_period_seconds</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.pressure href=#config_validation.pressure>pressure</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.resistance href=#config_validation.resistance>resistance</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.time_period href=#config_validation.time_period>time_period</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.time_period_dict href=#config_validation.time_period_dict>time_period_dict</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.time_period_microseconds href=#config_validation.time_period_microseconds>time_period_microseconds</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.uint16_t href=#config_validation.uint16_t>uint16_t</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.uint32_t href=#config_validation.uint32_t>uint32_t</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.uint64_t href=#config_validation.uint64_t>uint64_t</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.uint8_t href=#config_validation.uint8_t>uint8_t</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.voltage href=#config_validation.voltage>voltage</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.zero_to_one_float href=#config_validation.zero_to_one_float>zero_to_one_float</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <h2 id=config_validation-attributes>Attributes<a href=#config_validation-attributes class=headerlink title="Anchor link to this section for reference">&para;</a></h2> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.ALLOW_EXTRA class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>ALLOW_EXTRA</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>ALLOW_EXTRA</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.ALLOW_EXTRA class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.All class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>All</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>All</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.All class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.Any class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>Any</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>Any</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.Any class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.COMPONENT_SCHEMA class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>COMPONENT_SCHEMA</span> <span class=o>=</span> <span class=n>Schema</span><span class=p>({</span><span class=n>Optional</span><span class=p>(</span><span class=n>CONF_SETUP_PRIORITY</span><span class=p>):</span> <span class=n>float_</span><span class=p>})</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.COMPONENT_SCHEMA class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.Coerce class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>Coerce</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>Coerce</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.Coerce class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.ENTITY_BASE_SCHEMA class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>ENTITY_BASE_SCHEMA</span> <span class=o>=</span> <span class=n>Schema</span><span class=p>({</span><span class=n>Optional</span><span class=p>(</span><span class=n>CONF_NAME</span><span class=p>):</span> <span class=n>_validate_entity_name</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_INTERNAL</span><span class=p>):</span> <span class=n>boolean</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_DISABLED_BY_DEFAULT</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span> <span class=n>boolean</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_ICON</span><span class=p>):</span> <span class=n>icon</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_ENTITY_CATEGORY</span><span class=p>):</span> <span class=n>entity_category</span><span class=p>})</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.ENTITY_BASE_SCHEMA class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.ENTITY_CATEGORIES class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>ENTITY_CATEGORIES</span> <span class=o>=</span> <span class=p>{</span><span class=n>ENTITY_CATEGORY_NONE</span><span class=p>:</span> <span class=n>cg</span><span class=o>.</span><span class=n>EntityCategory</span><span class=o>.</span><span class=n>ENTITY_CATEGORY_NONE</span><span class=p>,</span> <span class=n>ENTITY_CATEGORY_CONFIG</span><span class=p>:</span> <span class=n>cg</span><span class=o>.</span><span class=n>EntityCategory</span><span class=o>.</span><span class=n>ENTITY_CATEGORY_CONFIG</span><span class=p>,</span> <span class=n>ENTITY_CATEGORY_DIAGNOSTIC</span><span class=p>:</span> <span class=n>cg</span><span class=o>.</span><span class=n>EntityCategory</span><span class=o>.</span><span class=n>ENTITY_CATEGORY_DIAGNOSTIC</span><span class=p>}</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.ENTITY_CATEGORIES class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.ENTITY_ID_CHARACTERS class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>ENTITY_ID_CHARACTERS</span> <span class=o>=</span> <span class=s1>&#39;abcdefghijklmnopqrstuvwxyz0123456789_&#39;</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.ENTITY_ID_CHARACTERS class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.Exclusive class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>Exclusive</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>Exclusive</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.Exclusive class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.GIT_SCHEMA class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>GIT_SCHEMA</span> <span class=o>=</span> <span class=n>Schema</span><span class=p>({</span><span class=n>Required</span><span class=p>(</span><span class=n>CONF_URL</span><span class=p>):</span> <span class=n>url</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_REF</span><span class=p>):</span> <span class=n>git_ref</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_USERNAME</span><span class=p>):</span> <span class=n>string</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_PASSWORD</span><span class=p>):</span> <span class=n>string</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_PATH</span><span class=p>):</span> <span class=n>string</span><span class=p>})</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.GIT_SCHEMA class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.Inclusive class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>Inclusive</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>Inclusive</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.Inclusive class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.Invalid class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>Invalid</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>Invalid</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.Invalid class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.LAMBDA_ENTITY_ID_PROG class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>LAMBDA_ENTITY_ID_PROG</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\\</span><span class=s1>Wid</span><span class=se>\\</span><span class=s1>(</span><span class=se>\\</span><span class=s1>s*([a-zA-Z0-9_]+</span><span class=se>\\</span><span class=s1>.[.a-zA-Z0-9_]+)</span><span class=se>\\</span><span class=s1>s*</span><span class=se>\\</span><span class=s1>)&#39;</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.LAMBDA_ENTITY_ID_PROG class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.LOCAL_SCHEMA class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>LOCAL_SCHEMA</span> <span class=o>=</span> <span class=n>Schema</span><span class=p>({</span><span class=n>Required</span><span class=p>(</span><span class=n>CONF_PATH</span><span class=p>):</span> <span class=n>directory</span><span class=p>})</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.LOCAL_SCHEMA class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.Length class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>Length</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>Length</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.Length class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.Lower class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>Lower</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>Lower</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.Lower class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.METRIC_SUFFIXES class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>METRIC_SUFFIXES</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;E&#39;</span><span class=p>:</span> <span class=mf>1e+18</span><span class=p>,</span> <span class=s1>&#39;P&#39;</span><span class=p>:</span> <span class=mf>1000000000000000.0</span><span class=p>,</span> <span class=s1>&#39;T&#39;</span><span class=p>:</span> <span class=mf>1000000000000.0</span><span class=p>,</span> <span class=s1>&#39;G&#39;</span><span class=p>:</span> <span class=mf>1000000000.0</span><span class=p>,</span> <span class=s1>&#39;M&#39;</span><span class=p>:</span> <span class=mf>1000000.0</span><span class=p>,</span> <span class=s1>&#39;k&#39;</span><span class=p>:</span> <span class=mf>1000.0</span><span class=p>,</span> <span class=s1>&#39;da&#39;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mf>0.1</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=mf>0.01</span><span class=p>,</span> <span class=s1>&#39;m&#39;</span><span class=p>:</span> <span class=mf>0.001</span><span class=p>,</span> <span class=s1>&#39;µ&#39;</span><span class=p>:</span> <span class=mf>1e-06</span><span class=p>,</span> <span class=s1>&#39;u&#39;</span><span class=p>:</span> <span class=mf>1e-06</span><span class=p>,</span> <span class=s1>&#39;n&#39;</span><span class=p>:</span> <span class=mf>1e-09</span><span class=p>,</span> <span class=s1>&#39;p&#39;</span><span class=p>:</span> <span class=mf>1e-12</span><span class=p>,</span> <span class=s1>&#39;f&#39;</span><span class=p>:</span> <span class=mf>1e-15</span><span class=p>,</span> <span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mf>1e-18</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>}</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.METRIC_SUFFIXES class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.MQTT_COMMAND_COMPONENT_SCHEMA class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>MQTT_COMMAND_COMPONENT_SCHEMA</span> <span class=o>=</span> <span class=n>MQTT_COMPONENT_SCHEMA</span><span class=o>.</span><span class=n>extend</span><span class=p>({</span><span class=n>Optional</span><span class=p>(</span><span class=n>CONF_COMMAND_TOPIC</span><span class=p>):</span> <span class=n>All</span><span class=p>(</span><span class=n>requires_component</span><span class=p>(</span><span class=s1>&#39;mqtt&#39;</span><span class=p>),</span> <span class=n>subscribe_topic</span><span class=p>),</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_COMMAND_RETAIN</span><span class=p>):</span> <span class=n>All</span><span class=p>(</span><span class=n>requires_component</span><span class=p>(</span><span class=s1>&#39;mqtt&#39;</span><span class=p>),</span> <span class=n>boolean</span><span class=p>)})</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.MQTT_COMMAND_COMPONENT_SCHEMA class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.MQTT_COMPONENT_AVAILABILITY_SCHEMA class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>MQTT_COMPONENT_AVAILABILITY_SCHEMA</span> <span class=o>=</span> <span class=n>Schema</span><span class=p>({</span><span class=n>Required</span><span class=p>(</span><span class=n>CONF_TOPIC</span><span class=p>):</span> <span class=n>subscribe_topic</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_PAYLOAD_AVAILABLE</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=s1>&#39;online&#39;</span><span class=p>):</span> <span class=n>mqtt_payload</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_PAYLOAD_NOT_AVAILABLE</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=s1>&#39;offline&#39;</span><span class=p>):</span> <span class=n>mqtt_payload</span><span class=p>})</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.MQTT_COMPONENT_AVAILABILITY_SCHEMA class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.MQTT_COMPONENT_SCHEMA class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>MQTT_COMPONENT_SCHEMA</span> <span class=o>=</span> <span class=n>Schema</span><span class=p>({</span><span class=n>Optional</span><span class=p>(</span><span class=n>CONF_QOS</span><span class=p>):</span> <span class=n>All</span><span class=p>(</span><span class=n>requires_component</span><span class=p>(</span><span class=s1>&#39;mqtt&#39;</span><span class=p>),</span> <span class=n>mqtt_qos</span><span class=p>),</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_RETAIN</span><span class=p>):</span> <span class=n>All</span><span class=p>(</span><span class=n>requires_component</span><span class=p>(</span><span class=s1>&#39;mqtt&#39;</span><span class=p>),</span> <span class=n>boolean</span><span class=p>),</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_DISCOVERY</span><span class=p>):</span> <span class=n>All</span><span class=p>(</span><span class=n>requires_component</span><span class=p>(</span><span class=s1>&#39;mqtt&#39;</span><span class=p>),</span> <span class=n>boolean</span><span class=p>),</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_SUBSCRIBE_QOS</span><span class=p>):</span> <span class=n>All</span><span class=p>(</span><span class=n>requires_component</span><span class=p>(</span><span class=s1>&#39;mqtt&#39;</span><span class=p>),</span> <span class=n>mqtt_qos</span><span class=p>),</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_STATE_TOPIC</span><span class=p>):</span> <span class=n>All</span><span class=p>(</span><span class=n>requires_component</span><span class=p>(</span><span class=s1>&#39;mqtt&#39;</span><span class=p>),</span> <span class=n>publish_topic</span><span class=p>),</span> <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_AVAILABILITY</span><span class=p>):</span> <span class=n>All</span><span class=p>(</span><span class=n>requires_component</span><span class=p>(</span><span class=s1>&#39;mqtt&#39;</span><span class=p>),</span> <span class=n>Any</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>MQTT_COMPONENT_AVAILABILITY_SCHEMA</span><span class=p>))})</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.MQTT_COMPONENT_SCHEMA class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.MultipleInvalid class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>MultipleInvalid</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>MultipleInvalid</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.MultipleInvalid class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.RESERVED_IDS class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>RESERVED_IDS</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;alarm&#39;</span><span class=p>,</span> <span class=s1>&#39;alignas&#39;</span><span class=p>,</span> <span class=s1>&#39;alignof&#39;</span><span class=p>,</span> <span class=s1>&#39;and&#39;</span><span class=p>,</span> <span class=s1>&#39;and_eq&#39;</span><span class=p>,</span> <span class=s1>&#39;asm&#39;</span><span class=p>,</span> <span class=s1>&#39;auto&#39;</span><span class=p>,</span> <span class=s1>&#39;bitand&#39;</span><span class=p>,</span> <span class=s1>&#39;bitor&#39;</span><span class=p>,</span> <span class=s1>&#39;bool&#39;</span><span class=p>,</span> <span class=s1>&#39;break&#39;</span><span class=p>,</span> <span class=s1>&#39;case&#39;</span><span class=p>,</span> <span class=s1>&#39;catch&#39;</span><span class=p>,</span> <span class=s1>&#39;char&#39;</span><span class=p>,</span> <span class=s1>&#39;char16_t&#39;</span><span class=p>,</span> <span class=s1>&#39;char32_t&#39;</span><span class=p>,</span> <span class=s1>&#39;class&#39;</span><span class=p>,</span> <span class=s1>&#39;clock&#39;</span><span class=p>,</span> <span class=s1>&#39;compl&#39;</span><span class=p>,</span> <span class=s1>&#39;concept&#39;</span><span class=p>,</span> <span class=s1>&#39;const&#39;</span><span class=p>,</span> <span class=s1>&#39;constexpr&#39;</span><span class=p>,</span> <span class=s1>&#39;const_cast&#39;</span><span class=p>,</span> <span class=s1>&#39;continue&#39;</span><span class=p>,</span> <span class=s1>&#39;decltype&#39;</span><span class=p>,</span> <span class=s1>&#39;default&#39;</span><span class=p>,</span> <span class=s1>&#39;delete&#39;</span><span class=p>,</span> <span class=s1>&#39;do&#39;</span><span class=p>,</span> <span class=s1>&#39;double&#39;</span><span class=p>,</span> <span class=s1>&#39;dynamic_cast&#39;</span><span class=p>,</span> <span class=s1>&#39;else&#39;</span><span class=p>,</span> <span class=s1>&#39;enum&#39;</span><span class=p>,</span> <span class=s1>&#39;explicit&#39;</span><span class=p>,</span> <span class=s1>&#39;export&#39;</span><span class=p>,</span> <span class=s1>&#39;export&#39;</span><span class=p>,</span> <span class=s1>&#39;extern&#39;</span><span class=p>,</span> <span class=s1>&#39;false&#39;</span><span class=p>,</span> <span class=s1>&#39;float&#39;</span><span class=p>,</span> <span class=s1>&#39;for&#39;</span><span class=p>,</span> <span class=s1>&#39;friend&#39;</span><span class=p>,</span> <span class=s1>&#39;goto&#39;</span><span class=p>,</span> <span class=s1>&#39;if&#39;</span><span class=p>,</span> <span class=s1>&#39;inline&#39;</span><span class=p>,</span> <span class=s1>&#39;int&#39;</span><span class=p>,</span> <span class=s1>&#39;long&#39;</span><span class=p>,</span> <span class=s1>&#39;mutable&#39;</span><span class=p>,</span> <span class=s1>&#39;namespace&#39;</span><span class=p>,</span> <span class=s1>&#39;new&#39;</span><span class=p>,</span> <span class=s1>&#39;noexcept&#39;</span><span class=p>,</span> <span class=s1>&#39;not&#39;</span><span class=p>,</span> <span class=s1>&#39;not_eq&#39;</span><span class=p>,</span> <span class=s1>&#39;nullptr&#39;</span><span class=p>,</span> <span class=s1>&#39;operator&#39;</span><span class=p>,</span> <span class=s1>&#39;or&#39;</span><span class=p>,</span> <span class=s1>&#39;or_eq&#39;</span><span class=p>,</span> <span class=s1>&#39;private&#39;</span><span class=p>,</span> <span class=s1>&#39;protected&#39;</span><span class=p>,</span> <span class=s1>&#39;public&#39;</span><span class=p>,</span> <span class=s1>&#39;register&#39;</span><span class=p>,</span> <span class=s1>&#39;reinterpret_cast&#39;</span><span class=p>,</span> <span class=s1>&#39;requires&#39;</span><span class=p>,</span> <span class=s1>&#39;return&#39;</span><span class=p>,</span> <span class=s1>&#39;short&#39;</span><span class=p>,</span> <span class=s1>&#39;signed&#39;</span><span class=p>,</span> <span class=s1>&#39;sizeof&#39;</span><span class=p>,</span> <span class=s1>&#39;static&#39;</span><span class=p>,</span> <span class=s1>&#39;static_assert&#39;</span><span class=p>,</span> <span class=s1>&#39;static_cast&#39;</span><span class=p>,</span> <span class=s1>&#39;struct&#39;</span><span class=p>,</span> <span class=s1>&#39;switch&#39;</span><span class=p>,</span> <span class=s1>&#39;template&#39;</span><span class=p>,</span> <span class=s1>&#39;text&#39;</span><span class=p>,</span> <span class=s1>&#39;this&#39;</span><span class=p>,</span> <span class=s1>&#39;thread_local&#39;</span><span class=p>,</span> <span class=s1>&#39;throw&#39;</span><span class=p>,</span> <span class=s1>&#39;true&#39;</span><span class=p>,</span> <span class=s1>&#39;try&#39;</span><span class=p>,</span> <span class=s1>&#39;typedef&#39;</span><span class=p>,</span> <span class=s1>&#39;typeid&#39;</span><span class=p>,</span> <span class=s1>&#39;typename&#39;</span><span class=p>,</span> <span class=s1>&#39;union&#39;</span><span class=p>,</span> <span class=s1>&#39;unsigned&#39;</span><span class=p>,</span> <span class=s1>&#39;using&#39;</span><span class=p>,</span> <span class=s1>&#39;virtual&#39;</span><span class=p>,</span> <span class=s1>&#39;void&#39;</span><span class=p>,</span> <span class=s1>&#39;volatile&#39;</span><span class=p>,</span> <span class=s1>&#39;wchar_t&#39;</span><span class=p>,</span> <span class=s1>&#39;while&#39;</span><span class=p>,</span> <span class=s1>&#39;xor&#39;</span><span class=p>,</span> <span class=s1>&#39;xor_eq&#39;</span><span class=p>,</span> <span class=s1>&#39;App&#39;</span><span class=p>,</span> <span class=s1>&#39;pinMode&#39;</span><span class=p>,</span> <span class=s1>&#39;delay&#39;</span><span class=p>,</span> <span class=s1>&#39;delayMicroseconds&#39;</span><span class=p>,</span> <span class=s1>&#39;digitalRead&#39;</span><span class=p>,</span> <span class=s1>&#39;digitalWrite&#39;</span><span class=p>,</span> <span class=s1>&#39;INPUT&#39;</span><span class=p>,</span> <span class=s1>&#39;OUTPUT&#39;</span><span class=p>,</span> <span class=s1>&#39;uint8_t&#39;</span><span class=p>,</span> <span class=s1>&#39;uint16_t&#39;</span><span class=p>,</span> <span class=s1>&#39;uint32_t&#39;</span><span class=p>,</span> <span class=s1>&#39;uint64_t&#39;</span><span class=p>,</span> <span class=s1>&#39;int8_t&#39;</span><span class=p>,</span> <span class=s1>&#39;int16_t&#39;</span><span class=p>,</span> <span class=s1>&#39;int32_t&#39;</span><span class=p>,</span> <span class=s1>&#39;int64_t&#39;</span><span class=p>,</span> <span class=s1>&#39;close&#39;</span><span class=p>,</span> <span class=s1>&#39;pause&#39;</span><span class=p>,</span> <span class=s1>&#39;sleep&#39;</span><span class=p>,</span> <span class=s1>&#39;open&#39;</span><span class=p>,</span> <span class=s1>&#39;setup&#39;</span><span class=p>,</span> <span class=s1>&#39;loop&#39;</span><span class=p>,</span> <span class=s1>&#39;uart0&#39;</span><span class=p>,</span> <span class=s1>&#39;uart1&#39;</span><span class=p>,</span> <span class=s1>&#39;uart2&#39;</span><span class=p>]</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.RESERVED_IDS class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.ROOT_CONFIG_PATH class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>ROOT_CONFIG_PATH</span> <span class=o>=</span> <span class=nb>object</span><span class=p>()</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.ROOT_CONFIG_PATH class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.Range class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>Range</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>Range</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.Range class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.RequiredFieldInvalid class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>RequiredFieldInvalid</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>RequiredFieldInvalid</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.RequiredFieldInvalid class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.SOURCE_SCHEMA class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>SOURCE_SCHEMA</span> <span class=o>=</span> <span class=n>Any</span><span class=p>(</span><span class=n>validate_source_shorthand</span><span class=p>,</span> <span class=n>typed_schema</span><span class=p>({</span><span class=n>TYPE_GIT</span><span class=p>:</span> <span class=n>GIT_SCHEMA</span><span class=p>,</span> <span class=n>TYPE_LOCAL</span><span class=p>:</span> <span class=n>LOCAL_SCHEMA</span><span class=p>}))</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.SOURCE_SCHEMA class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.Schema class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>Schema</span> <span class=o>=</span> <span class=n>_Schema</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.Schema class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.TIME_PERIOD_ERROR class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>TIME_PERIOD_ERROR</span> <span class=o>=</span> <span class=s1>&#39;Time period </span><span class=si>{}</span><span class=s1> should be format number + unit, for example 5ms, 5s, 5min, 5h&#39;</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.TIME_PERIOD_ERROR class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.UNDEFINED class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>UNDEFINED</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.UNDEFINED class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.Upper class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>Upper</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>Upper</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.Upper class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.VARIABLE_PROG class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>VARIABLE_PROG</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;\$([</span><span class=si>{</span><span class=n>VALID_SUBSTITUTIONS_CHARACTERS</span><span class=si>}</span><span class=s1>]+|\</span><span class=si>{</span><span class=p>[{</span><span class=n>VALID_SUBSTITUTIONS_CHARACTERS</span><span class=p>}]</span><span class=o>*</span><span class=err>\</span><span class=si>}</span><span class=s1>)&#39;</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.VARIABLE_PROG class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.angle class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>angle</span> <span class=o>=</span> <span class=n>float_with_unit</span><span class=p>(</span><span class=s1>&#39;angle&#39;</span><span class=p>,</span> <span class=s1>&#39;(°|deg)&#39;</span><span class=p>,</span> <span class=n>optional_unit</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.angle class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.current class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>current</span> <span class=o>=</span> <span class=n>float_with_unit</span><span class=p>(</span><span class=s1>&#39;current&#39;</span><span class=p>,</span> <span class=s1>&#39;(a|A|amp|Amp|amps|Amps|ampere|Ampere)?&#39;</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.current class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.decibel class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>decibel</span> <span class=o>=</span> <span class=n>float_with_unit</span><span class=p>(</span><span class=s1>&#39;decibel&#39;</span><span class=p>,</span> <span class=s1>&#39;(dB|dBm|db|dbm)&#39;</span><span class=p>,</span> <span class=n>optional_unit</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.decibel class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.distance class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>distance</span> <span class=o>=</span> <span class=n>float_with_unit</span><span class=p>(</span><span class=s1>&#39;distance&#39;</span><span class=p>,</span> <span class=s1>&#39;(m)&#39;</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.distance class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.float_ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>float_</span> <span class=o>=</span> <span class=n>Coerce</span><span class=p>(</span><span class=nb>float</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.float_ class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.framerate class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>framerate</span> <span class=o>=</span> <span class=n>float_with_unit</span><span class=p>(</span><span class=s1>&#39;framerate&#39;</span><span class=p>,</span> <span class=s1>&#39;(FPS|fps|Fps|FpS|Hz)&#39;</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.framerate class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.frequency class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>frequency</span> <span class=o>=</span> <span class=n>float_with_unit</span><span class=p>(</span><span class=s1>&#39;frequency&#39;</span><span class=p>,</span> <span class=s1>&#39;(Hz|HZ|hz)?&#39;</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.frequency class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.hex_uint16_t class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>hex_uint16_t</span> <span class=o>=</span> <span class=n>hex_int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>65535</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.hex_uint16_t class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.hex_uint32_t class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>hex_uint32_t</span> <span class=o>=</span> <span class=n>hex_int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>4294967295</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.hex_uint32_t class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.hex_uint64_t class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>hex_uint64_t</span> <span class=o>=</span> <span class=n>hex_int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>18446744073709551615</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.hex_uint64_t class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.hex_uint8_t class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>hex_uint8_t</span> <span class=o>=</span> <span class=n>hex_int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>255</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.hex_uint8_t class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.i2c_address class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>i2c_address</span> <span class=o>=</span> <span class=n>hex_uint8_t</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.i2c_address class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.negative_one_to_one_float class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>negative_one_to_one_float</span> <span class=o>=</span> <span class=n>float_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=-</span><span class=mi>1</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.negative_one_to_one_float class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.only_on_esp32 class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>only_on_esp32</span> <span class=o>=</span> <span class=n>only_on</span><span class=p>(</span><span class=n>PLATFORM_ESP32</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.only_on_esp32 class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.only_on_esp8266 class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>only_on_esp8266</span> <span class=o>=</span> <span class=n>only_on</span><span class=p>(</span><span class=n>PLATFORM_ESP8266</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.only_on_esp8266 class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.only_on_rp2040 class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>only_on_rp2040</span> <span class=o>=</span> <span class=n>only_on</span><span class=p>(</span><span class=n>PLATFORM_RP2040</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.only_on_rp2040 class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.only_with_arduino class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>only_with_arduino</span> <span class=o>=</span> <span class=n>only_with_framework</span><span class=p>(</span><span class=s1>&#39;arduino&#39;</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.only_with_arduino class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.only_with_esp_idf class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>only_with_esp_idf</span> <span class=o>=</span> <span class=n>only_with_framework</span><span class=p>(</span><span class=s1>&#39;esp-idf&#39;</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.only_with_esp_idf class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.port class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>port</span> <span class=o>=</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>65535</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.port class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.positive_float class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>positive_float</span> <span class=o>=</span> <span class=n>float_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.positive_float class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.positive_int class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>positive_int</span> <span class=o>=</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.positive_int class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.positive_not_null_float class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>positive_not_null_float</span> <span class=o>=</span> <span class=n>float_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>min_included</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.positive_not_null_float class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.positive_not_null_int class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>positive_not_null_int</span> <span class=o>=</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>min_included</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.positive_not_null_int class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.positive_not_null_time_period class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>positive_not_null_time_period</span> <span class=o>=</span> <span class=n>All</span><span class=p>(</span><span class=n>time_period</span><span class=p>,</span> <span class=n>Range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=n>TimePeriod</span><span class=p>(),</span> <span class=n>min_included</span><span class=o>=</span><span class=kc>False</span><span class=p>))</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.positive_not_null_time_period class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.positive_time_period class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>positive_time_period</span> <span class=o>=</span> <span class=n>All</span><span class=p>(</span><span class=n>time_period</span><span class=p>,</span> <span class=n>Range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=n>TimePeriod</span><span class=p>()))</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.positive_time_period class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.positive_time_period_microseconds class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>positive_time_period_microseconds</span> <span class=o>=</span> <span class=n>All</span><span class=p>(</span><span class=n>positive_time_period</span><span class=p>,</span> <span class=n>time_period_in_microseconds_</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.positive_time_period_microseconds class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.positive_time_period_milliseconds class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>positive_time_period_milliseconds</span> <span class=o>=</span> <span class=n>All</span><span class=p>(</span><span class=n>positive_time_period</span><span class=p>,</span> <span class=n>time_period_in_milliseconds_</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.positive_time_period_milliseconds class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.positive_time_period_minutes class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>positive_time_period_minutes</span> <span class=o>=</span> <span class=n>All</span><span class=p>(</span><span class=n>positive_time_period</span><span class=p>,</span> <span class=n>time_period_in_minutes_</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.positive_time_period_minutes class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.positive_time_period_nanoseconds class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>positive_time_period_nanoseconds</span> <span class=o>=</span> <span class=n>All</span><span class=p>(</span><span class=n>positive_time_period</span><span class=p>,</span> <span class=n>time_period_in_nanoseconds_</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.positive_time_period_nanoseconds class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.positive_time_period_seconds class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>positive_time_period_seconds</span> <span class=o>=</span> <span class=n>All</span><span class=p>(</span><span class=n>positive_time_period</span><span class=p>,</span> <span class=n>time_period_in_seconds_</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.positive_time_period_seconds class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.pressure class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>pressure</span> <span class=o>=</span> <span class=n>float_with_unit</span><span class=p>(</span><span class=s1>&#39;pressure&#39;</span><span class=p>,</span> <span class=s1>&#39;(bar|Bar)&#39;</span><span class=p>,</span> <span class=n>optional_unit</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.pressure class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.resistance class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>resistance</span> <span class=o>=</span> <span class=n>float_with_unit</span><span class=p>(</span><span class=s1>&#39;resistance&#39;</span><span class=p>,</span> <span class=s1>&#39;(Ω|Ω|ohm|Ohm|OHM)?&#39;</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.resistance class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.time_period class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>time_period</span> <span class=o>=</span> <span class=n>Any</span><span class=p>(</span><span class=n>time_period_str_unit</span><span class=p>,</span> <span class=n>time_period_str_colon</span><span class=p>,</span> <span class=n>time_period_dict</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.time_period class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.time_period_dict class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>time_period_dict</span> <span class=o>=</span> <span class=n>All</span><span class=p>(</span><span class=n>Schema</span><span class=p>({</span><span class=n>Optional</span><span class=p>(</span><span class=s1>&#39;days&#39;</span><span class=p>):</span> <span class=n>float_</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=s1>&#39;hours&#39;</span><span class=p>):</span> <span class=n>float_</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=s1>&#39;minutes&#39;</span><span class=p>):</span> <span class=n>float_</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=s1>&#39;seconds&#39;</span><span class=p>):</span> <span class=n>float_</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=s1>&#39;milliseconds&#39;</span><span class=p>):</span> <span class=n>float_</span><span class=p>,</span> <span class=n>Optional</span><span class=p>(</span><span class=s1>&#39;microseconds&#39;</span><span class=p>):</span> <span class=n>float_</span><span class=p>}),</span> <span class=n>has_at_least_one_key</span><span class=p>(</span><span class=s1>&#39;days&#39;</span><span class=p>,</span> <span class=s1>&#39;hours&#39;</span><span class=p>,</span> <span class=s1>&#39;minutes&#39;</span><span class=p>,</span> <span class=s1>&#39;seconds&#39;</span><span class=p>,</span> <span class=s1>&#39;milliseconds&#39;</span><span class=p>,</span> <span class=s1>&#39;microseconds&#39;</span><span class=p>),</span> <span class=k>lambda</span> <span class=n>value</span><span class=p>:</span> <span class=n>TimePeriod</span><span class=p>(</span><span class=o>**</span><span class=n>value</span><span class=p>))</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.time_period_dict class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.time_period_microseconds class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>time_period_microseconds</span> <span class=o>=</span> <span class=n>All</span><span class=p>(</span><span class=n>time_period</span><span class=p>,</span> <span class=n>time_period_in_microseconds_</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.time_period_microseconds class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.uint16_t class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>uint16_t</span> <span class=o>=</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>65535</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.uint16_t class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.uint32_t class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>uint32_t</span> <span class=o>=</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>4294967295</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.uint32_t class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.uint64_t class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>uint64_t</span> <span class=o>=</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>18446744073709551615</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.uint64_t class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.uint8_t class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>uint8_t</span> <span class=o>=</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>255</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.uint8_t class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.voltage class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>voltage</span> <span class=o>=</span> <span class=n>float_with_unit</span><span class=p>(</span><span class=s1>&#39;voltage&#39;</span><span class=p>,</span> <span class=s1>&#39;(v|V|volt|Volts)?&#39;</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.voltage class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=config_validation.zero_to_one_float class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>zero_to_one_float</span> <span class=o>=</span> <span class=n>float_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#config_validation.zero_to_one_float class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> </div> </div> <h2 id=config_validation-classes>Classes<a href=#config_validation-classes class=headerlink title="Anchor link to this section for reference">&para;</a></h2> <div class="doc doc-object doc-class"> <h3 id=config_validation.FinalExternalInvalid class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <code>FinalExternalInvalid</code> <a href=#config_validation.FinalExternalInvalid class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=config_validation.Invalid href=#config_validation.Invalid>Invalid</a></code></p> <p>Represents an invalid value in the final validation phase where the path should not be prepended.</p> </div> </div> <div class="doc doc-object doc-class"> <h3 id=config_validation.GenerateID class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <code class="highlight language-python"><span class=n>GenerateID</span><span class=p>(</span><span class=n>key</span><span class=o>=</span><span class=n>CONF_ID</span><span class=p>)</span></code> <a href=#config_validation.GenerateID class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=config_validation.Optional href=#config_validation.Optional>Optional</a></code></p> <p>Mark this key as being an auto-generated ID key.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1633>1633</a></span>
<span class=normal><a href=#__codelineno-0-1634>1634</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1633><a id=__codelineno-0-1633 name=__codelineno-0-1633></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=n>CONF_ID</span><span class=p>):</span>
</span><span id=__span-0-1634><a id=__codelineno-0-1634 name=__codelineno-0-1634></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=k>lambda</span><span class=p>:</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=config_validation.OnlyWith class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <code class="highlight language-python"><span class=n>OnlyWith</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>component</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> <a href=#config_validation.OnlyWith class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=config_validation.Optional href=#config_validation.Optional>Optional</a></code></p> <p>Set the default value only if the given component is loaded.</p> <p><span class=doc-section-title>Attributes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.OnlyWith.default href=#config_validation.OnlyWith.default>default</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1751>1751</a></span>
<span class=normal><a href=#__codelineno-0-1752>1752</a></span>
<span class=normal><a href=#__codelineno-0-1753>1753</a></span>
<span class=normal><a href=#__codelineno-0-1754>1754</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1751><a id=__codelineno-0-1751 name=__codelineno-0-1751></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>component</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-1752><a id=__codelineno-0-1752 name=__codelineno-0-1752></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span><span id=__span-0-1753><a id=__codelineno-0-1753 name=__codelineno-0-1753></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_component</span> <span class=o>=</span> <span class=n>component</span>
</span><span id=__span-0-1754><a id=__codelineno-0-1754 name=__codelineno-0-1754></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span><span class=n>default</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h4 id=config_validation.OnlyWith-attributes>Attributes<a href=#config_validation.OnlyWith-attributes class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc doc-object doc-attribute"> <h5 id=config_validation.OnlyWith.default class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>default</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a href=#config_validation.OnlyWith.default class=headerlink title="Anchor link to this section for reference">&para;</a></h5> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=config_validation.Optional class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <code class="highlight language-python"><span class=n>Optional</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=n>UNDEFINED</span><span class=p>)</span></code> <a href=#config_validation.Optional class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=voluptuous.Optional>Optional</span></code></p> <p>Mark a field as optional and optionally define a default for the field.</p> <p>When no default is defined, the validated config will not contain the key. You can check if the key is defined with 'CONF_<key> in config'. Or to access the key and return None if it does not exist, call config.get(CONF_<key>)</p> <p>If a default <em>is</em> set, the resulting validated config will always contain the default value. You can therefore directly access the value using the 'config[CONF_<key>]' syntax.</p> <p>In ESPHome, all configuration defaults should be defined with the Optional class during config validation - specifically <em>not</em> in the C++ code or the code generation phase.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-255>255</a></span>
<span class=normal><a href=#__codelineno-0-256>256</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-255><a id=__codelineno-0-255 name=__codelineno-0-255></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=n>UNDEFINED</span><span class=p>):</span>
</span><span id=__span-0-256><a id=__codelineno-0-256 name=__codelineno-0-256></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=n>default</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=config_validation.Required class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <code class="highlight language-python"><span class=n>Required</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>msg</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> <a href=#config_validation.Required class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=voluptuous.Required>Required</span></code></p> <p>Define a field to be required to be set. The validated configuration is guaranteed to contain this key.</p> <p>All required values should be acceessed with the <code>config[CONF_&lt;KEY&gt;]</code> syntax in code - <em>not</em> the <code>config.get(CONF_&lt;KEY&gt;)</code> syntax.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-267>267</a></span>
<span class=normal><a href=#__codelineno-0-268>268</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-267><a id=__codelineno-0-267 name=__codelineno-0-267></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>msg</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-268><a id=__codelineno-0-268 name=__codelineno-0-268></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>msg</span><span class=o>=</span><span class=n>msg</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=config_validation.SplitDefault class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <code class="highlight language-python"><span class=n>SplitDefault</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>esp8266</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>esp32</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>esp32_arduino</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>esp32_idf</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>esp32_s2</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>esp32_s2_arduino</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>esp32_s2_idf</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>esp32_s3</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>esp32_s3_arduino</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>esp32_s3_idf</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>esp32_c3</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>esp32_c3_arduino</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>esp32_c3_idf</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>rp2040</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>bk72xx</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>rtl87xx</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span> <span class=n>host</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>)</span></code> <a href=#config_validation.SplitDefault class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=config_validation.Optional href=#config_validation.Optional>Optional</a></code></p> <p>Mark this key to have a split default for ESP8266/ESP32.</p> <p><span class=doc-section-title>Attributes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.SplitDefault.default href=#config_validation.SplitDefault.default>default</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1647>1647</a></span>
<span class=normal><a href=#__codelineno-0-1648>1648</a></span>
<span class=normal><a href=#__codelineno-0-1649>1649</a></span>
<span class=normal><a href=#__codelineno-0-1650>1650</a></span>
<span class=normal><a href=#__codelineno-0-1651>1651</a></span>
<span class=normal><a href=#__codelineno-0-1652>1652</a></span>
<span class=normal><a href=#__codelineno-0-1653>1653</a></span>
<span class=normal><a href=#__codelineno-0-1654>1654</a></span>
<span class=normal><a href=#__codelineno-0-1655>1655</a></span>
<span class=normal><a href=#__codelineno-0-1656>1656</a></span>
<span class=normal><a href=#__codelineno-0-1657>1657</a></span>
<span class=normal><a href=#__codelineno-0-1658>1658</a></span>
<span class=normal><a href=#__codelineno-0-1659>1659</a></span>
<span class=normal><a href=#__codelineno-0-1660>1660</a></span>
<span class=normal><a href=#__codelineno-0-1661>1661</a></span>
<span class=normal><a href=#__codelineno-0-1662>1662</a></span>
<span class=normal><a href=#__codelineno-0-1663>1663</a></span>
<span class=normal><a href=#__codelineno-0-1664>1664</a></span>
<span class=normal><a href=#__codelineno-0-1665>1665</a></span>
<span class=normal><a href=#__codelineno-0-1666>1666</a></span>
<span class=normal><a href=#__codelineno-0-1667>1667</a></span>
<span class=normal><a href=#__codelineno-0-1668>1668</a></span>
<span class=normal><a href=#__codelineno-0-1669>1669</a></span>
<span class=normal><a href=#__codelineno-0-1670>1670</a></span>
<span class=normal><a href=#__codelineno-0-1671>1671</a></span>
<span class=normal><a href=#__codelineno-0-1672>1672</a></span>
<span class=normal><a href=#__codelineno-0-1673>1673</a></span>
<span class=normal><a href=#__codelineno-0-1674>1674</a></span>
<span class=normal><a href=#__codelineno-0-1675>1675</a></span>
<span class=normal><a href=#__codelineno-0-1676>1676</a></span>
<span class=normal><a href=#__codelineno-0-1677>1677</a></span>
<span class=normal><a href=#__codelineno-0-1678>1678</a></span>
<span class=normal><a href=#__codelineno-0-1679>1679</a></span>
<span class=normal><a href=#__codelineno-0-1680>1680</a></span>
<span class=normal><a href=#__codelineno-0-1681>1681</a></span>
<span class=normal><a href=#__codelineno-0-1682>1682</a></span>
<span class=normal><a href=#__codelineno-0-1683>1683</a></span>
<span class=normal><a href=#__codelineno-0-1684>1684</a></span>
<span class=normal><a href=#__codelineno-0-1685>1685</a></span>
<span class=normal><a href=#__codelineno-0-1686>1686</a></span>
<span class=normal><a href=#__codelineno-0-1687>1687</a></span>
<span class=normal><a href=#__codelineno-0-1688>1688</a></span>
<span class=normal><a href=#__codelineno-0-1689>1689</a></span>
<span class=normal><a href=#__codelineno-0-1690>1690</a></span>
<span class=normal><a href=#__codelineno-0-1691>1691</a></span>
<span class=normal><a href=#__codelineno-0-1692>1692</a></span>
<span class=normal><a href=#__codelineno-0-1693>1693</a></span>
<span class=normal><a href=#__codelineno-0-1694>1694</a></span>
<span class=normal><a href=#__codelineno-0-1695>1695</a></span>
<span class=normal><a href=#__codelineno-0-1696>1696</a></span>
<span class=normal><a href=#__codelineno-0-1697>1697</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1647><a id=__codelineno-0-1647 name=__codelineno-0-1647></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-1648><a id=__codelineno-0-1648 name=__codelineno-0-1648></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-1649><a id=__codelineno-0-1649 name=__codelineno-0-1649></a>    <span class=n>key</span><span class=p>,</span>
</span><span id=__span-0-1650><a id=__codelineno-0-1650 name=__codelineno-0-1650></a>    <span class=n>esp8266</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1651><a id=__codelineno-0-1651 name=__codelineno-0-1651></a>    <span class=n>esp32</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1652><a id=__codelineno-0-1652 name=__codelineno-0-1652></a>    <span class=n>esp32_arduino</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1653><a id=__codelineno-0-1653 name=__codelineno-0-1653></a>    <span class=n>esp32_idf</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1654><a id=__codelineno-0-1654 name=__codelineno-0-1654></a>    <span class=n>esp32_s2</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1655><a id=__codelineno-0-1655 name=__codelineno-0-1655></a>    <span class=n>esp32_s2_arduino</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1656><a id=__codelineno-0-1656 name=__codelineno-0-1656></a>    <span class=n>esp32_s2_idf</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1657><a id=__codelineno-0-1657 name=__codelineno-0-1657></a>    <span class=n>esp32_s3</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1658><a id=__codelineno-0-1658 name=__codelineno-0-1658></a>    <span class=n>esp32_s3_arduino</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1659><a id=__codelineno-0-1659 name=__codelineno-0-1659></a>    <span class=n>esp32_s3_idf</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1660><a id=__codelineno-0-1660 name=__codelineno-0-1660></a>    <span class=n>esp32_c3</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1661><a id=__codelineno-0-1661 name=__codelineno-0-1661></a>    <span class=n>esp32_c3_arduino</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1662><a id=__codelineno-0-1662 name=__codelineno-0-1662></a>    <span class=n>esp32_c3_idf</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1663><a id=__codelineno-0-1663 name=__codelineno-0-1663></a>    <span class=n>rp2040</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1664><a id=__codelineno-0-1664 name=__codelineno-0-1664></a>    <span class=n>bk72xx</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1665><a id=__codelineno-0-1665 name=__codelineno-0-1665></a>    <span class=n>rtl87xx</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1666><a id=__codelineno-0-1666 name=__codelineno-0-1666></a>    <span class=n>host</span><span class=o>=</span><span class=n>vol</span><span class=o>.</span><span class=n>UNDEFINED</span><span class=p>,</span>
</span><span id=__span-0-1667><a id=__codelineno-0-1667 name=__codelineno-0-1667></a><span class=p>):</span>
</span><span id=__span-0-1668><a id=__codelineno-0-1668 name=__codelineno-0-1668></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span><span id=__span-0-1669><a id=__codelineno-0-1669 name=__codelineno-0-1669></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_esp8266_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span><span class=n>esp8266</span><span class=p>)</span>
</span><span id=__span-0-1670><a id=__codelineno-0-1670 name=__codelineno-0-1670></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_esp32_arduino_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span>
</span><span id=__span-0-1671><a id=__codelineno-0-1671 name=__codelineno-0-1671></a>        <span class=n>_get_priority_default</span><span class=p>(</span><span class=n>esp32_arduino</span><span class=p>,</span> <span class=n>esp32</span><span class=p>)</span>
</span><span id=__span-0-1672><a id=__codelineno-0-1672 name=__codelineno-0-1672></a>    <span class=p>)</span>
</span><span id=__span-0-1673><a id=__codelineno-0-1673 name=__codelineno-0-1673></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_esp32_idf_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span>
</span><span id=__span-0-1674><a id=__codelineno-0-1674 name=__codelineno-0-1674></a>        <span class=n>_get_priority_default</span><span class=p>(</span><span class=n>esp32_idf</span><span class=p>,</span> <span class=n>esp32</span><span class=p>)</span>
</span><span id=__span-0-1675><a id=__codelineno-0-1675 name=__codelineno-0-1675></a>    <span class=p>)</span>
</span><span id=__span-0-1676><a id=__codelineno-0-1676 name=__codelineno-0-1676></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_esp32_s2_arduino_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span>
</span><span id=__span-0-1677><a id=__codelineno-0-1677 name=__codelineno-0-1677></a>        <span class=n>_get_priority_default</span><span class=p>(</span><span class=n>esp32_s2_arduino</span><span class=p>,</span> <span class=n>esp32_s2</span><span class=p>,</span> <span class=n>esp32_arduino</span><span class=p>,</span> <span class=n>esp32</span><span class=p>)</span>
</span><span id=__span-0-1678><a id=__codelineno-0-1678 name=__codelineno-0-1678></a>    <span class=p>)</span>
</span><span id=__span-0-1679><a id=__codelineno-0-1679 name=__codelineno-0-1679></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_esp32_s2_idf_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span>
</span><span id=__span-0-1680><a id=__codelineno-0-1680 name=__codelineno-0-1680></a>        <span class=n>_get_priority_default</span><span class=p>(</span><span class=n>esp32_s2_idf</span><span class=p>,</span> <span class=n>esp32_s2</span><span class=p>,</span> <span class=n>esp32_idf</span><span class=p>,</span> <span class=n>esp32</span><span class=p>)</span>
</span><span id=__span-0-1681><a id=__codelineno-0-1681 name=__codelineno-0-1681></a>    <span class=p>)</span>
</span><span id=__span-0-1682><a id=__codelineno-0-1682 name=__codelineno-0-1682></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_esp32_s3_arduino_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span>
</span><span id=__span-0-1683><a id=__codelineno-0-1683 name=__codelineno-0-1683></a>        <span class=n>_get_priority_default</span><span class=p>(</span><span class=n>esp32_s3_arduino</span><span class=p>,</span> <span class=n>esp32_s3</span><span class=p>,</span> <span class=n>esp32_arduino</span><span class=p>,</span> <span class=n>esp32</span><span class=p>)</span>
</span><span id=__span-0-1684><a id=__codelineno-0-1684 name=__codelineno-0-1684></a>    <span class=p>)</span>
</span><span id=__span-0-1685><a id=__codelineno-0-1685 name=__codelineno-0-1685></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_esp32_s3_idf_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span>
</span><span id=__span-0-1686><a id=__codelineno-0-1686 name=__codelineno-0-1686></a>        <span class=n>_get_priority_default</span><span class=p>(</span><span class=n>esp32_s3_idf</span><span class=p>,</span> <span class=n>esp32_s3</span><span class=p>,</span> <span class=n>esp32_idf</span><span class=p>,</span> <span class=n>esp32</span><span class=p>)</span>
</span><span id=__span-0-1687><a id=__codelineno-0-1687 name=__codelineno-0-1687></a>    <span class=p>)</span>
</span><span id=__span-0-1688><a id=__codelineno-0-1688 name=__codelineno-0-1688></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_esp32_c3_arduino_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span>
</span><span id=__span-0-1689><a id=__codelineno-0-1689 name=__codelineno-0-1689></a>        <span class=n>_get_priority_default</span><span class=p>(</span><span class=n>esp32_c3_arduino</span><span class=p>,</span> <span class=n>esp32_c3</span><span class=p>,</span> <span class=n>esp32_arduino</span><span class=p>,</span> <span class=n>esp32</span><span class=p>)</span>
</span><span id=__span-0-1690><a id=__codelineno-0-1690 name=__codelineno-0-1690></a>    <span class=p>)</span>
</span><span id=__span-0-1691><a id=__codelineno-0-1691 name=__codelineno-0-1691></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_esp32_c3_idf_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span>
</span><span id=__span-0-1692><a id=__codelineno-0-1692 name=__codelineno-0-1692></a>        <span class=n>_get_priority_default</span><span class=p>(</span><span class=n>esp32_c3_idf</span><span class=p>,</span> <span class=n>esp32_c3</span><span class=p>,</span> <span class=n>esp32_idf</span><span class=p>,</span> <span class=n>esp32</span><span class=p>)</span>
</span><span id=__span-0-1693><a id=__codelineno-0-1693 name=__codelineno-0-1693></a>    <span class=p>)</span>
</span><span id=__span-0-1694><a id=__codelineno-0-1694 name=__codelineno-0-1694></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_rp2040_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span><span class=n>rp2040</span><span class=p>)</span>
</span><span id=__span-0-1695><a id=__codelineno-0-1695 name=__codelineno-0-1695></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_bk72xx_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span><span class=n>bk72xx</span><span class=p>)</span>
</span><span id=__span-0-1696><a id=__codelineno-0-1696 name=__codelineno-0-1696></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_rtl87xx_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span><span class=n>rtl87xx</span><span class=p>)</span>
</span><span id=__span-0-1697><a id=__codelineno-0-1697 name=__codelineno-0-1697></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_host_default</span> <span class=o>=</span> <span class=n>vol</span><span class=o>.</span><span class=n>default_factory</span><span class=p>(</span><span class=n>host</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <h4 id=config_validation.SplitDefault-attributes>Attributes<a href=#config_validation.SplitDefault-attributes class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc doc-object doc-attribute"> <h5 id=config_validation.SplitDefault.default class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>default</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> <small class="doc doc-label doc-label-writable"><code>writable</code></small> </span> <a href=#config_validation.SplitDefault.default class=headerlink title="Anchor link to this section for reference">&para;</a></h5> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=config_validation.Version class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <code class="highlight language-python"><span class=n>Version</span><span class=p>(</span><span class=n>major</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>minor</span><span class=p>:</span> <span class=nb>int</span><span class=p>,</span> <span class=n>patch</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small> </span> <a href=#config_validation.Version class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Version.parse href=#config_validation.Version.parse>parse</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <p><span class=doc-section-title>Attributes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Version.major href=#config_validation.Version.major>major</a></code></b> (<code>int</code>) – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Version.minor href=#config_validation.Version.minor>minor</a></code></b> (<code>int</code>) – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title=config_validation.Version.patch href=#config_validation.Version.patch>patch</a></code></b> (<code>int</code>) – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <h4 id=config_validation.Version-attributes>Attributes<a href=#config_validation.Version-attributes class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc doc-object doc-attribute"> <h5 id=config_validation.Version.major class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>major</span><span class=p>:</span> <span class=nb>int</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#config_validation.Version.major class=headerlink title="Anchor link to this section for reference">&para;</a></h5> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=config_validation.Version.minor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>minor</span><span class=p>:</span> <span class=nb>int</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#config_validation.Version.minor class=headerlink title="Anchor link to this section for reference">&para;</a></h5> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h5 id=config_validation.Version.patch class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <code class="highlight language-python"><span class=n>patch</span><span class=p>:</span> <span class=nb>int</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#config_validation.Version.patch class=headerlink title="Anchor link to this section for reference">&para;</a></h5> <div class="doc doc-contents "> </div> </div> <h4 id=config_validation.Version-functions>Functions<a href=#config_validation.Version-functions class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc doc-object doc-function"> <h5 id=config_validation.Version.parse class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <code class="highlight language-python"><span class=n>parse</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Version</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> <a href=#config_validation.Version.parse class=headerlink title="Anchor link to this section for reference">&para;</a></h5> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2001>2001</a></span>
<span class=normal><a href=#__codelineno-0-2002>2002</a></span>
<span class=normal><a href=#__codelineno-0-2003>2003</a></span>
<span class=normal><a href=#__codelineno-0-2004>2004</a></span>
<span class=normal><a href=#__codelineno-0-2005>2005</a></span>
<span class=normal><a href=#__codelineno-0-2006>2006</a></span>
<span class=normal><a href=#__codelineno-0-2007>2007</a></span>
<span class=normal><a href=#__codelineno-0-2008>2008</a></span>
<span class=normal><a href=#__codelineno-0-2009>2009</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-2001><a id=__codelineno-0-2001 name=__codelineno-0-2001></a><span class=nd>@classmethod</span>
</span><span id=__span-0-2002><a id=__codelineno-0-2002 name=__codelineno-0-2002></a><span class=k>def</span> <span class=nf>parse</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;Version&quot;</span><span class=p>:</span>
</span><span id=__span-0-2003><a id=__codelineno-0-2003 name=__codelineno-0-2003></a>    <span class=n>match</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;^(\d+).(\d+).(\d+)-?\w*$&quot;</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-2004><a id=__codelineno-0-2004 name=__codelineno-0-2004></a>    <span class=k>if</span> <span class=n>match</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2005><a id=__codelineno-0-2005 name=__codelineno-0-2005></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Not a valid version number </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-2006><a id=__codelineno-0-2006 name=__codelineno-0-2006></a>    <span class=n>major</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>match</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</span><span id=__span-0-2007><a id=__codelineno-0-2007 name=__codelineno-0-2007></a>    <span class=n>minor</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>match</span><span class=p>[</span><span class=mi>2</span><span class=p>])</span>
</span><span id=__span-0-2008><a id=__codelineno-0-2008 name=__codelineno-0-2008></a>    <span class=n>patch</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>match</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span>
</span><span id=__span-0-2009><a id=__codelineno-0-2009 name=__codelineno-0-2009></a>    <span class=k>return</span> <span class=n>Version</span><span class=p>(</span><span class=n>major</span><span class=o>=</span><span class=n>major</span><span class=p>,</span> <span class=n>minor</span><span class=o>=</span><span class=n>minor</span><span class=p>,</span> <span class=n>patch</span><span class=o>=</span><span class=n>patch</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <h2 id=config_validation-functions>Functions<a href=#config_validation-functions class=headerlink title="Anchor link to this section for reference">&para;</a></h2> <div class="doc doc-object doc-function"> <h3 id=config_validation.alphanumeric class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>alphanumeric</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.alphanumeric class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-280>280</a></span>
<span class=normal><a href=#__codelineno-0-281>281</a></span>
<span class=normal><a href=#__codelineno-0-282>282</a></span>
<span class=normal><a href=#__codelineno-0-283>283</a></span>
<span class=normal><a href=#__codelineno-0-284>284</a></span>
<span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a><span class=k>def</span> <span class=nf>alphanumeric</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-281><a id=__codelineno-0-281 name=__codelineno-0-281></a>    <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-282><a id=__codelineno-0-282 name=__codelineno-0-282></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;string value is None&quot;</span><span class=p>)</span>
</span><span id=__span-0-283><a id=__codelineno-0-283 name=__codelineno-0-283></a>    <span class=n>value</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-284><a id=__codelineno-0-284 name=__codelineno-0-284></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>value</span><span class=o>.</span><span class=n>isalnum</span><span class=p>():</span>
</span><span id=__span-0-285><a id=__codelineno-0-285 name=__codelineno-0-285></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2> is not alphanumeric&quot;</span><span class=p>)</span>
</span><span id=__span-0-286><a id=__codelineno-0-286 name=__codelineno-0-286></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.bind_key class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>bind_key</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.bind_key class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-963>963</a></span>
<span class=normal><a href=#__codelineno-0-964>964</a></span>
<span class=normal><a href=#__codelineno-0-965>965</a></span>
<span class=normal><a href=#__codelineno-0-966>966</a></span>
<span class=normal><a href=#__codelineno-0-967>967</a></span>
<span class=normal><a href=#__codelineno-0-968>968</a></span>
<span class=normal><a href=#__codelineno-0-969>969</a></span>
<span class=normal><a href=#__codelineno-0-970>970</a></span>
<span class=normal><a href=#__codelineno-0-971>971</a></span>
<span class=normal><a href=#__codelineno-0-972>972</a></span>
<span class=normal><a href=#__codelineno-0-973>973</a></span>
<span class=normal><a href=#__codelineno-0-974>974</a></span>
<span class=normal><a href=#__codelineno-0-975>975</a></span>
<span class=normal><a href=#__codelineno-0-976>976</a></span>
<span class=normal><a href=#__codelineno-0-977>977</a></span>
<span class=normal><a href=#__codelineno-0-978>978</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-963><a id=__codelineno-0-963 name=__codelineno-0-963></a><span class=k>def</span> <span class=nf>bind_key</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-964><a id=__codelineno-0-964 name=__codelineno-0-964></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-965><a id=__codelineno-0-965 name=__codelineno-0-965></a>    <span class=n>parts</span> <span class=o>=</span> <span class=p>[</span><span class=n>value</span><span class=p>[</span><span class=n>i</span> <span class=p>:</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>2</span><span class=p>]</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>value</span><span class=p>),</span> <span class=mi>2</span><span class=p>)]</span>
</span><span id=__span-0-966><a id=__codelineno-0-966 name=__codelineno-0-966></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>parts</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>16</span><span class=p>:</span>
</span><span id=__span-0-967><a id=__codelineno-0-967 name=__codelineno-0-967></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Bind key must consist of 16 hexadecimal numbers&quot;</span><span class=p>)</span>
</span><span id=__span-0-968><a id=__codelineno-0-968 name=__codelineno-0-968></a>    <span class=n>parts_int</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-969><a id=__codelineno-0-969 name=__codelineno-0-969></a>    <span class=k>if</span> <span class=nb>any</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>part</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>2</span> <span class=k>for</span> <span class=n>part</span> <span class=ow>in</span> <span class=n>parts</span><span class=p>):</span>
</span><span id=__span-0-970><a id=__codelineno-0-970 name=__codelineno-0-970></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Bind key must be format XX&quot;</span><span class=p>)</span>
</span><span id=__span-0-971><a id=__codelineno-0-971 name=__codelineno-0-971></a>    <span class=k>for</span> <span class=n>part</span> <span class=ow>in</span> <span class=n>parts</span><span class=p>:</span>
</span><span id=__span-0-972><a id=__codelineno-0-972 name=__codelineno-0-972></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-973><a id=__codelineno-0-973 name=__codelineno-0-973></a>            <span class=n>parts_int</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>part</span><span class=p>,</span> <span class=mi>16</span><span class=p>))</span>
</span><span id=__span-0-974><a id=__codelineno-0-974 name=__codelineno-0-974></a>        <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span><span id=__span-0-975><a id=__codelineno-0-975 name=__codelineno-0-975></a>            <span class=c1># pylint: disable=raise-missing-from</span>
</span><span id=__span-0-976><a id=__codelineno-0-976 name=__codelineno-0-976></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Bind key must be hex values from 00 to FF&quot;</span><span class=p>)</span>
</span><span id=__span-0-977><a id=__codelineno-0-977 name=__codelineno-0-977></a>
</span><span id=__span-0-978><a id=__codelineno-0-978 name=__codelineno-0-978></a>    <span class=k>return</span> <span class=s2>&quot;&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>part</span><span class=si>:</span><span class=s2>02X</span><span class=si>}</span><span class=s2>&quot;</span> <span class=k>for</span> <span class=n>part</span> <span class=ow>in</span> <span class=n>parts_int</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.boolean class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>boolean</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.boolean class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate the given config option to be a boolean.</p> <p>This option allows a bunch of different ways of expressing boolean values: - instance of boolean - 'true'/'false' - 'yes'/'no' - 'enable'/disable</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span>
<span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span>
<span class=normal><a href=#__codelineno-0-360>360</a></span>
<span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span>
<span class=normal><a href=#__codelineno-0-366>366</a></span>
<span class=normal><a href=#__codelineno-0-367>367</a></span>
<span class=normal><a href=#__codelineno-0-368>368</a></span>
<span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span>
<span class=normal><a href=#__codelineno-0-371>371</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-351><a id=__codelineno-0-351 name=__codelineno-0-351></a><span class=k>def</span> <span class=nf>boolean</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-352><a id=__codelineno-0-352 name=__codelineno-0-352></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate the given config option to be a boolean.</span>
</span><span id=__span-0-353><a id=__codelineno-0-353 name=__codelineno-0-353></a>
</span><span id=__span-0-354><a id=__codelineno-0-354 name=__codelineno-0-354></a><span class=sd>    This option allows a bunch of different ways of expressing boolean values:</span>
</span><span id=__span-0-355><a id=__codelineno-0-355 name=__codelineno-0-355></a><span class=sd>     - instance of boolean</span>
</span><span id=__span-0-356><a id=__codelineno-0-356 name=__codelineno-0-356></a><span class=sd>     - &#39;true&#39;/&#39;false&#39;</span>
</span><span id=__span-0-357><a id=__codelineno-0-357 name=__codelineno-0-357></a><span class=sd>     - &#39;yes&#39;/&#39;no&#39;</span>
</span><span id=__span-0-358><a id=__codelineno-0-358 name=__codelineno-0-358></a><span class=sd>     - &#39;enable&#39;/disable</span>
</span><span id=__span-0-359><a id=__codelineno-0-359 name=__codelineno-0-359></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-360><a id=__codelineno-0-360 name=__codelineno-0-360></a>    <span class=n>check_not_templatable</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-361><a id=__codelineno-0-361 name=__codelineno-0-361></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>bool</span><span class=p>):</span>
</span><span id=__span-0-362><a id=__codelineno-0-362 name=__codelineno-0-362></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-363><a id=__codelineno-0-363 name=__codelineno-0-363></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-364><a id=__codelineno-0-364 name=__codelineno-0-364></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-0-365><a id=__codelineno-0-365 name=__codelineno-0-365></a>        <span class=k>if</span> <span class=n>value</span> <span class=ow>in</span> <span class=p>(</span><span class=s2>&quot;true&quot;</span><span class=p>,</span> <span class=s2>&quot;yes&quot;</span><span class=p>,</span> <span class=s2>&quot;on&quot;</span><span class=p>,</span> <span class=s2>&quot;enable&quot;</span><span class=p>):</span>
</span><span id=__span-0-366><a id=__codelineno-0-366 name=__codelineno-0-366></a>            <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-0-367><a id=__codelineno-0-367 name=__codelineno-0-367></a>        <span class=k>if</span> <span class=n>value</span> <span class=ow>in</span> <span class=p>(</span><span class=s2>&quot;false&quot;</span><span class=p>,</span> <span class=s2>&quot;no&quot;</span><span class=p>,</span> <span class=s2>&quot;off&quot;</span><span class=p>,</span> <span class=s2>&quot;disable&quot;</span><span class=p>):</span>
</span><span id=__span-0-368><a id=__codelineno-0-368 name=__codelineno-0-368></a>            <span class=k>return</span> <span class=kc>False</span>
</span><span id=__span-0-369><a id=__codelineno-0-369 name=__codelineno-0-369></a>    <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-370><a id=__codelineno-0-370 name=__codelineno-0-370></a>        <span class=sa>f</span><span class=s2>&quot;Expected boolean value, but cannot convert </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2> to a boolean. Please use &#39;true&#39; or &#39;false&#39;&quot;</span>
</span><span id=__span-0-371><a id=__codelineno-0-371 name=__codelineno-0-371></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.boolean_false class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>boolean_false</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.boolean_false class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate the given config option to be a boolean, set to False.</p> <p>This option allows a bunch of different ways of expressing boolean values: - instance of boolean - 'true'/'false' - 'yes'/'no' - 'enable'/disable</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span>
<span class=normal><a href=#__codelineno-0-382>382</a></span>
<span class=normal><a href=#__codelineno-0-383>383</a></span>
<span class=normal><a href=#__codelineno-0-384>384</a></span>
<span class=normal><a href=#__codelineno-0-385>385</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-374><a id=__codelineno-0-374 name=__codelineno-0-374></a><span class=k>def</span> <span class=nf>boolean_false</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-375><a id=__codelineno-0-375 name=__codelineno-0-375></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate the given config option to be a boolean, set to False.</span>
</span><span id=__span-0-376><a id=__codelineno-0-376 name=__codelineno-0-376></a>
</span><span id=__span-0-377><a id=__codelineno-0-377 name=__codelineno-0-377></a><span class=sd>    This option allows a bunch of different ways of expressing boolean values:</span>
</span><span id=__span-0-378><a id=__codelineno-0-378 name=__codelineno-0-378></a><span class=sd>     - instance of boolean</span>
</span><span id=__span-0-379><a id=__codelineno-0-379 name=__codelineno-0-379></a><span class=sd>     - &#39;true&#39;/&#39;false&#39;</span>
</span><span id=__span-0-380><a id=__codelineno-0-380 name=__codelineno-0-380></a><span class=sd>     - &#39;yes&#39;/&#39;no&#39;</span>
</span><span id=__span-0-381><a id=__codelineno-0-381 name=__codelineno-0-381></a><span class=sd>     - &#39;enable&#39;/disable</span>
</span><span id=__span-0-382><a id=__codelineno-0-382 name=__codelineno-0-382></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-383><a id=__codelineno-0-383 name=__codelineno-0-383></a>    <span class=k>if</span> <span class=n>boolean</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-384><a id=__codelineno-0-384 name=__codelineno-0-384></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Expected boolean value to be false&quot;</span><span class=p>)</span>
</span><span id=__span-0-385><a id=__codelineno-0-385 name=__codelineno-0-385></a>    <span class=k>return</span> <span class=kc>False</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.check_not_templatable class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>check_not_templatable</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.check_not_templatable class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span>
<span class=normal><a href=#__codelineno-0-277>277</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-275><a id=__codelineno-0-275 name=__codelineno-0-275></a><span class=k>def</span> <span class=nf>check_not_templatable</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-276><a id=__codelineno-0-276 name=__codelineno-0-276></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>Lambda</span><span class=p>):</span>
</span><span id=__span-0-277><a id=__codelineno-0-277 name=__codelineno-0-277></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;This option is not templatable!&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.color_temperature class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>color_temperature</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.color_temperature class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1093>1093</a></span>
<span class=normal><a href=#__codelineno-0-1094>1094</a></span>
<span class=normal><a href=#__codelineno-0-1095>1095</a></span>
<span class=normal><a href=#__codelineno-0-1096>1096</a></span>
<span class=normal><a href=#__codelineno-0-1097>1097</a></span>
<span class=normal><a href=#__codelineno-0-1098>1098</a></span>
<span class=normal><a href=#__codelineno-0-1099>1099</a></span>
<span class=normal><a href=#__codelineno-0-1100>1100</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1093><a id=__codelineno-0-1093 name=__codelineno-0-1093></a><span class=k>def</span> <span class=nf>color_temperature</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1094><a id=__codelineno-0-1094 name=__codelineno-0-1094></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1095><a id=__codelineno-0-1095 name=__codelineno-0-1095></a>        <span class=n>val</span> <span class=o>=</span> <span class=n>_color_temperature_mireds</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1096><a id=__codelineno-0-1096 name=__codelineno-0-1096></a>    <span class=k>except</span> <span class=n>Invalid</span><span class=p>:</span>
</span><span id=__span-0-1097><a id=__codelineno-0-1097 name=__codelineno-0-1097></a>        <span class=n>val</span> <span class=o>=</span> <span class=mf>1000000.0</span> <span class=o>/</span> <span class=n>_color_temperature_kelvin</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1098><a id=__codelineno-0-1098 name=__codelineno-0-1098></a>    <span class=k>if</span> <span class=n>val</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-1099><a id=__codelineno-0-1099 name=__codelineno-0-1099></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Color temperature cannot be negative&quot;</span><span class=p>)</span>
</span><span id=__span-0-1100><a id=__codelineno-0-1100 name=__codelineno-0-1100></a>    <span class=k>return</span> <span class=n>val</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.date_time class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>date_time</span><span class=p>(</span><span class=n>date</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span> <span class=n>time</span><span class=p>:</span> <span class=nb>bool</span><span class=p>)</span></code> <a href=#config_validation.date_time class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-848>848</a></span>
<span class=normal><a href=#__codelineno-0-849>849</a></span>
<span class=normal><a href=#__codelineno-0-850>850</a></span>
<span class=normal><a href=#__codelineno-0-851>851</a></span>
<span class=normal><a href=#__codelineno-0-852>852</a></span>
<span class=normal><a href=#__codelineno-0-853>853</a></span>
<span class=normal><a href=#__codelineno-0-854>854</a></span>
<span class=normal><a href=#__codelineno-0-855>855</a></span>
<span class=normal><a href=#__codelineno-0-856>856</a></span>
<span class=normal><a href=#__codelineno-0-857>857</a></span>
<span class=normal><a href=#__codelineno-0-858>858</a></span>
<span class=normal><a href=#__codelineno-0-859>859</a></span>
<span class=normal><a href=#__codelineno-0-860>860</a></span>
<span class=normal><a href=#__codelineno-0-861>861</a></span>
<span class=normal><a href=#__codelineno-0-862>862</a></span>
<span class=normal><a href=#__codelineno-0-863>863</a></span>
<span class=normal><a href=#__codelineno-0-864>864</a></span>
<span class=normal><a href=#__codelineno-0-865>865</a></span>
<span class=normal><a href=#__codelineno-0-866>866</a></span>
<span class=normal><a href=#__codelineno-0-867>867</a></span>
<span class=normal><a href=#__codelineno-0-868>868</a></span>
<span class=normal><a href=#__codelineno-0-869>869</a></span>
<span class=normal><a href=#__codelineno-0-870>870</a></span>
<span class=normal><a href=#__codelineno-0-871>871</a></span>
<span class=normal><a href=#__codelineno-0-872>872</a></span>
<span class=normal><a href=#__codelineno-0-873>873</a></span>
<span class=normal><a href=#__codelineno-0-874>874</a></span>
<span class=normal><a href=#__codelineno-0-875>875</a></span>
<span class=normal><a href=#__codelineno-0-876>876</a></span>
<span class=normal><a href=#__codelineno-0-877>877</a></span>
<span class=normal><a href=#__codelineno-0-878>878</a></span>
<span class=normal><a href=#__codelineno-0-879>879</a></span>
<span class=normal><a href=#__codelineno-0-880>880</a></span>
<span class=normal><a href=#__codelineno-0-881>881</a></span>
<span class=normal><a href=#__codelineno-0-882>882</a></span>
<span class=normal><a href=#__codelineno-0-883>883</a></span>
<span class=normal><a href=#__codelineno-0-884>884</a></span>
<span class=normal><a href=#__codelineno-0-885>885</a></span>
<span class=normal><a href=#__codelineno-0-886>886</a></span>
<span class=normal><a href=#__codelineno-0-887>887</a></span>
<span class=normal><a href=#__codelineno-0-888>888</a></span>
<span class=normal><a href=#__codelineno-0-889>889</a></span>
<span class=normal><a href=#__codelineno-0-890>890</a></span>
<span class=normal><a href=#__codelineno-0-891>891</a></span>
<span class=normal><a href=#__codelineno-0-892>892</a></span>
<span class=normal><a href=#__codelineno-0-893>893</a></span>
<span class=normal><a href=#__codelineno-0-894>894</a></span>
<span class=normal><a href=#__codelineno-0-895>895</a></span>
<span class=normal><a href=#__codelineno-0-896>896</a></span>
<span class=normal><a href=#__codelineno-0-897>897</a></span>
<span class=normal><a href=#__codelineno-0-898>898</a></span>
<span class=normal><a href=#__codelineno-0-899>899</a></span>
<span class=normal><a href=#__codelineno-0-900>900</a></span>
<span class=normal><a href=#__codelineno-0-901>901</a></span>
<span class=normal><a href=#__codelineno-0-902>902</a></span>
<span class=normal><a href=#__codelineno-0-903>903</a></span>
<span class=normal><a href=#__codelineno-0-904>904</a></span>
<span class=normal><a href=#__codelineno-0-905>905</a></span>
<span class=normal><a href=#__codelineno-0-906>906</a></span>
<span class=normal><a href=#__codelineno-0-907>907</a></span>
<span class=normal><a href=#__codelineno-0-908>908</a></span>
<span class=normal><a href=#__codelineno-0-909>909</a></span>
<span class=normal><a href=#__codelineno-0-910>910</a></span>
<span class=normal><a href=#__codelineno-0-911>911</a></span>
<span class=normal><a href=#__codelineno-0-912>912</a></span>
<span class=normal><a href=#__codelineno-0-913>913</a></span>
<span class=normal><a href=#__codelineno-0-914>914</a></span>
<span class=normal><a href=#__codelineno-0-915>915</a></span>
<span class=normal><a href=#__codelineno-0-916>916</a></span>
<span class=normal><a href=#__codelineno-0-917>917</a></span>
<span class=normal><a href=#__codelineno-0-918>918</a></span>
<span class=normal><a href=#__codelineno-0-919>919</a></span>
<span class=normal><a href=#__codelineno-0-920>920</a></span>
<span class=normal><a href=#__codelineno-0-921>921</a></span>
<span class=normal><a href=#__codelineno-0-922>922</a></span>
<span class=normal><a href=#__codelineno-0-923>923</a></span>
<span class=normal><a href=#__codelineno-0-924>924</a></span>
<span class=normal><a href=#__codelineno-0-925>925</a></span>
<span class=normal><a href=#__codelineno-0-926>926</a></span>
<span class=normal><a href=#__codelineno-0-927>927</a></span>
<span class=normal><a href=#__codelineno-0-928>928</a></span>
<span class=normal><a href=#__codelineno-0-929>929</a></span>
<span class=normal><a href=#__codelineno-0-930>930</a></span>
<span class=normal><a href=#__codelineno-0-931>931</a></span>
<span class=normal><a href=#__codelineno-0-932>932</a></span>
<span class=normal><a href=#__codelineno-0-933>933</a></span>
<span class=normal><a href=#__codelineno-0-934>934</a></span>
<span class=normal><a href=#__codelineno-0-935>935</a></span>
<span class=normal><a href=#__codelineno-0-936>936</a></span>
<span class=normal><a href=#__codelineno-0-937>937</a></span>
<span class=normal><a href=#__codelineno-0-938>938</a></span>
<span class=normal><a href=#__codelineno-0-939>939</a></span>
<span class=normal><a href=#__codelineno-0-940>940</a></span>
<span class=normal><a href=#__codelineno-0-941>941</a></span>
<span class=normal><a href=#__codelineno-0-942>942</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-848><a id=__codelineno-0-848 name=__codelineno-0-848></a><span class=k>def</span> <span class=nf>date_time</span><span class=p>(</span><span class=n>date</span><span class=p>:</span> <span class=nb>bool</span><span class=p>,</span> <span class=n>time</span><span class=p>:</span> <span class=nb>bool</span><span class=p>):</span>
</span><span id=__span-0-849><a id=__codelineno-0-849 name=__codelineno-0-849></a>    <span class=n>pattern_str</span> <span class=o>=</span> <span class=sa>r</span><span class=s2>&quot;^&quot;</span>  <span class=c1># Start of string</span>
</span><span id=__span-0-850><a id=__codelineno-0-850 name=__codelineno-0-850></a>    <span class=k>if</span> <span class=n>date</span><span class=p>:</span>
</span><span id=__span-0-851><a id=__codelineno-0-851 name=__codelineno-0-851></a>        <span class=n>pattern_str</span> <span class=o>+=</span> <span class=sa>r</span><span class=s2>&quot;\d</span><span class=si>{4}</span><span class=s2>-\d{1,2}-\d{1,2}&quot;</span>
</span><span id=__span-0-852><a id=__codelineno-0-852 name=__codelineno-0-852></a>        <span class=k>if</span> <span class=n>time</span><span class=p>:</span>
</span><span id=__span-0-853><a id=__codelineno-0-853 name=__codelineno-0-853></a>            <span class=n>pattern_str</span> <span class=o>+=</span> <span class=sa>r</span><span class=s2>&quot; &quot;</span>
</span><span id=__span-0-854><a id=__codelineno-0-854 name=__codelineno-0-854></a>    <span class=k>if</span> <span class=n>time</span><span class=p>:</span>
</span><span id=__span-0-855><a id=__codelineno-0-855 name=__codelineno-0-855></a>        <span class=n>pattern_str</span> <span class=o>+=</span> <span class=p>(</span>
</span><span id=__span-0-856><a id=__codelineno-0-856 name=__codelineno-0-856></a>            <span class=sa>r</span><span class=s2>&quot;\d{1,2}:\d</span><span class=si>{2}</span><span class=s2>&quot;</span>  <span class=c1># Hour/Minute</span>
</span><span id=__span-0-857><a id=__codelineno-0-857 name=__codelineno-0-857></a>            <span class=sa>r</span><span class=s2>&quot;(:\d</span><span class=si>{2}</span><span class=s2>)?&quot;</span>  <span class=c1># 1. Seconds</span>
</span><span id=__span-0-858><a id=__codelineno-0-858 name=__codelineno-0-858></a>            <span class=sa>r</span><span class=s2>&quot;(&quot;</span>  <span class=c1># 2. Optional AM/PM group</span>
</span><span id=__span-0-859><a id=__codelineno-0-859 name=__codelineno-0-859></a>            <span class=sa>r</span><span class=s2>&quot;(\s)?&quot;</span>  <span class=c1># 3. Optional Space</span>
</span><span id=__span-0-860><a id=__codelineno-0-860 name=__codelineno-0-860></a>            <span class=sa>r</span><span class=s2>&quot;(?:AM|PM|am|pm)&quot;</span>  <span class=c1># AM/PM string matching</span>
</span><span id=__span-0-861><a id=__codelineno-0-861 name=__codelineno-0-861></a>            <span class=sa>r</span><span class=s2>&quot;)?&quot;</span>  <span class=c1># End optional AM/PM group</span>
</span><span id=__span-0-862><a id=__codelineno-0-862 name=__codelineno-0-862></a>        <span class=p>)</span>
</span><span id=__span-0-863><a id=__codelineno-0-863 name=__codelineno-0-863></a>    <span class=n>pattern_str</span> <span class=o>+=</span> <span class=sa>r</span><span class=s2>&quot;$&quot;</span>  <span class=c1># End of string</span>
</span><span id=__span-0-864><a id=__codelineno-0-864 name=__codelineno-0-864></a>
</span><span id=__span-0-865><a id=__codelineno-0-865 name=__codelineno-0-865></a>    <span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=n>pattern_str</span><span class=p>)</span>
</span><span id=__span-0-866><a id=__codelineno-0-866 name=__codelineno-0-866></a>
</span><span id=__span-0-867><a id=__codelineno-0-867 name=__codelineno-0-867></a>    <span class=n>exc_message</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
</span><span id=__span-0-868><a id=__codelineno-0-868 name=__codelineno-0-868></a>    <span class=k>if</span> <span class=n>date</span><span class=p>:</span>
</span><span id=__span-0-869><a id=__codelineno-0-869 name=__codelineno-0-869></a>        <span class=n>exc_message</span> <span class=o>+=</span> <span class=s2>&quot;date&quot;</span>
</span><span id=__span-0-870><a id=__codelineno-0-870 name=__codelineno-0-870></a>    <span class=k>if</span> <span class=n>time</span><span class=p>:</span>
</span><span id=__span-0-871><a id=__codelineno-0-871 name=__codelineno-0-871></a>        <span class=n>exc_message</span> <span class=o>+=</span> <span class=s2>&quot;time&quot;</span>
</span><span id=__span-0-872><a id=__codelineno-0-872 name=__codelineno-0-872></a>
</span><span id=__span-0-873><a id=__codelineno-0-873 name=__codelineno-0-873></a>    <span class=n>schema</span> <span class=o>=</span> <span class=n>Schema</span><span class=p>({})</span>
</span><span id=__span-0-874><a id=__codelineno-0-874 name=__codelineno-0-874></a>    <span class=k>if</span> <span class=n>date</span><span class=p>:</span>
</span><span id=__span-0-875><a id=__codelineno-0-875 name=__codelineno-0-875></a>        <span class=n>schema</span> <span class=o>=</span> <span class=n>schema</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
</span><span id=__span-0-876><a id=__codelineno-0-876 name=__codelineno-0-876></a>            <span class=p>{</span>
</span><span id=__span-0-877><a id=__codelineno-0-877 name=__codelineno-0-877></a>                <span class=n>Required</span><span class=p>(</span><span class=n>CONF_YEAR</span><span class=p>):</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>1970</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>3000</span><span class=p>),</span>
</span><span id=__span-0-878><a id=__codelineno-0-878 name=__codelineno-0-878></a>                <span class=n>Required</span><span class=p>(</span><span class=n>CONF_MONTH</span><span class=p>):</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>12</span><span class=p>),</span>
</span><span id=__span-0-879><a id=__codelineno-0-879 name=__codelineno-0-879></a>                <span class=n>Required</span><span class=p>(</span><span class=n>CONF_DAY</span><span class=p>):</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>31</span><span class=p>),</span>
</span><span id=__span-0-880><a id=__codelineno-0-880 name=__codelineno-0-880></a>            <span class=p>}</span>
</span><span id=__span-0-881><a id=__codelineno-0-881 name=__codelineno-0-881></a>        <span class=p>)</span>
</span><span id=__span-0-882><a id=__codelineno-0-882 name=__codelineno-0-882></a>    <span class=k>if</span> <span class=n>time</span><span class=p>:</span>
</span><span id=__span-0-883><a id=__codelineno-0-883 name=__codelineno-0-883></a>        <span class=n>schema</span> <span class=o>=</span> <span class=n>schema</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
</span><span id=__span-0-884><a id=__codelineno-0-884 name=__codelineno-0-884></a>            <span class=p>{</span>
</span><span id=__span-0-885><a id=__codelineno-0-885 name=__codelineno-0-885></a>                <span class=n>Required</span><span class=p>(</span><span class=n>CONF_HOUR</span><span class=p>):</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>23</span><span class=p>),</span>
</span><span id=__span-0-886><a id=__codelineno-0-886 name=__codelineno-0-886></a>                <span class=n>Required</span><span class=p>(</span><span class=n>CONF_MINUTE</span><span class=p>):</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>59</span><span class=p>),</span>
</span><span id=__span-0-887><a id=__codelineno-0-887 name=__codelineno-0-887></a>                <span class=n>Required</span><span class=p>(</span><span class=n>CONF_SECOND</span><span class=p>):</span> <span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=mi>59</span><span class=p>),</span>
</span><span id=__span-0-888><a id=__codelineno-0-888 name=__codelineno-0-888></a>            <span class=p>}</span>
</span><span id=__span-0-889><a id=__codelineno-0-889 name=__codelineno-0-889></a>        <span class=p>)</span>
</span><span id=__span-0-890><a id=__codelineno-0-890 name=__codelineno-0-890></a>
</span><span id=__span-0-891><a id=__codelineno-0-891 name=__codelineno-0-891></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-892><a id=__codelineno-0-892 name=__codelineno-0-892></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-893><a id=__codelineno-0-893 name=__codelineno-0-893></a>            <span class=k>return</span> <span class=n>schema</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-894><a id=__codelineno-0-894 name=__codelineno-0-894></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>string</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-895><a id=__codelineno-0-895 name=__codelineno-0-895></a>
</span><span id=__span-0-896><a id=__codelineno-0-896 name=__codelineno-0-896></a>        <span class=n>match</span> <span class=o>=</span> <span class=n>pattern</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-897><a id=__codelineno-0-897 name=__codelineno-0-897></a>        <span class=k>if</span> <span class=n>match</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-898><a id=__codelineno-0-898 name=__codelineno-0-898></a>            <span class=c1># pylint: disable=raise-missing-from</span>
</span><span id=__span-0-899><a id=__codelineno-0-899 name=__codelineno-0-899></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid </span><span class=si>{</span><span class=n>exc_message</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-900><a id=__codelineno-0-900 name=__codelineno-0-900></a>
</span><span id=__span-0-901><a id=__codelineno-0-901 name=__codelineno-0-901></a>        <span class=k>if</span> <span class=n>time</span><span class=p>:</span>
</span><span id=__span-0-902><a id=__codelineno-0-902 name=__codelineno-0-902></a>            <span class=n>has_seconds</span> <span class=o>=</span> <span class=n>match</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
</span><span id=__span-0-903><a id=__codelineno-0-903 name=__codelineno-0-903></a>            <span class=n>has_ampm</span> <span class=o>=</span> <span class=n>match</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
</span><span id=__span-0-904><a id=__codelineno-0-904 name=__codelineno-0-904></a>            <span class=n>has_ampm_space</span> <span class=o>=</span> <span class=n>match</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
</span><span id=__span-0-905><a id=__codelineno-0-905 name=__codelineno-0-905></a>
</span><span id=__span-0-906><a id=__codelineno-0-906 name=__codelineno-0-906></a>        <span class=nb>format</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
</span><span id=__span-0-907><a id=__codelineno-0-907 name=__codelineno-0-907></a>        <span class=k>if</span> <span class=n>date</span><span class=p>:</span>
</span><span id=__span-0-908><a id=__codelineno-0-908 name=__codelineno-0-908></a>            <span class=nb>format</span> <span class=o>+=</span> <span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>&quot;</span>
</span><span id=__span-0-909><a id=__codelineno-0-909 name=__codelineno-0-909></a>            <span class=k>if</span> <span class=n>time</span><span class=p>:</span>
</span><span id=__span-0-910><a id=__codelineno-0-910 name=__codelineno-0-910></a>                <span class=nb>format</span> <span class=o>+=</span> <span class=s2>&quot; &quot;</span>
</span><span id=__span-0-911><a id=__codelineno-0-911 name=__codelineno-0-911></a>        <span class=k>if</span> <span class=n>time</span><span class=p>:</span>
</span><span id=__span-0-912><a id=__codelineno-0-912 name=__codelineno-0-912></a>            <span class=k>if</span> <span class=n>has_ampm</span><span class=p>:</span>
</span><span id=__span-0-913><a id=__codelineno-0-913 name=__codelineno-0-913></a>                <span class=nb>format</span> <span class=o>+=</span> <span class=s2>&quot;%I:%M&quot;</span>
</span><span id=__span-0-914><a id=__codelineno-0-914 name=__codelineno-0-914></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-915><a id=__codelineno-0-915 name=__codelineno-0-915></a>                <span class=nb>format</span> <span class=o>+=</span> <span class=s2>&quot;%H:%M&quot;</span>
</span><span id=__span-0-916><a id=__codelineno-0-916 name=__codelineno-0-916></a>            <span class=k>if</span> <span class=n>has_seconds</span><span class=p>:</span>
</span><span id=__span-0-917><a id=__codelineno-0-917 name=__codelineno-0-917></a>                <span class=nb>format</span> <span class=o>+=</span> <span class=s2>&quot;:%S&quot;</span>
</span><span id=__span-0-918><a id=__codelineno-0-918 name=__codelineno-0-918></a>            <span class=k>if</span> <span class=n>has_ampm_space</span><span class=p>:</span>
</span><span id=__span-0-919><a id=__codelineno-0-919 name=__codelineno-0-919></a>                <span class=nb>format</span> <span class=o>+=</span> <span class=s2>&quot; &quot;</span>
</span><span id=__span-0-920><a id=__codelineno-0-920 name=__codelineno-0-920></a>            <span class=k>if</span> <span class=n>has_ampm</span><span class=p>:</span>
</span><span id=__span-0-921><a id=__codelineno-0-921 name=__codelineno-0-921></a>                <span class=nb>format</span> <span class=o>+=</span> <span class=s2>&quot;%p&quot;</span>
</span><span id=__span-0-922><a id=__codelineno-0-922 name=__codelineno-0-922></a>
</span><span id=__span-0-923><a id=__codelineno-0-923 name=__codelineno-0-923></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-924><a id=__codelineno-0-924 name=__codelineno-0-924></a>            <span class=n>date_obj</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>format</span><span class=p>)</span>
</span><span id=__span-0-925><a id=__codelineno-0-925 name=__codelineno-0-925></a>        <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>err</span><span class=p>:</span>
</span><span id=__span-0-926><a id=__codelineno-0-926 name=__codelineno-0-926></a>            <span class=c1># pylint: disable=raise-missing-from</span>
</span><span id=__span-0-927><a id=__codelineno-0-927 name=__codelineno-0-927></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid </span><span class=si>{</span><span class=n>exc_message</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>err</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-928><a id=__codelineno-0-928 name=__codelineno-0-928></a>
</span><span id=__span-0-929><a id=__codelineno-0-929 name=__codelineno-0-929></a>        <span class=n>return_value</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-930><a id=__codelineno-0-930 name=__codelineno-0-930></a>        <span class=k>if</span> <span class=n>date</span><span class=p>:</span>
</span><span id=__span-0-931><a id=__codelineno-0-931 name=__codelineno-0-931></a>            <span class=n>return_value</span><span class=p>[</span><span class=n>CONF_YEAR</span><span class=p>]</span> <span class=o>=</span> <span class=n>date_obj</span><span class=o>.</span><span class=n>year</span>
</span><span id=__span-0-932><a id=__codelineno-0-932 name=__codelineno-0-932></a>            <span class=n>return_value</span><span class=p>[</span><span class=n>CONF_MONTH</span><span class=p>]</span> <span class=o>=</span> <span class=n>date_obj</span><span class=o>.</span><span class=n>month</span>
</span><span id=__span-0-933><a id=__codelineno-0-933 name=__codelineno-0-933></a>            <span class=n>return_value</span><span class=p>[</span><span class=n>CONF_DAY</span><span class=p>]</span> <span class=o>=</span> <span class=n>date_obj</span><span class=o>.</span><span class=n>day</span>
</span><span id=__span-0-934><a id=__codelineno-0-934 name=__codelineno-0-934></a>
</span><span id=__span-0-935><a id=__codelineno-0-935 name=__codelineno-0-935></a>        <span class=k>if</span> <span class=n>time</span><span class=p>:</span>
</span><span id=__span-0-936><a id=__codelineno-0-936 name=__codelineno-0-936></a>            <span class=n>return_value</span><span class=p>[</span><span class=n>CONF_HOUR</span><span class=p>]</span> <span class=o>=</span> <span class=n>date_obj</span><span class=o>.</span><span class=n>hour</span>
</span><span id=__span-0-937><a id=__codelineno-0-937 name=__codelineno-0-937></a>            <span class=n>return_value</span><span class=p>[</span><span class=n>CONF_MINUTE</span><span class=p>]</span> <span class=o>=</span> <span class=n>date_obj</span><span class=o>.</span><span class=n>minute</span>
</span><span id=__span-0-938><a id=__codelineno-0-938 name=__codelineno-0-938></a>            <span class=n>return_value</span><span class=p>[</span><span class=n>CONF_SECOND</span><span class=p>]</span> <span class=o>=</span> <span class=n>date_obj</span><span class=o>.</span><span class=n>second</span> <span class=k>if</span> <span class=n>has_seconds</span> <span class=k>else</span> <span class=mi>0</span>
</span><span id=__span-0-939><a id=__codelineno-0-939 name=__codelineno-0-939></a>
</span><span id=__span-0-940><a id=__codelineno-0-940 name=__codelineno-0-940></a>        <span class=k>return</span> <span class=n>schema</span><span class=p>(</span><span class=n>return_value</span><span class=p>)</span>
</span><span id=__span-0-941><a id=__codelineno-0-941 name=__codelineno-0-941></a>
</span><span id=__span-0-942><a id=__codelineno-0-942 name=__codelineno-0-942></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.declare_id class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>declare_id</span><span class=p>(</span><span class=nb>type</span><span class=p>)</span></code> <a href=#config_validation.declare_id class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Declare that this configuration option should be used to declare a variable ID with the given type.</p> <p>If two IDs with the same name exist, a validation error is thrown.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-542>542</a></span>
<span class=normal><a href=#__codelineno-0-543>543</a></span>
<span class=normal><a href=#__codelineno-0-544>544</a></span>
<span class=normal><a href=#__codelineno-0-545>545</a></span>
<span class=normal><a href=#__codelineno-0-546>546</a></span>
<span class=normal><a href=#__codelineno-0-547>547</a></span>
<span class=normal><a href=#__codelineno-0-548>548</a></span>
<span class=normal><a href=#__codelineno-0-549>549</a></span>
<span class=normal><a href=#__codelineno-0-550>550</a></span>
<span class=normal><a href=#__codelineno-0-551>551</a></span>
<span class=normal><a href=#__codelineno-0-552>552</a></span>
<span class=normal><a href=#__codelineno-0-553>553</a></span>
<span class=normal><a href=#__codelineno-0-554>554</a></span>
<span class=normal><a href=#__codelineno-0-555>555</a></span>
<span class=normal><a href=#__codelineno-0-556>556</a></span>
<span class=normal><a href=#__codelineno-0-557>557</a></span>
<span class=normal><a href=#__codelineno-0-558>558</a></span>
<span class=normal><a href=#__codelineno-0-559>559</a></span>
<span class=normal><a href=#__codelineno-0-560>560</a></span>
<span class=normal><a href=#__codelineno-0-561>561</a></span>
<span class=normal><a href=#__codelineno-0-562>562</a></span>
<span class=normal><a href=#__codelineno-0-563>563</a></span>
<span class=normal><a href=#__codelineno-0-564>564</a></span>
<span class=normal><a href=#__codelineno-0-565>565</a></span>
<span class=normal><a href=#__codelineno-0-566>566</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-542><a id=__codelineno-0-542 name=__codelineno-0-542></a><span class=k>def</span> <span class=nf>declare_id</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
</span><span id=__span-0-543><a id=__codelineno-0-543 name=__codelineno-0-543></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Declare that this configuration option should be used to declare a variable ID</span>
</span><span id=__span-0-544><a id=__codelineno-0-544 name=__codelineno-0-544></a><span class=sd>    with the given type.</span>
</span><span id=__span-0-545><a id=__codelineno-0-545 name=__codelineno-0-545></a>
</span><span id=__span-0-546><a id=__codelineno-0-546 name=__codelineno-0-546></a><span class=sd>    If two IDs with the same name exist, a validation error is thrown.</span>
</span><span id=__span-0-547><a id=__codelineno-0-547 name=__codelineno-0-547></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-548><a id=__codelineno-0-548 name=__codelineno-0-548></a>
</span><span id=__span-0-549><a id=__codelineno-0-549 name=__codelineno-0-549></a>    <span class=nd>@schema_extractor</span><span class=p>(</span><span class=s2>&quot;declare_id&quot;</span><span class=p>)</span>
</span><span id=__span-0-550><a id=__codelineno-0-550 name=__codelineno-0-550></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-551><a id=__codelineno-0-551 name=__codelineno-0-551></a>        <span class=k>if</span> <span class=n>value</span> <span class=o>==</span> <span class=n>SCHEMA_EXTRACT</span><span class=p>:</span>
</span><span id=__span-0-552><a id=__codelineno-0-552 name=__codelineno-0-552></a>            <span class=k>return</span> <span class=nb>type</span>
</span><span id=__span-0-553><a id=__codelineno-0-553 name=__codelineno-0-553></a>
</span><span id=__span-0-554><a id=__codelineno-0-554 name=__codelineno-0-554></a>        <span class=n>check_not_templatable</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-555><a id=__codelineno-0-555 name=__codelineno-0-555></a>        <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-556><a id=__codelineno-0-556 name=__codelineno-0-556></a>            <span class=k>return</span> <span class=n>core</span><span class=o>.</span><span class=n>ID</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>is_declaration</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=nb>type</span><span class=p>)</span>
</span><span id=__span-0-557><a id=__codelineno-0-557 name=__codelineno-0-557></a>
</span><span id=__span-0-558><a id=__codelineno-0-558 name=__codelineno-0-558></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>Extend</span><span class=p>):</span>
</span><span id=__span-0-559><a id=__codelineno-0-559 name=__codelineno-0-559></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Source for extension of ID &#39;</span><span class=si>{</span><span class=n>value</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s2>&#39; was not found.&quot;</span><span class=p>)</span>
</span><span id=__span-0-560><a id=__codelineno-0-560 name=__codelineno-0-560></a>
</span><span id=__span-0-561><a id=__codelineno-0-561 name=__codelineno-0-561></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>Remove</span><span class=p>):</span>
</span><span id=__span-0-562><a id=__codelineno-0-562 name=__codelineno-0-562></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Source for Removal of ID &#39;</span><span class=si>{</span><span class=n>value</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s2>&#39; was not found.&quot;</span><span class=p>)</span>
</span><span id=__span-0-563><a id=__codelineno-0-563 name=__codelineno-0-563></a>
</span><span id=__span-0-564><a id=__codelineno-0-564 name=__codelineno-0-564></a>        <span class=k>return</span> <span class=n>core</span><span class=o>.</span><span class=n>ID</span><span class=p>(</span><span class=n>validate_id_name</span><span class=p>(</span><span class=n>value</span><span class=p>),</span> <span class=n>is_declaration</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=nb>type</span><span class=p>)</span>
</span><span id=__span-0-565><a id=__codelineno-0-565 name=__codelineno-0-565></a>
</span><span id=__span-0-566><a id=__codelineno-0-566 name=__codelineno-0-566></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.dimensions class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>dimensions</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.dimensions class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1473>1473</a></span>
<span class=normal><a href=#__codelineno-0-1474>1474</a></span>
<span class=normal><a href=#__codelineno-0-1475>1475</a></span>
<span class=normal><a href=#__codelineno-0-1476>1476</a></span>
<span class=normal><a href=#__codelineno-0-1477>1477</a></span>
<span class=normal><a href=#__codelineno-0-1478>1478</a></span>
<span class=normal><a href=#__codelineno-0-1479>1479</a></span>
<span class=normal><a href=#__codelineno-0-1480>1480</a></span>
<span class=normal><a href=#__codelineno-0-1481>1481</a></span>
<span class=normal><a href=#__codelineno-0-1482>1482</a></span>
<span class=normal><a href=#__codelineno-0-1483>1483</a></span>
<span class=normal><a href=#__codelineno-0-1484>1484</a></span>
<span class=normal><a href=#__codelineno-0-1485>1485</a></span>
<span class=normal><a href=#__codelineno-0-1486>1486</a></span>
<span class=normal><a href=#__codelineno-0-1487>1487</a></span>
<span class=normal><a href=#__codelineno-0-1488>1488</a></span>
<span class=normal><a href=#__codelineno-0-1489>1489</a></span>
<span class=normal><a href=#__codelineno-0-1490>1490</a></span>
<span class=normal><a href=#__codelineno-0-1491>1491</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1473><a id=__codelineno-0-1473 name=__codelineno-0-1473></a><span class=k>def</span> <span class=nf>dimensions</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1474><a id=__codelineno-0-1474 name=__codelineno-0-1474></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
</span><span id=__span-0-1475><a id=__codelineno-0-1475 name=__codelineno-0-1475></a>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>2</span><span class=p>:</span>
</span><span id=__span-0-1476><a id=__codelineno-0-1476 name=__codelineno-0-1476></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Dimensions must have a length of two, not </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>value</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-1477><a id=__codelineno-0-1477 name=__codelineno-0-1477></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1478><a id=__codelineno-0-1478 name=__codelineno-0-1478></a>            <span class=n>width</span><span class=p>,</span> <span class=n>height</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>value</span><span class=p>[</span><span class=mi>0</span><span class=p>]),</span> <span class=nb>int</span><span class=p>(</span><span class=n>value</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</span><span id=__span-0-1479><a id=__codelineno-0-1479 name=__codelineno-0-1479></a>        <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span><span id=__span-0-1480><a id=__codelineno-0-1480 name=__codelineno-0-1480></a>            <span class=c1># pylint: disable=raise-missing-from</span>
</span><span id=__span-0-1481><a id=__codelineno-0-1481 name=__codelineno-0-1481></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Width and height dimensions must be integers&quot;</span><span class=p>)</span>
</span><span id=__span-0-1482><a id=__codelineno-0-1482 name=__codelineno-0-1482></a>        <span class=k>if</span> <span class=n>width</span> <span class=o>&lt;=</span> <span class=mi>0</span> <span class=ow>or</span> <span class=n>height</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-1483><a id=__codelineno-0-1483 name=__codelineno-0-1483></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Width and height must at least be 1&quot;</span><span class=p>)</span>
</span><span id=__span-0-1484><a id=__codelineno-0-1484 name=__codelineno-0-1484></a>        <span class=k>return</span> <span class=p>[</span><span class=n>width</span><span class=p>,</span> <span class=n>height</span><span class=p>]</span>
</span><span id=__span-0-1485><a id=__codelineno-0-1485 name=__codelineno-0-1485></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1486><a id=__codelineno-0-1486 name=__codelineno-0-1486></a>    <span class=n>match</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;\s*([0-9]+)\s*[xX]\s*([0-9]+)\s*&quot;</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1487><a id=__codelineno-0-1487 name=__codelineno-0-1487></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>match</span><span class=p>:</span>
</span><span id=__span-0-1488><a id=__codelineno-0-1488 name=__codelineno-0-1488></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1489><a id=__codelineno-0-1489 name=__codelineno-0-1489></a>            <span class=s2>&quot;Invalid value &#39;</span><span class=si>{}</span><span class=s2>&#39; for dimensions. Only WIDTHxHEIGHT is allowed.&quot;</span>
</span><span id=__span-0-1490><a id=__codelineno-0-1490 name=__codelineno-0-1490></a>        <span class=p>)</span>
</span><span id=__span-0-1491><a id=__codelineno-0-1491 name=__codelineno-0-1491></a>    <span class=k>return</span> <span class=n>dimensions</span><span class=p>([</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>1</span><span class=p>),</span> <span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>2</span><span class=p>)])</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.directory class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>directory</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.directory class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1494>1494</a></span>
<span class=normal><a href=#__codelineno-0-1495>1495</a></span>
<span class=normal><a href=#__codelineno-0-1496>1496</a></span>
<span class=normal><a href=#__codelineno-0-1497>1497</a></span>
<span class=normal><a href=#__codelineno-0-1498>1498</a></span>
<span class=normal><a href=#__codelineno-0-1499>1499</a></span>
<span class=normal><a href=#__codelineno-0-1500>1500</a></span>
<span class=normal><a href=#__codelineno-0-1501>1501</a></span>
<span class=normal><a href=#__codelineno-0-1502>1502</a></span>
<span class=normal><a href=#__codelineno-0-1503>1503</a></span>
<span class=normal><a href=#__codelineno-0-1504>1504</a></span>
<span class=normal><a href=#__codelineno-0-1505>1505</a></span>
<span class=normal><a href=#__codelineno-0-1506>1506</a></span>
<span class=normal><a href=#__codelineno-0-1507>1507</a></span>
<span class=normal><a href=#__codelineno-0-1508>1508</a></span>
<span class=normal><a href=#__codelineno-0-1509>1509</a></span>
<span class=normal><a href=#__codelineno-0-1510>1510</a></span>
<span class=normal><a href=#__codelineno-0-1511>1511</a></span>
<span class=normal><a href=#__codelineno-0-1512>1512</a></span>
<span class=normal><a href=#__codelineno-0-1513>1513</a></span>
<span class=normal><a href=#__codelineno-0-1514>1514</a></span>
<span class=normal><a href=#__codelineno-0-1515>1515</a></span>
<span class=normal><a href=#__codelineno-0-1516>1516</a></span>
<span class=normal><a href=#__codelineno-0-1517>1517</a></span>
<span class=normal><a href=#__codelineno-0-1518>1518</a></span>
<span class=normal><a href=#__codelineno-0-1519>1519</a></span>
<span class=normal><a href=#__codelineno-0-1520>1520</a></span>
<span class=normal><a href=#__codelineno-0-1521>1521</a></span>
<span class=normal><a href=#__codelineno-0-1522>1522</a></span>
<span class=normal><a href=#__codelineno-0-1523>1523</a></span>
<span class=normal><a href=#__codelineno-0-1524>1524</a></span>
<span class=normal><a href=#__codelineno-0-1525>1525</a></span>
<span class=normal><a href=#__codelineno-0-1526>1526</a></span>
<span class=normal><a href=#__codelineno-0-1527>1527</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1494><a id=__codelineno-0-1494 name=__codelineno-0-1494></a><span class=k>def</span> <span class=nf>directory</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1495><a id=__codelineno-0-1495 name=__codelineno-0-1495></a>    <span class=kn>import</span> <span class=nn>json</span>
</span><span id=__span-0-1496><a id=__codelineno-0-1496 name=__codelineno-0-1496></a>
</span><span id=__span-0-1497><a id=__codelineno-0-1497 name=__codelineno-0-1497></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1498><a id=__codelineno-0-1498 name=__codelineno-0-1498></a>    <span class=n>path</span> <span class=o>=</span> <span class=n>CORE</span><span class=o>.</span><span class=n>relative_config_path</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1499><a id=__codelineno-0-1499 name=__codelineno-0-1499></a>
</span><span id=__span-0-1500><a id=__codelineno-0-1500 name=__codelineno-0-1500></a>    <span class=k>if</span> <span class=n>CORE</span><span class=o>.</span><span class=n>vscode</span> <span class=ow>and</span> <span class=p>(</span>
</span><span id=__span-0-1501><a id=__codelineno-0-1501 name=__codelineno-0-1501></a>        <span class=ow>not</span> <span class=n>CORE</span><span class=o>.</span><span class=n>ace</span> <span class=ow>or</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=o>==</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>CORE</span><span class=o>.</span><span class=n>config_path</span><span class=p>)</span>
</span><span id=__span-0-1502><a id=__codelineno-0-1502 name=__codelineno-0-1502></a>    <span class=p>):</span>
</span><span id=__span-0-1503><a id=__codelineno-0-1503 name=__codelineno-0-1503></a>        <span class=nb>print</span><span class=p>(</span>
</span><span id=__span-0-1504><a id=__codelineno-0-1504 name=__codelineno-0-1504></a>            <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span>
</span><span id=__span-0-1505><a id=__codelineno-0-1505 name=__codelineno-0-1505></a>                <span class=p>{</span>
</span><span id=__span-0-1506><a id=__codelineno-0-1506 name=__codelineno-0-1506></a>                    <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;check_directory_exists&quot;</span><span class=p>,</span>
</span><span id=__span-0-1507><a id=__codelineno-0-1507 name=__codelineno-0-1507></a>                    <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=n>path</span><span class=p>,</span>
</span><span id=__span-0-1508><a id=__codelineno-0-1508 name=__codelineno-0-1508></a>                <span class=p>}</span>
</span><span id=__span-0-1509><a id=__codelineno-0-1509 name=__codelineno-0-1509></a>            <span class=p>)</span>
</span><span id=__span-0-1510><a id=__codelineno-0-1510 name=__codelineno-0-1510></a>        <span class=p>)</span>
</span><span id=__span-0-1511><a id=__codelineno-0-1511 name=__codelineno-0-1511></a>        <span class=n>data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=nb>input</span><span class=p>())</span>
</span><span id=__span-0-1512><a id=__codelineno-0-1512 name=__codelineno-0-1512></a>        <span class=k>assert</span> <span class=n>data</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;directory_exists_response&quot;</span>
</span><span id=__span-0-1513><a id=__codelineno-0-1513 name=__codelineno-0-1513></a>        <span class=k>if</span> <span class=n>data</span><span class=p>[</span><span class=s2>&quot;content&quot;</span><span class=p>]:</span>
</span><span id=__span-0-1514><a id=__codelineno-0-1514 name=__codelineno-0-1514></a>            <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-1515><a id=__codelineno-0-1515 name=__codelineno-0-1515></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1516><a id=__codelineno-0-1516 name=__codelineno-0-1516></a>            <span class=sa>f</span><span class=s2>&quot;Could not find directory &#39;</span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>&#39;. Please make sure it exists (full path: </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>path</span><span class=p>)</span><span class=si>}</span><span class=s2>).&quot;</span>
</span><span id=__span-0-1517><a id=__codelineno-0-1517 name=__codelineno-0-1517></a>        <span class=p>)</span>
</span><span id=__span-0-1518><a id=__codelineno-0-1518 name=__codelineno-0-1518></a>
</span><span id=__span-0-1519><a id=__codelineno-0-1519 name=__codelineno-0-1519></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
</span><span id=__span-0-1520><a id=__codelineno-0-1520 name=__codelineno-0-1520></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1521><a id=__codelineno-0-1521 name=__codelineno-0-1521></a>            <span class=sa>f</span><span class=s2>&quot;Could not find directory &#39;</span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>&#39;. Please make sure it exists (full path: </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>path</span><span class=p>)</span><span class=si>}</span><span class=s2>).&quot;</span>
</span><span id=__span-0-1522><a id=__codelineno-0-1522 name=__codelineno-0-1522></a>        <span class=p>)</span>
</span><span id=__span-0-1523><a id=__codelineno-0-1523 name=__codelineno-0-1523></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>isdir</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
</span><span id=__span-0-1524><a id=__codelineno-0-1524 name=__codelineno-0-1524></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1525><a id=__codelineno-0-1525 name=__codelineno-0-1525></a>            <span class=sa>f</span><span class=s2>&quot;Path &#39;</span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>&#39; is not a directory (full path: </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>path</span><span class=p>)</span><span class=si>}</span><span class=s2>).&quot;</span>
</span><span id=__span-0-1526><a id=__codelineno-0-1526 name=__codelineno-0-1526></a>        <span class=p>)</span>
</span><span id=__span-0-1527><a id=__codelineno-0-1527 name=__codelineno-0-1527></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.domain class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>domain</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.domain class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1128>1128</a></span>
<span class=normal><a href=#__codelineno-0-1129>1129</a></span>
<span class=normal><a href=#__codelineno-0-1130>1130</a></span>
<span class=normal><a href=#__codelineno-0-1131>1131</a></span>
<span class=normal><a href=#__codelineno-0-1132>1132</a></span>
<span class=normal><a href=#__codelineno-0-1133>1133</a></span>
<span class=normal><a href=#__codelineno-0-1134>1134</a></span>
<span class=normal><a href=#__codelineno-0-1135>1135</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1128><a id=__codelineno-0-1128 name=__codelineno-0-1128></a><span class=k>def</span> <span class=nf>domain</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1129><a id=__codelineno-0-1129 name=__codelineno-0-1129></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1130><a id=__codelineno-0-1130 name=__codelineno-0-1130></a>    <span class=k>if</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=n>vol</span><span class=o>.</span><span class=n>DOMAIN_REGEX</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1131><a id=__codelineno-0-1131 name=__codelineno-0-1131></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-1132><a id=__codelineno-0-1132 name=__codelineno-0-1132></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1133><a id=__codelineno-0-1133 name=__codelineno-0-1133></a>        <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=n>ipv4</span><span class=p>(</span><span class=n>value</span><span class=p>))</span>
</span><span id=__span-0-1134><a id=__codelineno-0-1134 name=__codelineno-0-1134></a>    <span class=k>except</span> <span class=n>Invalid</span> <span class=k>as</span> <span class=n>err</span><span class=p>:</span>
</span><span id=__span-0-1135><a id=__codelineno-0-1135 name=__codelineno-0-1135></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid domain: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span> <span class=kn>from</span> <span class=nn>err</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.domain_name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>domain_name</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.domain_name class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1138>1138</a></span>
<span class=normal><a href=#__codelineno-0-1139>1139</a></span>
<span class=normal><a href=#__codelineno-0-1140>1140</a></span>
<span class=normal><a href=#__codelineno-0-1141>1141</a></span>
<span class=normal><a href=#__codelineno-0-1142>1142</a></span>
<span class=normal><a href=#__codelineno-0-1143>1143</a></span>
<span class=normal><a href=#__codelineno-0-1144>1144</a></span>
<span class=normal><a href=#__codelineno-0-1145>1145</a></span>
<span class=normal><a href=#__codelineno-0-1146>1146</a></span>
<span class=normal><a href=#__codelineno-0-1147>1147</a></span>
<span class=normal><a href=#__codelineno-0-1148>1148</a></span>
<span class=normal><a href=#__codelineno-0-1149>1149</a></span>
<span class=normal><a href=#__codelineno-0-1150>1150</a></span>
<span class=normal><a href=#__codelineno-0-1151>1151</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1138><a id=__codelineno-0-1138 name=__codelineno-0-1138></a><span class=k>def</span> <span class=nf>domain_name</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1139><a id=__codelineno-0-1139 name=__codelineno-0-1139></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1140><a id=__codelineno-0-1140 name=__codelineno-0-1140></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-1141><a id=__codelineno-0-1141 name=__codelineno-0-1141></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-1142><a id=__codelineno-0-1142 name=__codelineno-0-1142></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>value</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;.&quot;</span><span class=p>):</span>
</span><span id=__span-0-1143><a id=__codelineno-0-1143 name=__codelineno-0-1143></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Domain name must start with .&quot;</span><span class=p>)</span>
</span><span id=__span-0-1144><a id=__codelineno-0-1144 name=__codelineno-0-1144></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;..&quot;</span><span class=p>):</span>
</span><span id=__span-0-1145><a id=__codelineno-0-1145 name=__codelineno-0-1145></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Domain name must start with single .&quot;</span><span class=p>)</span>
</span><span id=__span-0-1146><a id=__codelineno-0-1146 name=__codelineno-0-1146></a>    <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-1147><a id=__codelineno-0-1147 name=__codelineno-0-1147></a>        <span class=k>if</span> <span class=ow>not</span> <span class=p>(</span><span class=n>c</span><span class=o>.</span><span class=n>isalnum</span><span class=p>()</span> <span class=ow>or</span> <span class=n>c</span> <span class=ow>in</span> <span class=s2>&quot;._-&quot;</span><span class=p>):</span>
</span><span id=__span-0-1148><a id=__codelineno-0-1148 name=__codelineno-0-1148></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1149><a id=__codelineno-0-1149 name=__codelineno-0-1149></a>                <span class=s2>&quot;Domain name can only have alphanumeric characters and _ or -&quot;</span>
</span><span id=__span-0-1150><a id=__codelineno-0-1150 name=__codelineno-0-1150></a>            <span class=p>)</span>
</span><span id=__span-0-1151><a id=__codelineno-0-1151 name=__codelineno-0-1151></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.ensure_list class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>ensure_list</span><span class=p>(</span><span class=o>*</span><span class=n>validators</span><span class=p>)</span></code> <a href=#config_validation.ensure_list class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate this configuration option to be a list.</p> <p>If the config value is not a list, it is automatically converted to a single-item list.</p> <p>None and empty dictionaries are converted to empty lists.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-388>388</a></span>
<span class=normal><a href=#__codelineno-0-389>389</a></span>
<span class=normal><a href=#__codelineno-0-390>390</a></span>
<span class=normal><a href=#__codelineno-0-391>391</a></span>
<span class=normal><a href=#__codelineno-0-392>392</a></span>
<span class=normal><a href=#__codelineno-0-393>393</a></span>
<span class=normal><a href=#__codelineno-0-394>394</a></span>
<span class=normal><a href=#__codelineno-0-395>395</a></span>
<span class=normal><a href=#__codelineno-0-396>396</a></span>
<span class=normal><a href=#__codelineno-0-397>397</a></span>
<span class=normal><a href=#__codelineno-0-398>398</a></span>
<span class=normal><a href=#__codelineno-0-399>399</a></span>
<span class=normal><a href=#__codelineno-0-400>400</a></span>
<span class=normal><a href=#__codelineno-0-401>401</a></span>
<span class=normal><a href=#__codelineno-0-402>402</a></span>
<span class=normal><a href=#__codelineno-0-403>403</a></span>
<span class=normal><a href=#__codelineno-0-404>404</a></span>
<span class=normal><a href=#__codelineno-0-405>405</a></span>
<span class=normal><a href=#__codelineno-0-406>406</a></span>
<span class=normal><a href=#__codelineno-0-407>407</a></span>
<span class=normal><a href=#__codelineno-0-408>408</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-388><a id=__codelineno-0-388 name=__codelineno-0-388></a><span class=nd>@schema_extractor_list</span>
</span><span id=__span-0-389><a id=__codelineno-0-389 name=__codelineno-0-389></a><span class=k>def</span> <span class=nf>ensure_list</span><span class=p>(</span><span class=o>*</span><span class=n>validators</span><span class=p>):</span>
</span><span id=__span-0-390><a id=__codelineno-0-390 name=__codelineno-0-390></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate this configuration option to be a list.</span>
</span><span id=__span-0-391><a id=__codelineno-0-391 name=__codelineno-0-391></a>
</span><span id=__span-0-392><a id=__codelineno-0-392 name=__codelineno-0-392></a><span class=sd>    If the config value is not a list, it is automatically converted to a</span>
</span><span id=__span-0-393><a id=__codelineno-0-393 name=__codelineno-0-393></a><span class=sd>    single-item list.</span>
</span><span id=__span-0-394><a id=__codelineno-0-394 name=__codelineno-0-394></a>
</span><span id=__span-0-395><a id=__codelineno-0-395 name=__codelineno-0-395></a><span class=sd>    None and empty dictionaries are converted to empty lists.</span>
</span><span id=__span-0-396><a id=__codelineno-0-396 name=__codelineno-0-396></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-397><a id=__codelineno-0-397 name=__codelineno-0-397></a>    <span class=n>user</span> <span class=o>=</span> <span class=n>All</span><span class=p>(</span><span class=o>*</span><span class=n>validators</span><span class=p>)</span>
</span><span id=__span-0-398><a id=__codelineno-0-398 name=__codelineno-0-398></a>    <span class=n>list_schema</span> <span class=o>=</span> <span class=n>Schema</span><span class=p>([</span><span class=n>user</span><span class=p>])</span>
</span><span id=__span-0-399><a id=__codelineno-0-399 name=__codelineno-0-399></a>
</span><span id=__span-0-400><a id=__codelineno-0-400 name=__codelineno-0-400></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-401><a id=__codelineno-0-401 name=__codelineno-0-401></a>        <span class=n>check_not_templatable</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-402><a id=__codelineno-0-402 name=__codelineno-0-402></a>        <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>or</span> <span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-403><a id=__codelineno-0-403 name=__codelineno-0-403></a>            <span class=k>return</span> <span class=p>[]</span>
</span><span id=__span-0-404><a id=__codelineno-0-404 name=__codelineno-0-404></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
</span><span id=__span-0-405><a id=__codelineno-0-405 name=__codelineno-0-405></a>            <span class=k>return</span> <span class=p>[</span><span class=n>user</span><span class=p>(</span><span class=n>value</span><span class=p>)]</span>
</span><span id=__span-0-406><a id=__codelineno-0-406 name=__codelineno-0-406></a>        <span class=k>return</span> <span class=n>list_schema</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-407><a id=__codelineno-0-407 name=__codelineno-0-407></a>
</span><span id=__span-0-408><a id=__codelineno-0-408 name=__codelineno-0-408></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.ensure_schema class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>ensure_schema</span><span class=p>(</span><span class=n>schema</span><span class=p>)</span></code> <a href=#config_validation.ensure_schema class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1783>1783</a></span>
<span class=normal><a href=#__codelineno-0-1784>1784</a></span>
<span class=normal><a href=#__codelineno-0-1785>1785</a></span>
<span class=normal><a href=#__codelineno-0-1786>1786</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1783><a id=__codelineno-0-1783 name=__codelineno-0-1783></a><span class=k>def</span> <span class=nf>ensure_schema</span><span class=p>(</span><span class=n>schema</span><span class=p>):</span>
</span><span id=__span-0-1784><a id=__codelineno-0-1784 name=__codelineno-0-1784></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>schema</span><span class=p>,</span> <span class=n>vol</span><span class=o>.</span><span class=n>Schema</span><span class=p>):</span>
</span><span id=__span-0-1785><a id=__codelineno-0-1785 name=__codelineno-0-1785></a>        <span class=k>return</span> <span class=n>Schema</span><span class=p>(</span><span class=n>schema</span><span class=p>)</span>
</span><span id=__span-0-1786><a id=__codelineno-0-1786 name=__codelineno-0-1786></a>    <span class=k>return</span> <span class=n>schema</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.entity_category class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>entity_category</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.entity_category class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1881>1881</a></span>
<span class=normal><a href=#__codelineno-0-1882>1882</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1881><a id=__codelineno-0-1881 name=__codelineno-0-1881></a><span class=k>def</span> <span class=nf>entity_category</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1882><a id=__codelineno-0-1882 name=__codelineno-0-1882></a>    <span class=k>return</span> <span class=n>enum</span><span class=p>(</span><span class=n>ENTITY_CATEGORIES</span><span class=p>,</span> <span class=n>lower</span><span class=o>=</span><span class=kc>True</span><span class=p>)(</span><span class=n>value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.entity_id class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>entity_id</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.entity_id class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that this option represents a valid Home Assistant entity id.</p> <p>Should only be used for 'homeassistant' platforms.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1569>1569</a></span>
<span class=normal><a href=#__codelineno-0-1570>1570</a></span>
<span class=normal><a href=#__codelineno-0-1571>1571</a></span>
<span class=normal><a href=#__codelineno-0-1572>1572</a></span>
<span class=normal><a href=#__codelineno-0-1573>1573</a></span>
<span class=normal><a href=#__codelineno-0-1574>1574</a></span>
<span class=normal><a href=#__codelineno-0-1575>1575</a></span>
<span class=normal><a href=#__codelineno-0-1576>1576</a></span>
<span class=normal><a href=#__codelineno-0-1577>1577</a></span>
<span class=normal><a href=#__codelineno-0-1578>1578</a></span>
<span class=normal><a href=#__codelineno-0-1579>1579</a></span>
<span class=normal><a href=#__codelineno-0-1580>1580</a></span>
<span class=normal><a href=#__codelineno-0-1581>1581</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1569><a id=__codelineno-0-1569 name=__codelineno-0-1569></a><span class=k>def</span> <span class=nf>entity_id</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1570><a id=__codelineno-0-1570 name=__codelineno-0-1570></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that this option represents a valid Home Assistant entity id.</span>
</span><span id=__span-0-1571><a id=__codelineno-0-1571 name=__codelineno-0-1571></a>
</span><span id=__span-0-1572><a id=__codelineno-0-1572 name=__codelineno-0-1572></a><span class=sd>    Should only be used for &#39;homeassistant&#39; platforms.</span>
</span><span id=__span-0-1573><a id=__codelineno-0-1573 name=__codelineno-0-1573></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1574><a id=__codelineno-0-1574 name=__codelineno-0-1574></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-0-1575><a id=__codelineno-0-1575 name=__codelineno-0-1575></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s2>&quot;.&quot;</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-1576><a id=__codelineno-0-1576 name=__codelineno-0-1576></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Entity ID must have exactly one dot in it&quot;</span><span class=p>)</span>
</span><span id=__span-0-1577><a id=__codelineno-0-1577 name=__codelineno-0-1577></a>    <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>value</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;.&quot;</span><span class=p>):</span>
</span><span id=__span-0-1578><a id=__codelineno-0-1578 name=__codelineno-0-1578></a>        <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>x</span><span class=p>:</span>
</span><span id=__span-0-1579><a id=__codelineno-0-1579 name=__codelineno-0-1579></a>            <span class=k>if</span> <span class=n>c</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>ENTITY_ID_CHARACTERS</span><span class=p>:</span>
</span><span id=__span-0-1580><a id=__codelineno-0-1580 name=__codelineno-0-1580></a>                <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid character for entity ID: </span><span class=si>{</span><span class=n>c</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-1581><a id=__codelineno-0-1581 name=__codelineno-0-1581></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.enum class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>enum</span><span class=p>(</span><span class=n>mapping</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></code> <a href=#config_validation.enum class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate this config option against an enum mapping.</p> <p>The mapping should be a dictionary with the key representing the config value name and a value representing the expression to set during code generation.</p> <p>Accepts all kwargs of one_of.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1415>1415</a></span>
<span class=normal><a href=#__codelineno-0-1416>1416</a></span>
<span class=normal><a href=#__codelineno-0-1417>1417</a></span>
<span class=normal><a href=#__codelineno-0-1418>1418</a></span>
<span class=normal><a href=#__codelineno-0-1419>1419</a></span>
<span class=normal><a href=#__codelineno-0-1420>1420</a></span>
<span class=normal><a href=#__codelineno-0-1421>1421</a></span>
<span class=normal><a href=#__codelineno-0-1422>1422</a></span>
<span class=normal><a href=#__codelineno-0-1423>1423</a></span>
<span class=normal><a href=#__codelineno-0-1424>1424</a></span>
<span class=normal><a href=#__codelineno-0-1425>1425</a></span>
<span class=normal><a href=#__codelineno-0-1426>1426</a></span>
<span class=normal><a href=#__codelineno-0-1427>1427</a></span>
<span class=normal><a href=#__codelineno-0-1428>1428</a></span>
<span class=normal><a href=#__codelineno-0-1429>1429</a></span>
<span class=normal><a href=#__codelineno-0-1430>1430</a></span>
<span class=normal><a href=#__codelineno-0-1431>1431</a></span>
<span class=normal><a href=#__codelineno-0-1432>1432</a></span>
<span class=normal><a href=#__codelineno-0-1433>1433</a></span>
<span class=normal><a href=#__codelineno-0-1434>1434</a></span>
<span class=normal><a href=#__codelineno-0-1435>1435</a></span>
<span class=normal><a href=#__codelineno-0-1436>1436</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1415><a id=__codelineno-0-1415 name=__codelineno-0-1415></a><span class=k>def</span> <span class=nf>enum</span><span class=p>(</span><span class=n>mapping</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span><span id=__span-0-1416><a id=__codelineno-0-1416 name=__codelineno-0-1416></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate this config option against an enum mapping.</span>
</span><span id=__span-0-1417><a id=__codelineno-0-1417 name=__codelineno-0-1417></a>
</span><span id=__span-0-1418><a id=__codelineno-0-1418 name=__codelineno-0-1418></a><span class=sd>    The mapping should be a dictionary with the key representing the config value name and</span>
</span><span id=__span-0-1419><a id=__codelineno-0-1419 name=__codelineno-0-1419></a><span class=sd>    a value representing the expression to set during code generation.</span>
</span><span id=__span-0-1420><a id=__codelineno-0-1420 name=__codelineno-0-1420></a>
</span><span id=__span-0-1421><a id=__codelineno-0-1421 name=__codelineno-0-1421></a><span class=sd>    Accepts all kwargs of one_of.</span>
</span><span id=__span-0-1422><a id=__codelineno-0-1422 name=__codelineno-0-1422></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1423><a id=__codelineno-0-1423 name=__codelineno-0-1423></a>    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>mapping</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span>
</span><span id=__span-0-1424><a id=__codelineno-0-1424 name=__codelineno-0-1424></a>    <span class=n>one_of_validator</span> <span class=o>=</span> <span class=n>one_of</span><span class=p>(</span><span class=o>*</span><span class=n>mapping</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span><span id=__span-0-1425><a id=__codelineno-0-1425 name=__codelineno-0-1425></a>
</span><span id=__span-0-1426><a id=__codelineno-0-1426 name=__codelineno-0-1426></a>    <span class=nd>@schema_extractor</span><span class=p>(</span><span class=s2>&quot;enum&quot;</span><span class=p>)</span>
</span><span id=__span-0-1427><a id=__codelineno-0-1427 name=__codelineno-0-1427></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1428><a id=__codelineno-0-1428 name=__codelineno-0-1428></a>        <span class=k>if</span> <span class=n>value</span> <span class=o>==</span> <span class=n>SCHEMA_EXTRACT</span><span class=p>:</span>
</span><span id=__span-0-1429><a id=__codelineno-0-1429 name=__codelineno-0-1429></a>            <span class=k>return</span> <span class=n>mapping</span>
</span><span id=__span-0-1430><a id=__codelineno-0-1430 name=__codelineno-0-1430></a>
</span><span id=__span-0-1431><a id=__codelineno-0-1431 name=__codelineno-0-1431></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>one_of_validator</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1432><a id=__codelineno-0-1432 name=__codelineno-0-1432></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>add_class_to_obj</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>core</span><span class=o>.</span><span class=n>EnumValue</span><span class=p>)</span>
</span><span id=__span-0-1433><a id=__codelineno-0-1433 name=__codelineno-0-1433></a>        <span class=n>value</span><span class=o>.</span><span class=n>enum_value</span> <span class=o>=</span> <span class=n>mapping</span><span class=p>[</span><span class=n>value</span><span class=p>]</span>
</span><span id=__span-0-1434><a id=__codelineno-0-1434 name=__codelineno-0-1434></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-1435><a id=__codelineno-0-1435 name=__codelineno-0-1435></a>
</span><span id=__span-0-1436><a id=__codelineno-0-1436 name=__codelineno-0-1436></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.extract_keys class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>extract_keys</span><span class=p>(</span><span class=n>schema</span><span class=p>)</span></code> <a href=#config_validation.extract_keys class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Extract the names of the keys from the given schema.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1584>1584</a></span>
<span class=normal><a href=#__codelineno-0-1585>1585</a></span>
<span class=normal><a href=#__codelineno-0-1586>1586</a></span>
<span class=normal><a href=#__codelineno-0-1587>1587</a></span>
<span class=normal><a href=#__codelineno-0-1588>1588</a></span>
<span class=normal><a href=#__codelineno-0-1589>1589</a></span>
<span class=normal><a href=#__codelineno-0-1590>1590</a></span>
<span class=normal><a href=#__codelineno-0-1591>1591</a></span>
<span class=normal><a href=#__codelineno-0-1592>1592</a></span>
<span class=normal><a href=#__codelineno-0-1593>1593</a></span>
<span class=normal><a href=#__codelineno-0-1594>1594</a></span>
<span class=normal><a href=#__codelineno-0-1595>1595</a></span>
<span class=normal><a href=#__codelineno-0-1596>1596</a></span>
<span class=normal><a href=#__codelineno-0-1597>1597</a></span>
<span class=normal><a href=#__codelineno-0-1598>1598</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1584><a id=__codelineno-0-1584 name=__codelineno-0-1584></a><span class=k>def</span> <span class=nf>extract_keys</span><span class=p>(</span><span class=n>schema</span><span class=p>):</span>
</span><span id=__span-0-1585><a id=__codelineno-0-1585 name=__codelineno-0-1585></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Extract the names of the keys from the given schema.&quot;&quot;&quot;</span>
</span><span id=__span-0-1586><a id=__codelineno-0-1586 name=__codelineno-0-1586></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>schema</span><span class=p>,</span> <span class=n>Schema</span><span class=p>):</span>
</span><span id=__span-0-1587><a id=__codelineno-0-1587 name=__codelineno-0-1587></a>        <span class=n>schema</span> <span class=o>=</span> <span class=n>schema</span><span class=o>.</span><span class=n>schema</span>
</span><span id=__span-0-1588><a id=__codelineno-0-1588 name=__codelineno-0-1588></a>    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>schema</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span>
</span><span id=__span-0-1589><a id=__codelineno-0-1589 name=__codelineno-0-1589></a>    <span class=n>keys</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-1590><a id=__codelineno-0-1590 name=__codelineno-0-1590></a>    <span class=k>for</span> <span class=n>skey</span> <span class=ow>in</span> <span class=nb>list</span><span class=p>(</span><span class=n>schema</span><span class=o>.</span><span class=n>keys</span><span class=p>()):</span>
</span><span id=__span-0-1591><a id=__codelineno-0-1591 name=__codelineno-0-1591></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>skey</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-1592><a id=__codelineno-0-1592 name=__codelineno-0-1592></a>            <span class=n>keys</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>skey</span><span class=p>)</span>
</span><span id=__span-0-1593><a id=__codelineno-0-1593 name=__codelineno-0-1593></a>        <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>skey</span><span class=p>,</span> <span class=n>vol</span><span class=o>.</span><span class=n>Marker</span><span class=p>)</span> <span class=ow>and</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>skey</span><span class=o>.</span><span class=n>schema</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-1594><a id=__codelineno-0-1594 name=__codelineno-0-1594></a>            <span class=n>keys</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>skey</span><span class=o>.</span><span class=n>schema</span><span class=p>)</span>
</span><span id=__span-0-1595><a id=__codelineno-0-1595 name=__codelineno-0-1595></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1596><a id=__codelineno-0-1596 name=__codelineno-0-1596></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>()</span>
</span><span id=__span-0-1597><a id=__codelineno-0-1597 name=__codelineno-0-1597></a>    <span class=n>keys</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>
</span><span id=__span-0-1598><a id=__codelineno-0-1598 name=__codelineno-0-1598></a>    <span class=k>return</span> <span class=n>keys</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.file_ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>file_</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.file_ class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1530>1530</a></span>
<span class=normal><a href=#__codelineno-0-1531>1531</a></span>
<span class=normal><a href=#__codelineno-0-1532>1532</a></span>
<span class=normal><a href=#__codelineno-0-1533>1533</a></span>
<span class=normal><a href=#__codelineno-0-1534>1534</a></span>
<span class=normal><a href=#__codelineno-0-1535>1535</a></span>
<span class=normal><a href=#__codelineno-0-1536>1536</a></span>
<span class=normal><a href=#__codelineno-0-1537>1537</a></span>
<span class=normal><a href=#__codelineno-0-1538>1538</a></span>
<span class=normal><a href=#__codelineno-0-1539>1539</a></span>
<span class=normal><a href=#__codelineno-0-1540>1540</a></span>
<span class=normal><a href=#__codelineno-0-1541>1541</a></span>
<span class=normal><a href=#__codelineno-0-1542>1542</a></span>
<span class=normal><a href=#__codelineno-0-1543>1543</a></span>
<span class=normal><a href=#__codelineno-0-1544>1544</a></span>
<span class=normal><a href=#__codelineno-0-1545>1545</a></span>
<span class=normal><a href=#__codelineno-0-1546>1546</a></span>
<span class=normal><a href=#__codelineno-0-1547>1547</a></span>
<span class=normal><a href=#__codelineno-0-1548>1548</a></span>
<span class=normal><a href=#__codelineno-0-1549>1549</a></span>
<span class=normal><a href=#__codelineno-0-1550>1550</a></span>
<span class=normal><a href=#__codelineno-0-1551>1551</a></span>
<span class=normal><a href=#__codelineno-0-1552>1552</a></span>
<span class=normal><a href=#__codelineno-0-1553>1553</a></span>
<span class=normal><a href=#__codelineno-0-1554>1554</a></span>
<span class=normal><a href=#__codelineno-0-1555>1555</a></span>
<span class=normal><a href=#__codelineno-0-1556>1556</a></span>
<span class=normal><a href=#__codelineno-0-1557>1557</a></span>
<span class=normal><a href=#__codelineno-0-1558>1558</a></span>
<span class=normal><a href=#__codelineno-0-1559>1559</a></span>
<span class=normal><a href=#__codelineno-0-1560>1560</a></span>
<span class=normal><a href=#__codelineno-0-1561>1561</a></span>
<span class=normal><a href=#__codelineno-0-1562>1562</a></span>
<span class=normal><a href=#__codelineno-0-1563>1563</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1530><a id=__codelineno-0-1530 name=__codelineno-0-1530></a><span class=k>def</span> <span class=nf>file_</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1531><a id=__codelineno-0-1531 name=__codelineno-0-1531></a>    <span class=kn>import</span> <span class=nn>json</span>
</span><span id=__span-0-1532><a id=__codelineno-0-1532 name=__codelineno-0-1532></a>
</span><span id=__span-0-1533><a id=__codelineno-0-1533 name=__codelineno-0-1533></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1534><a id=__codelineno-0-1534 name=__codelineno-0-1534></a>    <span class=n>path</span> <span class=o>=</span> <span class=n>CORE</span><span class=o>.</span><span class=n>relative_config_path</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1535><a id=__codelineno-0-1535 name=__codelineno-0-1535></a>
</span><span id=__span-0-1536><a id=__codelineno-0-1536 name=__codelineno-0-1536></a>    <span class=k>if</span> <span class=n>CORE</span><span class=o>.</span><span class=n>vscode</span> <span class=ow>and</span> <span class=p>(</span>
</span><span id=__span-0-1537><a id=__codelineno-0-1537 name=__codelineno-0-1537></a>        <span class=ow>not</span> <span class=n>CORE</span><span class=o>.</span><span class=n>ace</span> <span class=ow>or</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=o>==</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>CORE</span><span class=o>.</span><span class=n>config_path</span><span class=p>)</span>
</span><span id=__span-0-1538><a id=__codelineno-0-1538 name=__codelineno-0-1538></a>    <span class=p>):</span>
</span><span id=__span-0-1539><a id=__codelineno-0-1539 name=__codelineno-0-1539></a>        <span class=nb>print</span><span class=p>(</span>
</span><span id=__span-0-1540><a id=__codelineno-0-1540 name=__codelineno-0-1540></a>            <span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span>
</span><span id=__span-0-1541><a id=__codelineno-0-1541 name=__codelineno-0-1541></a>                <span class=p>{</span>
</span><span id=__span-0-1542><a id=__codelineno-0-1542 name=__codelineno-0-1542></a>                    <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;check_file_exists&quot;</span><span class=p>,</span>
</span><span id=__span-0-1543><a id=__codelineno-0-1543 name=__codelineno-0-1543></a>                    <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=n>path</span><span class=p>,</span>
</span><span id=__span-0-1544><a id=__codelineno-0-1544 name=__codelineno-0-1544></a>                <span class=p>}</span>
</span><span id=__span-0-1545><a id=__codelineno-0-1545 name=__codelineno-0-1545></a>            <span class=p>)</span>
</span><span id=__span-0-1546><a id=__codelineno-0-1546 name=__codelineno-0-1546></a>        <span class=p>)</span>
</span><span id=__span-0-1547><a id=__codelineno-0-1547 name=__codelineno-0-1547></a>        <span class=n>data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=nb>input</span><span class=p>())</span>
</span><span id=__span-0-1548><a id=__codelineno-0-1548 name=__codelineno-0-1548></a>        <span class=k>assert</span> <span class=n>data</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;file_exists_response&quot;</span>
</span><span id=__span-0-1549><a id=__codelineno-0-1549 name=__codelineno-0-1549></a>        <span class=k>if</span> <span class=n>data</span><span class=p>[</span><span class=s2>&quot;content&quot;</span><span class=p>]:</span>
</span><span id=__span-0-1550><a id=__codelineno-0-1550 name=__codelineno-0-1550></a>            <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-1551><a id=__codelineno-0-1551 name=__codelineno-0-1551></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1552><a id=__codelineno-0-1552 name=__codelineno-0-1552></a>            <span class=sa>f</span><span class=s2>&quot;Could not find file &#39;</span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>&#39;. Please make sure it exists (full path: </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>path</span><span class=p>)</span><span class=si>}</span><span class=s2>).&quot;</span>
</span><span id=__span-0-1553><a id=__codelineno-0-1553 name=__codelineno-0-1553></a>        <span class=p>)</span>
</span><span id=__span-0-1554><a id=__codelineno-0-1554 name=__codelineno-0-1554></a>
</span><span id=__span-0-1555><a id=__codelineno-0-1555 name=__codelineno-0-1555></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
</span><span id=__span-0-1556><a id=__codelineno-0-1556 name=__codelineno-0-1556></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1557><a id=__codelineno-0-1557 name=__codelineno-0-1557></a>            <span class=sa>f</span><span class=s2>&quot;Could not find file &#39;</span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>&#39;. Please make sure it exists (full path: </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>path</span><span class=p>)</span><span class=si>}</span><span class=s2>).&quot;</span>
</span><span id=__span-0-1558><a id=__codelineno-0-1558 name=__codelineno-0-1558></a>        <span class=p>)</span>
</span><span id=__span-0-1559><a id=__codelineno-0-1559 name=__codelineno-0-1559></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>isfile</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
</span><span id=__span-0-1560><a id=__codelineno-0-1560 name=__codelineno-0-1560></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1561><a id=__codelineno-0-1561 name=__codelineno-0-1561></a>            <span class=sa>f</span><span class=s2>&quot;Path &#39;</span><span class=si>{</span><span class=n>path</span><span class=si>}</span><span class=s2>&#39; is not a file (full path: </span><span class=si>{</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>path</span><span class=p>)</span><span class=si>}</span><span class=s2>).&quot;</span>
</span><span id=__span-0-1562><a id=__codelineno-0-1562 name=__codelineno-0-1562></a>        <span class=p>)</span>
</span><span id=__span-0-1563><a id=__codelineno-0-1563 name=__codelineno-0-1563></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.float_range class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>float_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>min_included</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>max_included</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> <a href=#config_validation.float_range class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that the config option is a floating point number in the given range.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-463>463</a></span>
<span class=normal><a href=#__codelineno-0-464>464</a></span>
<span class=normal><a href=#__codelineno-0-465>465</a></span>
<span class=normal><a href=#__codelineno-0-466>466</a></span>
<span class=normal><a href=#__codelineno-0-467>467</a></span>
<span class=normal><a href=#__codelineno-0-468>468</a></span>
<span class=normal><a href=#__codelineno-0-469>469</a></span>
<span class=normal><a href=#__codelineno-0-470>470</a></span>
<span class=normal><a href=#__codelineno-0-471>471</a></span>
<span class=normal><a href=#__codelineno-0-472>472</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-463><a id=__codelineno-0-463 name=__codelineno-0-463></a><span class=k>def</span> <span class=nf>float_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>min_included</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>max_included</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
</span><span id=__span-0-464><a id=__codelineno-0-464 name=__codelineno-0-464></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that the config option is a floating point number in the given range.&quot;&quot;&quot;</span>
</span><span id=__span-0-465><a id=__codelineno-0-465 name=__codelineno-0-465></a>    <span class=k>if</span> <span class=nb>min</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-466><a id=__codelineno-0-466 name=__codelineno-0-466></a>        <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=nb>min</span><span class=p>,</span> <span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>float</span><span class=p>))</span>
</span><span id=__span-0-467><a id=__codelineno-0-467 name=__codelineno-0-467></a>    <span class=k>if</span> <span class=nb>max</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-468><a id=__codelineno-0-468 name=__codelineno-0-468></a>        <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=nb>max</span><span class=p>,</span> <span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>float</span><span class=p>))</span>
</span><span id=__span-0-469><a id=__codelineno-0-469 name=__codelineno-0-469></a>    <span class=k>return</span> <span class=n>All</span><span class=p>(</span>
</span><span id=__span-0-470><a id=__codelineno-0-470 name=__codelineno-0-470></a>        <span class=n>float_</span><span class=p>,</span>
</span><span id=__span-0-471><a id=__codelineno-0-471 name=__codelineno-0-471></a>        <span class=n>Range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=nb>min</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=nb>max</span><span class=p>,</span> <span class=n>min_included</span><span class=o>=</span><span class=n>min_included</span><span class=p>,</span> <span class=n>max_included</span><span class=o>=</span><span class=n>max_included</span><span class=p>),</span>
</span><span id=__span-0-472><a id=__codelineno-0-472 name=__codelineno-0-472></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.float_with_unit class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>float_with_unit</span><span class=p>(</span><span class=n>quantity</span><span class=p>,</span> <span class=n>regex_suffix</span><span class=p>,</span> <span class=n>optional_unit</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> <a href=#config_validation.float_with_unit class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1006>1006</a></span>
<span class=normal><a href=#__codelineno-0-1007>1007</a></span>
<span class=normal><a href=#__codelineno-0-1008>1008</a></span>
<span class=normal><a href=#__codelineno-0-1009>1009</a></span>
<span class=normal><a href=#__codelineno-0-1010>1010</a></span>
<span class=normal><a href=#__codelineno-0-1011>1011</a></span>
<span class=normal><a href=#__codelineno-0-1012>1012</a></span>
<span class=normal><a href=#__codelineno-0-1013>1013</a></span>
<span class=normal><a href=#__codelineno-0-1014>1014</a></span>
<span class=normal><a href=#__codelineno-0-1015>1015</a></span>
<span class=normal><a href=#__codelineno-0-1016>1016</a></span>
<span class=normal><a href=#__codelineno-0-1017>1017</a></span>
<span class=normal><a href=#__codelineno-0-1018>1018</a></span>
<span class=normal><a href=#__codelineno-0-1019>1019</a></span>
<span class=normal><a href=#__codelineno-0-1020>1020</a></span>
<span class=normal><a href=#__codelineno-0-1021>1021</a></span>
<span class=normal><a href=#__codelineno-0-1022>1022</a></span>
<span class=normal><a href=#__codelineno-0-1023>1023</a></span>
<span class=normal><a href=#__codelineno-0-1024>1024</a></span>
<span class=normal><a href=#__codelineno-0-1025>1025</a></span>
<span class=normal><a href=#__codelineno-0-1026>1026</a></span>
<span class=normal><a href=#__codelineno-0-1027>1027</a></span>
<span class=normal><a href=#__codelineno-0-1028>1028</a></span>
<span class=normal><a href=#__codelineno-0-1029>1029</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1006><a id=__codelineno-0-1006 name=__codelineno-0-1006></a><span class=k>def</span> <span class=nf>float_with_unit</span><span class=p>(</span><span class=n>quantity</span><span class=p>,</span> <span class=n>regex_suffix</span><span class=p>,</span> <span class=n>optional_unit</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
</span><span id=__span-0-1007><a id=__codelineno-0-1007 name=__codelineno-0-1007></a>    <span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span>
</span><span id=__span-0-1008><a id=__codelineno-0-1008 name=__codelineno-0-1008></a>        <span class=sa>f</span><span class=s2>&quot;^([-+]?[0-9]*</span><span class=se>\\</span><span class=s2>.?[0-9]*)</span><span class=se>\\</span><span class=s2>s*(</span><span class=se>\\</span><span class=s2>w*?)</span><span class=si>{</span><span class=n>regex_suffix</span><span class=si>}</span><span class=s2>$&quot;</span><span class=p>,</span> <span class=n>re</span><span class=o>.</span><span class=n>UNICODE</span>
</span><span id=__span-0-1009><a id=__codelineno-0-1009 name=__codelineno-0-1009></a>    <span class=p>)</span>
</span><span id=__span-0-1010><a id=__codelineno-0-1010 name=__codelineno-0-1010></a>
</span><span id=__span-0-1011><a id=__codelineno-0-1011 name=__codelineno-0-1011></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1012><a id=__codelineno-0-1012 name=__codelineno-0-1012></a>        <span class=k>if</span> <span class=n>optional_unit</span><span class=p>:</span>
</span><span id=__span-0-1013><a id=__codelineno-0-1013 name=__codelineno-0-1013></a>            <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1014><a id=__codelineno-0-1014 name=__codelineno-0-1014></a>                <span class=k>return</span> <span class=n>float_</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1015><a id=__codelineno-0-1015 name=__codelineno-0-1015></a>            <span class=k>except</span> <span class=n>Invalid</span><span class=p>:</span>
</span><span id=__span-0-1016><a id=__codelineno-0-1016 name=__codelineno-0-1016></a>                <span class=k>pass</span>
</span><span id=__span-0-1017><a id=__codelineno-0-1017 name=__codelineno-0-1017></a>        <span class=n>match</span> <span class=o>=</span> <span class=n>pattern</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=n>string</span><span class=p>(</span><span class=n>value</span><span class=p>))</span>
</span><span id=__span-0-1018><a id=__codelineno-0-1018 name=__codelineno-0-1018></a>
</span><span id=__span-0-1019><a id=__codelineno-0-1019 name=__codelineno-0-1019></a>        <span class=k>if</span> <span class=n>match</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1020><a id=__codelineno-0-1020 name=__codelineno-0-1020></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Expected </span><span class=si>{</span><span class=n>quantity</span><span class=si>}</span><span class=s2> with unit, got </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-1021><a id=__codelineno-0-1021 name=__codelineno-0-1021></a>
</span><span id=__span-0-1022><a id=__codelineno-0-1022 name=__codelineno-0-1022></a>        <span class=n>mantissa</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>1</span><span class=p>))</span>
</span><span id=__span-0-1023><a id=__codelineno-0-1023 name=__codelineno-0-1023></a>        <span class=k>if</span> <span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>METRIC_SUFFIXES</span><span class=p>:</span>
</span><span id=__span-0-1024><a id=__codelineno-0-1024 name=__codelineno-0-1024></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid </span><span class=si>{</span><span class=n>quantity</span><span class=si>}</span><span class=s2> suffix </span><span class=si>{</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-1025><a id=__codelineno-0-1025 name=__codelineno-0-1025></a>
</span><span id=__span-0-1026><a id=__codelineno-0-1026 name=__codelineno-0-1026></a>        <span class=n>multiplier</span> <span class=o>=</span> <span class=n>METRIC_SUFFIXES</span><span class=p>[</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>2</span><span class=p>)]</span>
</span><span id=__span-0-1027><a id=__codelineno-0-1027 name=__codelineno-0-1027></a>        <span class=k>return</span> <span class=n>mantissa</span> <span class=o>*</span> <span class=n>multiplier</span>
</span><span id=__span-0-1028><a id=__codelineno-0-1028 name=__codelineno-0-1028></a>
</span><span id=__span-0-1029><a id=__codelineno-0-1029 name=__codelineno-0-1029></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.git_ref class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>git_ref</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.git_ref class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1978>1978</a></span>
<span class=normal><a href=#__codelineno-0-1979>1979</a></span>
<span class=normal><a href=#__codelineno-0-1980>1980</a></span>
<span class=normal><a href=#__codelineno-0-1981>1981</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1978><a id=__codelineno-0-1978 name=__codelineno-0-1978></a><span class=k>def</span> <span class=nf>git_ref</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1979><a id=__codelineno-0-1979 name=__codelineno-0-1979></a>    <span class=k>if</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;[a-zA-Z0-9_./-]+&quot;</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1980><a id=__codelineno-0-1980 name=__codelineno-0-1980></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Not a valid git ref&quot;</span><span class=p>)</span>
</span><span id=__span-0-1981><a id=__codelineno-0-1981 name=__codelineno-0-1981></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.has_at_least_one_key class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>has_at_least_one_key</span><span class=p>(</span><span class=o>*</span><span class=n>keys</span><span class=p>)</span></code> <a href=#config_validation.has_at_least_one_key class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that at least one of the given keys exist in the config.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-629>629</a></span>
<span class=normal><a href=#__codelineno-0-630>630</a></span>
<span class=normal><a href=#__codelineno-0-631>631</a></span>
<span class=normal><a href=#__codelineno-0-632>632</a></span>
<span class=normal><a href=#__codelineno-0-633>633</a></span>
<span class=normal><a href=#__codelineno-0-634>634</a></span>
<span class=normal><a href=#__codelineno-0-635>635</a></span>
<span class=normal><a href=#__codelineno-0-636>636</a></span>
<span class=normal><a href=#__codelineno-0-637>637</a></span>
<span class=normal><a href=#__codelineno-0-638>638</a></span>
<span class=normal><a href=#__codelineno-0-639>639</a></span>
<span class=normal><a href=#__codelineno-0-640>640</a></span>
<span class=normal><a href=#__codelineno-0-641>641</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-629><a id=__codelineno-0-629 name=__codelineno-0-629></a><span class=k>def</span> <span class=nf>has_at_least_one_key</span><span class=p>(</span><span class=o>*</span><span class=n>keys</span><span class=p>):</span>
</span><span id=__span-0-630><a id=__codelineno-0-630 name=__codelineno-0-630></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that at least one of the given keys exist in the config.&quot;&quot;&quot;</span>
</span><span id=__span-0-631><a id=__codelineno-0-631 name=__codelineno-0-631></a>
</span><span id=__span-0-632><a id=__codelineno-0-632 name=__codelineno-0-632></a>    <span class=k>def</span> <span class=nf>validate</span><span class=p>(</span><span class=n>obj</span><span class=p>):</span>
</span><span id=__span-0-633><a id=__codelineno-0-633 name=__codelineno-0-633></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;Test keys exist in dict.&quot;&quot;&quot;</span>
</span><span id=__span-0-634><a id=__codelineno-0-634 name=__codelineno-0-634></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-635><a id=__codelineno-0-635 name=__codelineno-0-635></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;expected dictionary&quot;</span><span class=p>)</span>
</span><span id=__span-0-636><a id=__codelineno-0-636 name=__codelineno-0-636></a>
</span><span id=__span-0-637><a id=__codelineno-0-637 name=__codelineno-0-637></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>any</span><span class=p>(</span><span class=n>k</span> <span class=ow>in</span> <span class=n>keys</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>obj</span><span class=p>):</span>
</span><span id=__span-0-638><a id=__codelineno-0-638 name=__codelineno-0-638></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Must contain at least one of </span><span class=si>{</span><span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>keys</span><span class=p>)</span><span class=si>}</span><span class=s2>.&quot;</span><span class=p>)</span>
</span><span id=__span-0-639><a id=__codelineno-0-639 name=__codelineno-0-639></a>        <span class=k>return</span> <span class=n>obj</span>
</span><span id=__span-0-640><a id=__codelineno-0-640 name=__codelineno-0-640></a>
</span><span id=__span-0-641><a id=__codelineno-0-641 name=__codelineno-0-641></a>    <span class=k>return</span> <span class=n>validate</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.has_at_most_one_key class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>has_at_most_one_key</span><span class=p>(</span><span class=o>*</span><span class=n>keys</span><span class=p>)</span></code> <a href=#config_validation.has_at_most_one_key class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that at most one of the given keys exist in the config.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-661>661</a></span>
<span class=normal><a href=#__codelineno-0-662>662</a></span>
<span class=normal><a href=#__codelineno-0-663>663</a></span>
<span class=normal><a href=#__codelineno-0-664>664</a></span>
<span class=normal><a href=#__codelineno-0-665>665</a></span>
<span class=normal><a href=#__codelineno-0-666>666</a></span>
<span class=normal><a href=#__codelineno-0-667>667</a></span>
<span class=normal><a href=#__codelineno-0-668>668</a></span>
<span class=normal><a href=#__codelineno-0-669>669</a></span>
<span class=normal><a href=#__codelineno-0-670>670</a></span>
<span class=normal><a href=#__codelineno-0-671>671</a></span>
<span class=normal><a href=#__codelineno-0-672>672</a></span>
<span class=normal><a href=#__codelineno-0-673>673</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-661><a id=__codelineno-0-661 name=__codelineno-0-661></a><span class=k>def</span> <span class=nf>has_at_most_one_key</span><span class=p>(</span><span class=o>*</span><span class=n>keys</span><span class=p>):</span>
</span><span id=__span-0-662><a id=__codelineno-0-662 name=__codelineno-0-662></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that at most one of the given keys exist in the config.&quot;&quot;&quot;</span>
</span><span id=__span-0-663><a id=__codelineno-0-663 name=__codelineno-0-663></a>
</span><span id=__span-0-664><a id=__codelineno-0-664 name=__codelineno-0-664></a>    <span class=k>def</span> <span class=nf>validate</span><span class=p>(</span><span class=n>obj</span><span class=p>):</span>
</span><span id=__span-0-665><a id=__codelineno-0-665 name=__codelineno-0-665></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-666><a id=__codelineno-0-666 name=__codelineno-0-666></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;expected dictionary&quot;</span><span class=p>)</span>
</span><span id=__span-0-667><a id=__codelineno-0-667 name=__codelineno-0-667></a>
</span><span id=__span-0-668><a id=__codelineno-0-668 name=__codelineno-0-668></a>        <span class=n>number</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>k</span> <span class=ow>in</span> <span class=n>keys</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-669><a id=__codelineno-0-669 name=__codelineno-0-669></a>        <span class=k>if</span> <span class=n>number</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-670><a id=__codelineno-0-670 name=__codelineno-0-670></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Cannot specify more than one of </span><span class=si>{</span><span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>keys</span><span class=p>)</span><span class=si>}</span><span class=s2>.&quot;</span><span class=p>)</span>
</span><span id=__span-0-671><a id=__codelineno-0-671 name=__codelineno-0-671></a>        <span class=k>return</span> <span class=n>obj</span>
</span><span id=__span-0-672><a id=__codelineno-0-672 name=__codelineno-0-672></a>
</span><span id=__span-0-673><a id=__codelineno-0-673 name=__codelineno-0-673></a>    <span class=k>return</span> <span class=n>validate</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.has_exactly_one_key class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>has_exactly_one_key</span><span class=p>(</span><span class=o>*</span><span class=n>keys</span><span class=p>)</span></code> <a href=#config_validation.has_exactly_one_key class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that exactly one of the given keys exist in the config.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-644>644</a></span>
<span class=normal><a href=#__codelineno-0-645>645</a></span>
<span class=normal><a href=#__codelineno-0-646>646</a></span>
<span class=normal><a href=#__codelineno-0-647>647</a></span>
<span class=normal><a href=#__codelineno-0-648>648</a></span>
<span class=normal><a href=#__codelineno-0-649>649</a></span>
<span class=normal><a href=#__codelineno-0-650>650</a></span>
<span class=normal><a href=#__codelineno-0-651>651</a></span>
<span class=normal><a href=#__codelineno-0-652>652</a></span>
<span class=normal><a href=#__codelineno-0-653>653</a></span>
<span class=normal><a href=#__codelineno-0-654>654</a></span>
<span class=normal><a href=#__codelineno-0-655>655</a></span>
<span class=normal><a href=#__codelineno-0-656>656</a></span>
<span class=normal><a href=#__codelineno-0-657>657</a></span>
<span class=normal><a href=#__codelineno-0-658>658</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-644><a id=__codelineno-0-644 name=__codelineno-0-644></a><span class=k>def</span> <span class=nf>has_exactly_one_key</span><span class=p>(</span><span class=o>*</span><span class=n>keys</span><span class=p>):</span>
</span><span id=__span-0-645><a id=__codelineno-0-645 name=__codelineno-0-645></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that exactly one of the given keys exist in the config.&quot;&quot;&quot;</span>
</span><span id=__span-0-646><a id=__codelineno-0-646 name=__codelineno-0-646></a>
</span><span id=__span-0-647><a id=__codelineno-0-647 name=__codelineno-0-647></a>    <span class=k>def</span> <span class=nf>validate</span><span class=p>(</span><span class=n>obj</span><span class=p>):</span>
</span><span id=__span-0-648><a id=__codelineno-0-648 name=__codelineno-0-648></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-649><a id=__codelineno-0-649 name=__codelineno-0-649></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;expected dictionary&quot;</span><span class=p>)</span>
</span><span id=__span-0-650><a id=__codelineno-0-650 name=__codelineno-0-650></a>
</span><span id=__span-0-651><a id=__codelineno-0-651 name=__codelineno-0-651></a>        <span class=n>number</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>k</span> <span class=ow>in</span> <span class=n>keys</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-652><a id=__codelineno-0-652 name=__codelineno-0-652></a>        <span class=k>if</span> <span class=n>number</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-653><a id=__codelineno-0-653 name=__codelineno-0-653></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Cannot specify more than one of </span><span class=si>{</span><span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>keys</span><span class=p>)</span><span class=si>}</span><span class=s2>.&quot;</span><span class=p>)</span>
</span><span id=__span-0-654><a id=__codelineno-0-654 name=__codelineno-0-654></a>        <span class=k>if</span> <span class=n>number</span> <span class=o>&lt;</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-655><a id=__codelineno-0-655 name=__codelineno-0-655></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Must contain exactly one of </span><span class=si>{</span><span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>keys</span><span class=p>)</span><span class=si>}</span><span class=s2>.&quot;</span><span class=p>)</span>
</span><span id=__span-0-656><a id=__codelineno-0-656 name=__codelineno-0-656></a>        <span class=k>return</span> <span class=n>obj</span>
</span><span id=__span-0-657><a id=__codelineno-0-657 name=__codelineno-0-657></a>
</span><span id=__span-0-658><a id=__codelineno-0-658 name=__codelineno-0-658></a>    <span class=k>return</span> <span class=n>validate</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.has_none_or_all_keys class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>has_none_or_all_keys</span><span class=p>(</span><span class=o>*</span><span class=n>keys</span><span class=p>)</span></code> <a href=#config_validation.has_none_or_all_keys class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that none or all of the given keys exist in the config.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-676>676</a></span>
<span class=normal><a href=#__codelineno-0-677>677</a></span>
<span class=normal><a href=#__codelineno-0-678>678</a></span>
<span class=normal><a href=#__codelineno-0-679>679</a></span>
<span class=normal><a href=#__codelineno-0-680>680</a></span>
<span class=normal><a href=#__codelineno-0-681>681</a></span>
<span class=normal><a href=#__codelineno-0-682>682</a></span>
<span class=normal><a href=#__codelineno-0-683>683</a></span>
<span class=normal><a href=#__codelineno-0-684>684</a></span>
<span class=normal><a href=#__codelineno-0-685>685</a></span>
<span class=normal><a href=#__codelineno-0-686>686</a></span>
<span class=normal><a href=#__codelineno-0-687>687</a></span>
<span class=normal><a href=#__codelineno-0-688>688</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-676><a id=__codelineno-0-676 name=__codelineno-0-676></a><span class=k>def</span> <span class=nf>has_none_or_all_keys</span><span class=p>(</span><span class=o>*</span><span class=n>keys</span><span class=p>):</span>
</span><span id=__span-0-677><a id=__codelineno-0-677 name=__codelineno-0-677></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that none or all of the given keys exist in the config.&quot;&quot;&quot;</span>
</span><span id=__span-0-678><a id=__codelineno-0-678 name=__codelineno-0-678></a>
</span><span id=__span-0-679><a id=__codelineno-0-679 name=__codelineno-0-679></a>    <span class=k>def</span> <span class=nf>validate</span><span class=p>(</span><span class=n>obj</span><span class=p>):</span>
</span><span id=__span-0-680><a id=__codelineno-0-680 name=__codelineno-0-680></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-681><a id=__codelineno-0-681 name=__codelineno-0-681></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;expected dictionary&quot;</span><span class=p>)</span>
</span><span id=__span-0-682><a id=__codelineno-0-682 name=__codelineno-0-682></a>
</span><span id=__span-0-683><a id=__codelineno-0-683 name=__codelineno-0-683></a>        <span class=n>number</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>k</span> <span class=ow>in</span> <span class=n>keys</span> <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-684><a id=__codelineno-0-684 name=__codelineno-0-684></a>        <span class=k>if</span> <span class=n>number</span> <span class=o>!=</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>number</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=n>keys</span><span class=p>):</span>
</span><span id=__span-0-685><a id=__codelineno-0-685 name=__codelineno-0-685></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Must specify either none or all of </span><span class=si>{</span><span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>keys</span><span class=p>)</span><span class=si>}</span><span class=s2>.&quot;</span><span class=p>)</span>
</span><span id=__span-0-686><a id=__codelineno-0-686 name=__codelineno-0-686></a>        <span class=k>return</span> <span class=n>obj</span>
</span><span id=__span-0-687><a id=__codelineno-0-687 name=__codelineno-0-687></a>
</span><span id=__span-0-688><a id=__codelineno-0-688 name=__codelineno-0-688></a>    <span class=k>return</span> <span class=n>validate</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.hex_int class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>hex_int</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.hex_int class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate the given value to be a hex integer. This is mostly for cosmetic purposes of the generated code.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-411>411</a></span>
<span class=normal><a href=#__codelineno-0-412>412</a></span>
<span class=normal><a href=#__codelineno-0-413>413</a></span>
<span class=normal><a href=#__codelineno-0-414>414</a></span>
<span class=normal><a href=#__codelineno-0-415>415</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-411><a id=__codelineno-0-411 name=__codelineno-0-411></a><span class=k>def</span> <span class=nf>hex_int</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-412><a id=__codelineno-0-412 name=__codelineno-0-412></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate the given value to be a hex integer. This is mostly for cosmetic</span>
</span><span id=__span-0-413><a id=__codelineno-0-413 name=__codelineno-0-413></a><span class=sd>    purposes of the generated code.</span>
</span><span id=__span-0-414><a id=__codelineno-0-414 name=__codelineno-0-414></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-415><a id=__codelineno-0-415 name=__codelineno-0-415></a>    <span class=k>return</span> <span class=n>HexInt</span><span class=p>(</span><span class=n>int_</span><span class=p>(</span><span class=n>value</span><span class=p>))</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.hex_int_range class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>hex_int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>min_included</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>max_included</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> <a href=#config_validation.hex_int_range class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that the config option is an integer in the given range.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-455>455</a></span>
<span class=normal><a href=#__codelineno-0-456>456</a></span>
<span class=normal><a href=#__codelineno-0-457>457</a></span>
<span class=normal><a href=#__codelineno-0-458>458</a></span>
<span class=normal><a href=#__codelineno-0-459>459</a></span>
<span class=normal><a href=#__codelineno-0-460>460</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-455><a id=__codelineno-0-455 name=__codelineno-0-455></a><span class=k>def</span> <span class=nf>hex_int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>min_included</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>max_included</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
</span><span id=__span-0-456><a id=__codelineno-0-456 name=__codelineno-0-456></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that the config option is an integer in the given range.&quot;&quot;&quot;</span>
</span><span id=__span-0-457><a id=__codelineno-0-457 name=__codelineno-0-457></a>    <span class=k>return</span> <span class=n>All</span><span class=p>(</span>
</span><span id=__span-0-458><a id=__codelineno-0-458 name=__codelineno-0-458></a>        <span class=n>hex_int</span><span class=p>,</span>
</span><span id=__span-0-459><a id=__codelineno-0-459 name=__codelineno-0-459></a>        <span class=n>Range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=nb>min</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=nb>max</span><span class=p>,</span> <span class=n>min_included</span><span class=o>=</span><span class=n>min_included</span><span class=p>,</span> <span class=n>max_included</span><span class=o>=</span><span class=n>max_included</span><span class=p>),</span>
</span><span id=__span-0-460><a id=__codelineno-0-460 name=__codelineno-0-460></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.hostname class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>hostname</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.hostname class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1121>1121</a></span>
<span class=normal><a href=#__codelineno-0-1122>1122</a></span>
<span class=normal><a href=#__codelineno-0-1123>1123</a></span>
<span class=normal><a href=#__codelineno-0-1124>1124</a></span>
<span class=normal><a href=#__codelineno-0-1125>1125</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1121><a id=__codelineno-0-1121 name=__codelineno-0-1121></a><span class=k>def</span> <span class=nf>hostname</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1122><a id=__codelineno-0-1122 name=__codelineno-0-1122></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1123><a id=__codelineno-0-1123 name=__codelineno-0-1123></a>    <span class=k>if</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;^[a-z0-9-]{1,63}$&quot;</span><span class=p>,</span> <span class=n>value</span><span class=p>,</span> <span class=n>re</span><span class=o>.</span><span class=n>IGNORECASE</span><span class=p>)</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1124><a id=__codelineno-0-1124 name=__codelineno-0-1124></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-1125><a id=__codelineno-0-1125 name=__codelineno-0-1125></a>    <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid hostname: </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.icon class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>icon</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.icon class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that a given config value is a valid icon.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339></a><span class=k>def</span> <span class=nf>icon</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-340><a id=__codelineno-0-340 name=__codelineno-0-340></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that a given config value is a valid icon.&quot;&quot;&quot;</span>
</span><span id=__span-0-341><a id=__codelineno-0-341 name=__codelineno-0-341></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-342><a id=__codelineno-0-342 name=__codelineno-0-342></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a>    <span class=k>if</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=s2>&quot;^[</span><span class=se>\\</span><span class=s2>w</span><span class=se>\\</span><span class=s2>-]+:[</span><span class=se>\\</span><span class=s2>w</span><span class=se>\\</span><span class=s2>-]+$&quot;</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-346><a id=__codelineno-0-346 name=__codelineno-0-346></a>    <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-347><a id=__codelineno-0-347 name=__codelineno-0-347></a>        <span class=s1>&#39;Icons must match the format &quot;[icon pack]:[icon]&quot;, e.g. &quot;mdi:home-assistant&quot;&#39;</span>
</span><span id=__span-0-348><a id=__codelineno-0-348 name=__codelineno-0-348></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.int_ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>int_</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.int_ class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that the config option is an integer.</p> <p>Automatically also converts strings to ints.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-418>418</a></span>
<span class=normal><a href=#__codelineno-0-419>419</a></span>
<span class=normal><a href=#__codelineno-0-420>420</a></span>
<span class=normal><a href=#__codelineno-0-421>421</a></span>
<span class=normal><a href=#__codelineno-0-422>422</a></span>
<span class=normal><a href=#__codelineno-0-423>423</a></span>
<span class=normal><a href=#__codelineno-0-424>424</a></span>
<span class=normal><a href=#__codelineno-0-425>425</a></span>
<span class=normal><a href=#__codelineno-0-426>426</a></span>
<span class=normal><a href=#__codelineno-0-427>427</a></span>
<span class=normal><a href=#__codelineno-0-428>428</a></span>
<span class=normal><a href=#__codelineno-0-429>429</a></span>
<span class=normal><a href=#__codelineno-0-430>430</a></span>
<span class=normal><a href=#__codelineno-0-431>431</a></span>
<span class=normal><a href=#__codelineno-0-432>432</a></span>
<span class=normal><a href=#__codelineno-0-433>433</a></span>
<span class=normal><a href=#__codelineno-0-434>434</a></span>
<span class=normal><a href=#__codelineno-0-435>435</a></span>
<span class=normal><a href=#__codelineno-0-436>436</a></span>
<span class=normal><a href=#__codelineno-0-437>437</a></span>
<span class=normal><a href=#__codelineno-0-438>438</a></span>
<span class=normal><a href=#__codelineno-0-439>439</a></span>
<span class=normal><a href=#__codelineno-0-440>440</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-418><a id=__codelineno-0-418 name=__codelineno-0-418></a><span class=k>def</span> <span class=nf>int_</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-419><a id=__codelineno-0-419 name=__codelineno-0-419></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that the config option is an integer.</span>
</span><span id=__span-0-420><a id=__codelineno-0-420 name=__codelineno-0-420></a>
</span><span id=__span-0-421><a id=__codelineno-0-421 name=__codelineno-0-421></a><span class=sd>    Automatically also converts strings to ints.</span>
</span><span id=__span-0-422><a id=__codelineno-0-422 name=__codelineno-0-422></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-423><a id=__codelineno-0-423 name=__codelineno-0-423></a>    <span class=n>check_not_templatable</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-424><a id=__codelineno-0-424 name=__codelineno-0-424></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-425><a id=__codelineno-0-425 name=__codelineno-0-425></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-426><a id=__codelineno-0-426 name=__codelineno-0-426></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>float</span><span class=p>):</span>
</span><span id=__span-0-427><a id=__codelineno-0-427 name=__codelineno-0-427></a>        <span class=k>if</span> <span class=nb>int</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=o>==</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-428><a id=__codelineno-0-428 name=__codelineno-0-428></a>            <span class=k>return</span> <span class=nb>int</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-429><a id=__codelineno-0-429 name=__codelineno-0-429></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-430><a id=__codelineno-0-430 name=__codelineno-0-430></a>            <span class=sa>f</span><span class=s2>&quot;This option only accepts integers with no fractional part. Please remove the fractional part from </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-431><a id=__codelineno-0-431 name=__codelineno-0-431></a>        <span class=p>)</span>
</span><span id=__span-0-432><a id=__codelineno-0-432 name=__codelineno-0-432></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-0-433><a id=__codelineno-0-433 name=__codelineno-0-433></a>    <span class=n>base</span> <span class=o>=</span> <span class=mi>10</span>
</span><span id=__span-0-434><a id=__codelineno-0-434 name=__codelineno-0-434></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;0x&quot;</span><span class=p>):</span>
</span><span id=__span-0-435><a id=__codelineno-0-435 name=__codelineno-0-435></a>        <span class=n>base</span> <span class=o>=</span> <span class=mi>16</span>
</span><span id=__span-0-436><a id=__codelineno-0-436 name=__codelineno-0-436></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-437><a id=__codelineno-0-437 name=__codelineno-0-437></a>        <span class=k>return</span> <span class=nb>int</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>base</span><span class=p>)</span>
</span><span id=__span-0-438><a id=__codelineno-0-438 name=__codelineno-0-438></a>    <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span><span id=__span-0-439><a id=__codelineno-0-439 name=__codelineno-0-439></a>        <span class=c1># pylint: disable=raise-missing-from</span>
</span><span id=__span-0-440><a id=__codelineno-0-440 name=__codelineno-0-440></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Expected integer, but cannot parse </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2> as an integer&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.int_range class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>min_included</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>max_included</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> <a href=#config_validation.int_range class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that the config option is an integer in the given range.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-443>443</a></span>
<span class=normal><a href=#__codelineno-0-444>444</a></span>
<span class=normal><a href=#__codelineno-0-445>445</a></span>
<span class=normal><a href=#__codelineno-0-446>446</a></span>
<span class=normal><a href=#__codelineno-0-447>447</a></span>
<span class=normal><a href=#__codelineno-0-448>448</a></span>
<span class=normal><a href=#__codelineno-0-449>449</a></span>
<span class=normal><a href=#__codelineno-0-450>450</a></span>
<span class=normal><a href=#__codelineno-0-451>451</a></span>
<span class=normal><a href=#__codelineno-0-452>452</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-443><a id=__codelineno-0-443 name=__codelineno-0-443></a><span class=k>def</span> <span class=nf>int_range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>min_included</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>max_included</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
</span><span id=__span-0-444><a id=__codelineno-0-444 name=__codelineno-0-444></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that the config option is an integer in the given range.&quot;&quot;&quot;</span>
</span><span id=__span-0-445><a id=__codelineno-0-445 name=__codelineno-0-445></a>    <span class=k>if</span> <span class=nb>min</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-446><a id=__codelineno-0-446 name=__codelineno-0-446></a>        <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=nb>min</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span>
</span><span id=__span-0-447><a id=__codelineno-0-447 name=__codelineno-0-447></a>    <span class=k>if</span> <span class=nb>max</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-448><a id=__codelineno-0-448 name=__codelineno-0-448></a>        <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=nb>max</span><span class=p>,</span> <span class=nb>int</span><span class=p>)</span>
</span><span id=__span-0-449><a id=__codelineno-0-449 name=__codelineno-0-449></a>    <span class=k>return</span> <span class=n>All</span><span class=p>(</span>
</span><span id=__span-0-450><a id=__codelineno-0-450 name=__codelineno-0-450></a>        <span class=n>int_</span><span class=p>,</span>
</span><span id=__span-0-451><a id=__codelineno-0-451 name=__codelineno-0-451></a>        <span class=n>Range</span><span class=p>(</span><span class=nb>min</span><span class=o>=</span><span class=nb>min</span><span class=p>,</span> <span class=nb>max</span><span class=o>=</span><span class=nb>max</span><span class=p>,</span> <span class=n>min_included</span><span class=o>=</span><span class=n>min_included</span><span class=p>,</span> <span class=n>max_included</span><span class=o>=</span><span class=n>max_included</span><span class=p>),</span>
</span><span id=__span-0-452><a id=__codelineno-0-452 name=__codelineno-0-452></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.invalid class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>invalid</span><span class=p>(</span><span class=n>message</span><span class=p>)</span></code> <a href=#config_validation.invalid class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Mark this value as invalid. Each time <em>any</em> value is passed here it will result in a validation error with the given message.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1317>1317</a></span>
<span class=normal><a href=#__codelineno-0-1318>1318</a></span>
<span class=normal><a href=#__codelineno-0-1319>1319</a></span>
<span class=normal><a href=#__codelineno-0-1320>1320</a></span>
<span class=normal><a href=#__codelineno-0-1321>1321</a></span>
<span class=normal><a href=#__codelineno-0-1322>1322</a></span>
<span class=normal><a href=#__codelineno-0-1323>1323</a></span>
<span class=normal><a href=#__codelineno-0-1324>1324</a></span>
<span class=normal><a href=#__codelineno-0-1325>1325</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1317><a id=__codelineno-0-1317 name=__codelineno-0-1317></a><span class=k>def</span> <span class=nf>invalid</span><span class=p>(</span><span class=n>message</span><span class=p>):</span>
</span><span id=__span-0-1318><a id=__codelineno-0-1318 name=__codelineno-0-1318></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Mark this value as invalid. Each time *any* value is passed here it will result in a</span>
</span><span id=__span-0-1319><a id=__codelineno-0-1319 name=__codelineno-0-1319></a><span class=sd>    validation error with the given message.</span>
</span><span id=__span-0-1320><a id=__codelineno-0-1320 name=__codelineno-0-1320></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1321><a id=__codelineno-0-1321 name=__codelineno-0-1321></a>
</span><span id=__span-0-1322><a id=__codelineno-0-1322 name=__codelineno-0-1322></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1323><a id=__codelineno-0-1323 name=__codelineno-0-1323></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
</span><span id=__span-0-1324><a id=__codelineno-0-1324 name=__codelineno-0-1324></a>
</span><span id=__span-0-1325><a id=__codelineno-0-1325 name=__codelineno-0-1325></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.ipv4 class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>ipv4</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.ipv4 class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1163>1163</a></span>
<span class=normal><a href=#__codelineno-0-1164>1164</a></span>
<span class=normal><a href=#__codelineno-0-1165>1165</a></span>
<span class=normal><a href=#__codelineno-0-1166>1166</a></span>
<span class=normal><a href=#__codelineno-0-1167>1167</a></span>
<span class=normal><a href=#__codelineno-0-1168>1168</a></span>
<span class=normal><a href=#__codelineno-0-1169>1169</a></span>
<span class=normal><a href=#__codelineno-0-1170>1170</a></span>
<span class=normal><a href=#__codelineno-0-1171>1171</a></span>
<span class=normal><a href=#__codelineno-0-1172>1172</a></span>
<span class=normal><a href=#__codelineno-0-1173>1173</a></span>
<span class=normal><a href=#__codelineno-0-1174>1174</a></span>
<span class=normal><a href=#__codelineno-0-1175>1175</a></span>
<span class=normal><a href=#__codelineno-0-1176>1176</a></span>
<span class=normal><a href=#__codelineno-0-1177>1177</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1163><a id=__codelineno-0-1163 name=__codelineno-0-1163></a><span class=k>def</span> <span class=nf>ipv4</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1164><a id=__codelineno-0-1164 name=__codelineno-0-1164></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
</span><span id=__span-0-1165><a id=__codelineno-0-1165 name=__codelineno-0-1165></a>        <span class=n>parts</span> <span class=o>=</span> <span class=n>value</span>
</span><span id=__span-0-1166><a id=__codelineno-0-1166 name=__codelineno-0-1166></a>    <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-1167><a id=__codelineno-0-1167 name=__codelineno-0-1167></a>        <span class=n>parts</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;.&quot;</span><span class=p>)</span>
</span><span id=__span-0-1168><a id=__codelineno-0-1168 name=__codelineno-0-1168></a>    <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>IPAddress</span><span class=p>):</span>
</span><span id=__span-0-1169><a id=__codelineno-0-1169 name=__codelineno-0-1169></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-1170><a id=__codelineno-0-1170 name=__codelineno-0-1170></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1171><a id=__codelineno-0-1171 name=__codelineno-0-1171></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;IPv4 address must consist of either string or integer list&quot;</span><span class=p>)</span>
</span><span id=__span-0-1172><a id=__codelineno-0-1172 name=__codelineno-0-1172></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>parts</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>4</span><span class=p>:</span>
</span><span id=__span-0-1173><a id=__codelineno-0-1173 name=__codelineno-0-1173></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;IPv4 address must consist of four point-separated integers&quot;</span><span class=p>)</span>
</span><span id=__span-0-1174><a id=__codelineno-0-1174 name=__codelineno-0-1174></a>    <span class=n>parts_</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=n>parts</span><span class=p>))</span>
</span><span id=__span-0-1175><a id=__codelineno-0-1175 name=__codelineno-0-1175></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>all</span><span class=p>(</span><span class=mi>0</span> <span class=o>&lt;=</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=mi>256</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>parts_</span><span class=p>):</span>
</span><span id=__span-0-1176><a id=__codelineno-0-1176 name=__codelineno-0-1176></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;IPv4 address parts must be in range from 0 to 255&quot;</span><span class=p>)</span>
</span><span id=__span-0-1177><a id=__codelineno-0-1177 name=__codelineno-0-1177></a>    <span class=k>return</span> <span class=n>IPAddress</span><span class=p>(</span><span class=o>*</span><span class=n>parts_</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.lambda_ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>lambda_</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.lambda_ class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Coerce this configuration option to a lambda.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1442>1442</a></span>
<span class=normal><a href=#__codelineno-0-1443>1443</a></span>
<span class=normal><a href=#__codelineno-0-1444>1444</a></span>
<span class=normal><a href=#__codelineno-0-1445>1445</a></span>
<span class=normal><a href=#__codelineno-0-1446>1446</a></span>
<span class=normal><a href=#__codelineno-0-1447>1447</a></span>
<span class=normal><a href=#__codelineno-0-1448>1448</a></span>
<span class=normal><a href=#__codelineno-0-1449>1449</a></span>
<span class=normal><a href=#__codelineno-0-1450>1450</a></span>
<span class=normal><a href=#__codelineno-0-1451>1451</a></span>
<span class=normal><a href=#__codelineno-0-1452>1452</a></span>
<span class=normal><a href=#__codelineno-0-1453>1453</a></span>
<span class=normal><a href=#__codelineno-0-1454>1454</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1442><a id=__codelineno-0-1442 name=__codelineno-0-1442></a><span class=k>def</span> <span class=nf>lambda_</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1443><a id=__codelineno-0-1443 name=__codelineno-0-1443></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Coerce this configuration option to a lambda.&quot;&quot;&quot;</span>
</span><span id=__span-0-1444><a id=__codelineno-0-1444 name=__codelineno-0-1444></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>Lambda</span><span class=p>):</span>
</span><span id=__span-0-1445><a id=__codelineno-0-1445 name=__codelineno-0-1445></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>make_data_base</span><span class=p>(</span><span class=n>Lambda</span><span class=p>(</span><span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)),</span> <span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1446><a id=__codelineno-0-1446 name=__codelineno-0-1446></a>    <span class=n>entity_id_parts</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=n>LAMBDA_ENTITY_ID_PROG</span><span class=p>,</span> <span class=n>value</span><span class=o>.</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1447><a id=__codelineno-0-1447 name=__codelineno-0-1447></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>entity_id_parts</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-1448><a id=__codelineno-0-1448 name=__codelineno-0-1448></a>        <span class=n>entity_ids</span> <span class=o>=</span> <span class=s2>&quot; &quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
</span><span id=__span-0-1449><a id=__codelineno-0-1449 name=__codelineno-0-1449></a>            <span class=sa>f</span><span class=s2>&quot;&#39;</span><span class=si>{</span><span class=n>entity_id_parts</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=si>}</span><span class=s2>&#39;&quot;</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>entity_id_parts</span><span class=p>),</span> <span class=mi>2</span><span class=p>)</span>
</span><span id=__span-0-1450><a id=__codelineno-0-1450 name=__codelineno-0-1450></a>        <span class=p>)</span>
</span><span id=__span-0-1451><a id=__codelineno-0-1451 name=__codelineno-0-1451></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1452><a id=__codelineno-0-1452 name=__codelineno-0-1452></a>            <span class=sa>f</span><span class=s2>&quot;Lambda contains reference to entity-id-style ID </span><span class=si>{</span><span class=n>entity_ids</span><span class=si>}</span><span class=s2>. The id() wrapper only works for ESPHome-internal types. For importing states from Home Assistant use the &#39;homeassistant&#39; sensor platforms.&quot;</span>
</span><span id=__span-0-1453><a id=__codelineno-0-1453 name=__codelineno-0-1453></a>        <span class=p>)</span>
</span><span id=__span-0-1454><a id=__codelineno-0-1454 name=__codelineno-0-1454></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.mac_address class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>mac_address</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.mac_address class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-945>945</a></span>
<span class=normal><a href=#__codelineno-0-946>946</a></span>
<span class=normal><a href=#__codelineno-0-947>947</a></span>
<span class=normal><a href=#__codelineno-0-948>948</a></span>
<span class=normal><a href=#__codelineno-0-949>949</a></span>
<span class=normal><a href=#__codelineno-0-950>950</a></span>
<span class=normal><a href=#__codelineno-0-951>951</a></span>
<span class=normal><a href=#__codelineno-0-952>952</a></span>
<span class=normal><a href=#__codelineno-0-953>953</a></span>
<span class=normal><a href=#__codelineno-0-954>954</a></span>
<span class=normal><a href=#__codelineno-0-955>955</a></span>
<span class=normal><a href=#__codelineno-0-956>956</a></span>
<span class=normal><a href=#__codelineno-0-957>957</a></span>
<span class=normal><a href=#__codelineno-0-958>958</a></span>
<span class=normal><a href=#__codelineno-0-959>959</a></span>
<span class=normal><a href=#__codelineno-0-960>960</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-945><a id=__codelineno-0-945 name=__codelineno-0-945></a><span class=k>def</span> <span class=nf>mac_address</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-946><a id=__codelineno-0-946 name=__codelineno-0-946></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-947><a id=__codelineno-0-947 name=__codelineno-0-947></a>    <span class=n>parts</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;:&quot;</span><span class=p>)</span>
</span><span id=__span-0-948><a id=__codelineno-0-948 name=__codelineno-0-948></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>parts</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>6</span><span class=p>:</span>
</span><span id=__span-0-949><a id=__codelineno-0-949 name=__codelineno-0-949></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;MAC Address must consist of 6 : (colon) separated parts&quot;</span><span class=p>)</span>
</span><span id=__span-0-950><a id=__codelineno-0-950 name=__codelineno-0-950></a>    <span class=n>parts_int</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-951><a id=__codelineno-0-951 name=__codelineno-0-951></a>    <span class=k>if</span> <span class=nb>any</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>part</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>2</span> <span class=k>for</span> <span class=n>part</span> <span class=ow>in</span> <span class=n>parts</span><span class=p>):</span>
</span><span id=__span-0-952><a id=__codelineno-0-952 name=__codelineno-0-952></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;MAC Address must be format XX:XX:XX:XX:XX:XX&quot;</span><span class=p>)</span>
</span><span id=__span-0-953><a id=__codelineno-0-953 name=__codelineno-0-953></a>    <span class=k>for</span> <span class=n>part</span> <span class=ow>in</span> <span class=n>parts</span><span class=p>:</span>
</span><span id=__span-0-954><a id=__codelineno-0-954 name=__codelineno-0-954></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-955><a id=__codelineno-0-955 name=__codelineno-0-955></a>            <span class=n>parts_int</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>part</span><span class=p>,</span> <span class=mi>16</span><span class=p>))</span>
</span><span id=__span-0-956><a id=__codelineno-0-956 name=__codelineno-0-956></a>        <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span><span id=__span-0-957><a id=__codelineno-0-957 name=__codelineno-0-957></a>            <span class=c1># pylint: disable=raise-missing-from</span>
</span><span id=__span-0-958><a id=__codelineno-0-958 name=__codelineno-0-958></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;MAC Address parts must be hexadecimal values from 00 to FF&quot;</span><span class=p>)</span>
</span><span id=__span-0-959><a id=__codelineno-0-959 name=__codelineno-0-959></a>
</span><span id=__span-0-960><a id=__codelineno-0-960 name=__codelineno-0-960></a>    <span class=k>return</span> <span class=n>core</span><span class=o>.</span><span class=n>MACAddress</span><span class=p>(</span><span class=o>*</span><span class=n>parts_int</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.maybe_simple_value class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>maybe_simple_value</span><span class=p>(</span><span class=o>*</span><span class=n>validators</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></code> <a href=#config_validation.maybe_simple_value class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1858>1858</a></span>
<span class=normal><a href=#__codelineno-0-1859>1859</a></span>
<span class=normal><a href=#__codelineno-0-1860>1860</a></span>
<span class=normal><a href=#__codelineno-0-1861>1861</a></span>
<span class=normal><a href=#__codelineno-0-1862>1862</a></span>
<span class=normal><a href=#__codelineno-0-1863>1863</a></span>
<span class=normal><a href=#__codelineno-0-1864>1864</a></span>
<span class=normal><a href=#__codelineno-0-1865>1865</a></span>
<span class=normal><a href=#__codelineno-0-1866>1866</a></span>
<span class=normal><a href=#__codelineno-0-1867>1867</a></span>
<span class=normal><a href=#__codelineno-0-1868>1868</a></span>
<span class=normal><a href=#__codelineno-0-1869>1869</a></span>
<span class=normal><a href=#__codelineno-0-1870>1870</a></span>
<span class=normal><a href=#__codelineno-0-1871>1871</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1858><a id=__codelineno-0-1858 name=__codelineno-0-1858></a><span class=k>def</span> <span class=nf>maybe_simple_value</span><span class=p>(</span><span class=o>*</span><span class=n>validators</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span><span id=__span-0-1859><a id=__codelineno-0-1859 name=__codelineno-0-1859></a>    <span class=n>key</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;key&quot;</span><span class=p>,</span> <span class=n>CONF_VALUE</span><span class=p>)</span>
</span><span id=__span-0-1860><a id=__codelineno-0-1860 name=__codelineno-0-1860></a>    <span class=n>validator</span> <span class=o>=</span> <span class=n>All</span><span class=p>(</span><span class=o>*</span><span class=n>validators</span><span class=p>)</span>
</span><span id=__span-0-1861><a id=__codelineno-0-1861 name=__codelineno-0-1861></a>
</span><span id=__span-0-1862><a id=__codelineno-0-1862 name=__codelineno-0-1862></a>    <span class=nd>@schema_extractor</span><span class=p>(</span><span class=s2>&quot;maybe&quot;</span><span class=p>)</span>
</span><span id=__span-0-1863><a id=__codelineno-0-1863 name=__codelineno-0-1863></a>    <span class=k>def</span> <span class=nf>validate</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1864><a id=__codelineno-0-1864 name=__codelineno-0-1864></a>        <span class=k>if</span> <span class=n>value</span> <span class=o>==</span> <span class=n>SCHEMA_EXTRACT</span><span class=p>:</span>
</span><span id=__span-0-1865><a id=__codelineno-0-1865 name=__codelineno-0-1865></a>            <span class=k>return</span> <span class=p>(</span><span class=n>validator</span><span class=p>,</span> <span class=n>key</span><span class=p>)</span>
</span><span id=__span-0-1866><a id=__codelineno-0-1866 name=__codelineno-0-1866></a>
</span><span id=__span-0-1867><a id=__codelineno-0-1867 name=__codelineno-0-1867></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span> <span class=ow>and</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-1868><a id=__codelineno-0-1868 name=__codelineno-0-1868></a>            <span class=k>return</span> <span class=n>validator</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1869><a id=__codelineno-0-1869 name=__codelineno-0-1869></a>        <span class=k>return</span> <span class=n>validator</span><span class=p>({</span><span class=n>key</span><span class=p>:</span> <span class=n>value</span><span class=p>})</span>
</span><span id=__span-0-1870><a id=__codelineno-0-1870 name=__codelineno-0-1870></a>
</span><span id=__span-0-1871><a id=__codelineno-0-1871 name=__codelineno-0-1871></a>    <span class=k>return</span> <span class=n>validate</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.mqtt_payload class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>mqtt_payload</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.mqtt_payload class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1235>1235</a></span>
<span class=normal><a href=#__codelineno-0-1236>1236</a></span>
<span class=normal><a href=#__codelineno-0-1237>1237</a></span>
<span class=normal><a href=#__codelineno-0-1238>1238</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1235><a id=__codelineno-0-1235 name=__codelineno-0-1235></a><span class=k>def</span> <span class=nf>mqtt_payload</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1236><a id=__codelineno-0-1236 name=__codelineno-0-1236></a>    <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1237><a id=__codelineno-0-1237 name=__codelineno-0-1237></a>        <span class=k>return</span> <span class=s2>&quot;&quot;</span>
</span><span id=__span-0-1238><a id=__codelineno-0-1238 name=__codelineno-0-1238></a>    <span class=k>return</span> <span class=n>string</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.mqtt_qos class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>mqtt_qos</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.mqtt_qos class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1241>1241</a></span>
<span class=normal><a href=#__codelineno-0-1242>1242</a></span>
<span class=normal><a href=#__codelineno-0-1243>1243</a></span>
<span class=normal><a href=#__codelineno-0-1244>1244</a></span>
<span class=normal><a href=#__codelineno-0-1245>1245</a></span>
<span class=normal><a href=#__codelineno-0-1246>1246</a></span>
<span class=normal><a href=#__codelineno-0-1247>1247</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1241><a id=__codelineno-0-1241 name=__codelineno-0-1241></a><span class=k>def</span> <span class=nf>mqtt_qos</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1242><a id=__codelineno-0-1242 name=__codelineno-0-1242></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1243><a id=__codelineno-0-1243 name=__codelineno-0-1243></a>        <span class=n>value</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1244><a id=__codelineno-0-1244 name=__codelineno-0-1244></a>    <span class=k>except</span> <span class=p>(</span><span class=ne>TypeError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>):</span>
</span><span id=__span-0-1245><a id=__codelineno-0-1245 name=__codelineno-0-1245></a>        <span class=c1># pylint: disable=raise-missing-from</span>
</span><span id=__span-0-1246><a id=__codelineno-0-1246 name=__codelineno-0-1246></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;MQTT Quality of Service must be integer, got </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-1247><a id=__codelineno-0-1247 name=__codelineno-0-1247></a>    <span class=k>return</span> <span class=n>one_of</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)(</span><span class=n>value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.none class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>none</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.none class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1839>1839</a></span>
<span class=normal><a href=#__codelineno-0-1840>1840</a></span>
<span class=normal><a href=#__codelineno-0-1841>1841</a></span>
<span class=normal><a href=#__codelineno-0-1842>1842</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1839><a id=__codelineno-0-1839 name=__codelineno-0-1839></a><span class=k>def</span> <span class=nf>none</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1840><a id=__codelineno-0-1840 name=__codelineno-0-1840></a>    <span class=k>if</span> <span class=n>value</span> <span class=ow>in</span> <span class=p>(</span><span class=s2>&quot;none&quot;</span><span class=p>,</span> <span class=s2>&quot;None&quot;</span><span class=p>):</span>
</span><span id=__span-0-1841><a id=__codelineno-0-1841 name=__codelineno-0-1841></a>        <span class=k>return</span> <span class=kc>None</span>
</span><span id=__span-0-1842><a id=__codelineno-0-1842 name=__codelineno-0-1842></a>    <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Must be none&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.one_of class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>one_of</span><span class=p>(</span><span class=o>*</span><span class=n>values</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></code> <a href=#config_validation.one_of class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that the config option is one of the given values.</p> <p>:Keyword Arguments: - <em>lower</em> (<code>bool</code>, default=False): Whether to convert the incoming values to lowercase strings. - <em>upper</em> (<code>bool</code>, default=False): Whether to convert the incoming values to uppercase strings. - <em>int</em> (<code>bool</code>, default=False): Whether to convert the incoming values to integers. - <em>float</em> (<code>bool</code>, default=False): Whether to convert the incoming values to floats. - <em>space</em> (<code>str</code>, default=' '): What to convert spaces in the input string to.</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>values</code></b> – <div class=doc-md-description> <p>The valid values for this type</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1360>1360</a></span>
<span class=normal><a href=#__codelineno-0-1361>1361</a></span>
<span class=normal><a href=#__codelineno-0-1362>1362</a></span>
<span class=normal><a href=#__codelineno-0-1363>1363</a></span>
<span class=normal><a href=#__codelineno-0-1364>1364</a></span>
<span class=normal><a href=#__codelineno-0-1365>1365</a></span>
<span class=normal><a href=#__codelineno-0-1366>1366</a></span>
<span class=normal><a href=#__codelineno-0-1367>1367</a></span>
<span class=normal><a href=#__codelineno-0-1368>1368</a></span>
<span class=normal><a href=#__codelineno-0-1369>1369</a></span>
<span class=normal><a href=#__codelineno-0-1370>1370</a></span>
<span class=normal><a href=#__codelineno-0-1371>1371</a></span>
<span class=normal><a href=#__codelineno-0-1372>1372</a></span>
<span class=normal><a href=#__codelineno-0-1373>1373</a></span>
<span class=normal><a href=#__codelineno-0-1374>1374</a></span>
<span class=normal><a href=#__codelineno-0-1375>1375</a></span>
<span class=normal><a href=#__codelineno-0-1376>1376</a></span>
<span class=normal><a href=#__codelineno-0-1377>1377</a></span>
<span class=normal><a href=#__codelineno-0-1378>1378</a></span>
<span class=normal><a href=#__codelineno-0-1379>1379</a></span>
<span class=normal><a href=#__codelineno-0-1380>1380</a></span>
<span class=normal><a href=#__codelineno-0-1381>1381</a></span>
<span class=normal><a href=#__codelineno-0-1382>1382</a></span>
<span class=normal><a href=#__codelineno-0-1383>1383</a></span>
<span class=normal><a href=#__codelineno-0-1384>1384</a></span>
<span class=normal><a href=#__codelineno-0-1385>1385</a></span>
<span class=normal><a href=#__codelineno-0-1386>1386</a></span>
<span class=normal><a href=#__codelineno-0-1387>1387</a></span>
<span class=normal><a href=#__codelineno-0-1388>1388</a></span>
<span class=normal><a href=#__codelineno-0-1389>1389</a></span>
<span class=normal><a href=#__codelineno-0-1390>1390</a></span>
<span class=normal><a href=#__codelineno-0-1391>1391</a></span>
<span class=normal><a href=#__codelineno-0-1392>1392</a></span>
<span class=normal><a href=#__codelineno-0-1393>1393</a></span>
<span class=normal><a href=#__codelineno-0-1394>1394</a></span>
<span class=normal><a href=#__codelineno-0-1395>1395</a></span>
<span class=normal><a href=#__codelineno-0-1396>1396</a></span>
<span class=normal><a href=#__codelineno-0-1397>1397</a></span>
<span class=normal><a href=#__codelineno-0-1398>1398</a></span>
<span class=normal><a href=#__codelineno-0-1399>1399</a></span>
<span class=normal><a href=#__codelineno-0-1400>1400</a></span>
<span class=normal><a href=#__codelineno-0-1401>1401</a></span>
<span class=normal><a href=#__codelineno-0-1402>1402</a></span>
<span class=normal><a href=#__codelineno-0-1403>1403</a></span>
<span class=normal><a href=#__codelineno-0-1404>1404</a></span>
<span class=normal><a href=#__codelineno-0-1405>1405</a></span>
<span class=normal><a href=#__codelineno-0-1406>1406</a></span>
<span class=normal><a href=#__codelineno-0-1407>1407</a></span>
<span class=normal><a href=#__codelineno-0-1408>1408</a></span>
<span class=normal><a href=#__codelineno-0-1409>1409</a></span>
<span class=normal><a href=#__codelineno-0-1410>1410</a></span>
<span class=normal><a href=#__codelineno-0-1411>1411</a></span>
<span class=normal><a href=#__codelineno-0-1412>1412</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1360><a id=__codelineno-0-1360 name=__codelineno-0-1360></a><span class=k>def</span> <span class=nf>one_of</span><span class=p>(</span><span class=o>*</span><span class=n>values</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span><span id=__span-0-1361><a id=__codelineno-0-1361 name=__codelineno-0-1361></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that the config option is one of the given values.</span>
</span><span id=__span-0-1362><a id=__codelineno-0-1362 name=__codelineno-0-1362></a>
</span><span id=__span-0-1363><a id=__codelineno-0-1363 name=__codelineno-0-1363></a><span class=sd>    :param values: The valid values for this type</span>
</span><span id=__span-0-1364><a id=__codelineno-0-1364 name=__codelineno-0-1364></a>
</span><span id=__span-0-1365><a id=__codelineno-0-1365 name=__codelineno-0-1365></a><span class=sd>    :Keyword Arguments:</span>
</span><span id=__span-0-1366><a id=__codelineno-0-1366 name=__codelineno-0-1366></a><span class=sd>      - *lower* (``bool``, default=False): Whether to convert the incoming values to lowercase</span>
</span><span id=__span-0-1367><a id=__codelineno-0-1367 name=__codelineno-0-1367></a><span class=sd>        strings.</span>
</span><span id=__span-0-1368><a id=__codelineno-0-1368 name=__codelineno-0-1368></a><span class=sd>      - *upper* (``bool``, default=False): Whether to convert the incoming values to uppercase</span>
</span><span id=__span-0-1369><a id=__codelineno-0-1369 name=__codelineno-0-1369></a><span class=sd>        strings.</span>
</span><span id=__span-0-1370><a id=__codelineno-0-1370 name=__codelineno-0-1370></a><span class=sd>      - *int* (``bool``, default=False): Whether to convert the incoming values to integers.</span>
</span><span id=__span-0-1371><a id=__codelineno-0-1371 name=__codelineno-0-1371></a><span class=sd>      - *float* (``bool``, default=False): Whether to convert the incoming values to floats.</span>
</span><span id=__span-0-1372><a id=__codelineno-0-1372 name=__codelineno-0-1372></a><span class=sd>      - *space* (``str``, default=&#39; &#39;): What to convert spaces in the input string to.</span>
</span><span id=__span-0-1373><a id=__codelineno-0-1373 name=__codelineno-0-1373></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1374><a id=__codelineno-0-1374 name=__codelineno-0-1374></a>    <span class=n>options</span> <span class=o>=</span> <span class=s2>&quot;, &quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;&#39;</span><span class=si>{</span><span class=n>x</span><span class=si>}</span><span class=s2>&#39;&quot;</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>values</span><span class=p>)</span>
</span><span id=__span-0-1375><a id=__codelineno-0-1375 name=__codelineno-0-1375></a>    <span class=n>lower</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;lower&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-1376><a id=__codelineno-0-1376 name=__codelineno-0-1376></a>    <span class=n>upper</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;upper&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-1377><a id=__codelineno-0-1377 name=__codelineno-0-1377></a>    <span class=n>string_</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;string&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span> <span class=ow>or</span> <span class=n>lower</span> <span class=ow>or</span> <span class=n>upper</span>
</span><span id=__span-0-1378><a id=__codelineno-0-1378 name=__codelineno-0-1378></a>    <span class=n>to_int</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;int&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-1379><a id=__codelineno-0-1379 name=__codelineno-0-1379></a>    <span class=n>to_float</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;float&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
</span><span id=__span-0-1380><a id=__codelineno-0-1380 name=__codelineno-0-1380></a>    <span class=n>space</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;space&quot;</span><span class=p>,</span> <span class=s2>&quot; &quot;</span><span class=p>)</span>
</span><span id=__span-0-1381><a id=__codelineno-0-1381 name=__codelineno-0-1381></a>    <span class=k>if</span> <span class=n>kwargs</span><span class=p>:</span>
</span><span id=__span-0-1382><a id=__codelineno-0-1382 name=__codelineno-0-1382></a>        <span class=k>raise</span> <span class=ne>ValueError</span>
</span><span id=__span-0-1383><a id=__codelineno-0-1383 name=__codelineno-0-1383></a>
</span><span id=__span-0-1384><a id=__codelineno-0-1384 name=__codelineno-0-1384></a>    <span class=nd>@schema_extractor</span><span class=p>(</span><span class=s2>&quot;one_of&quot;</span><span class=p>)</span>
</span><span id=__span-0-1385><a id=__codelineno-0-1385 name=__codelineno-0-1385></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1386><a id=__codelineno-0-1386 name=__codelineno-0-1386></a>        <span class=k>if</span> <span class=n>value</span> <span class=o>==</span> <span class=n>SCHEMA_EXTRACT</span><span class=p>:</span>
</span><span id=__span-0-1387><a id=__codelineno-0-1387 name=__codelineno-0-1387></a>            <span class=k>return</span> <span class=n>values</span>
</span><span id=__span-0-1388><a id=__codelineno-0-1388 name=__codelineno-0-1388></a>
</span><span id=__span-0-1389><a id=__codelineno-0-1389 name=__codelineno-0-1389></a>        <span class=k>if</span> <span class=n>string_</span><span class=p>:</span>
</span><span id=__span-0-1390><a id=__codelineno-0-1390 name=__codelineno-0-1390></a>            <span class=n>value</span> <span class=o>=</span> <span class=n>string</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1391><a id=__codelineno-0-1391 name=__codelineno-0-1391></a>            <span class=n>value</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>,</span> <span class=n>space</span><span class=p>)</span>
</span><span id=__span-0-1392><a id=__codelineno-0-1392 name=__codelineno-0-1392></a>        <span class=k>if</span> <span class=n>to_int</span><span class=p>:</span>
</span><span id=__span-0-1393><a id=__codelineno-0-1393 name=__codelineno-0-1393></a>            <span class=n>value</span> <span class=o>=</span> <span class=n>int_</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1394><a id=__codelineno-0-1394 name=__codelineno-0-1394></a>        <span class=k>if</span> <span class=n>to_float</span><span class=p>:</span>
</span><span id=__span-0-1395><a id=__codelineno-0-1395 name=__codelineno-0-1395></a>            <span class=n>value</span> <span class=o>=</span> <span class=n>float_</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1396><a id=__codelineno-0-1396 name=__codelineno-0-1396></a>        <span class=k>if</span> <span class=n>lower</span><span class=p>:</span>
</span><span id=__span-0-1397><a id=__codelineno-0-1397 name=__codelineno-0-1397></a>            <span class=n>value</span> <span class=o>=</span> <span class=n>Lower</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1398><a id=__codelineno-0-1398 name=__codelineno-0-1398></a>        <span class=k>if</span> <span class=n>upper</span><span class=p>:</span>
</span><span id=__span-0-1399><a id=__codelineno-0-1399 name=__codelineno-0-1399></a>            <span class=n>value</span> <span class=o>=</span> <span class=n>Upper</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1400><a id=__codelineno-0-1400 name=__codelineno-0-1400></a>        <span class=k>if</span> <span class=n>value</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>values</span><span class=p>:</span>
</span><span id=__span-0-1401><a id=__codelineno-0-1401 name=__codelineno-0-1401></a>            <span class=kn>import</span> <span class=nn>difflib</span>
</span><span id=__span-0-1402><a id=__codelineno-0-1402 name=__codelineno-0-1402></a>
</span><span id=__span-0-1403><a id=__codelineno-0-1403 name=__codelineno-0-1403></a>            <span class=n>options_</span> <span class=o>=</span> <span class=p>[</span><span class=nb>str</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>values</span><span class=p>]</span>
</span><span id=__span-0-1404><a id=__codelineno-0-1404 name=__codelineno-0-1404></a>            <span class=n>option</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1405><a id=__codelineno-0-1405 name=__codelineno-0-1405></a>            <span class=n>matches</span> <span class=o>=</span> <span class=n>difflib</span><span class=o>.</span><span class=n>get_close_matches</span><span class=p>(</span><span class=n>option</span><span class=p>,</span> <span class=n>options_</span><span class=p>)</span>
</span><span id=__span-0-1406><a id=__codelineno-0-1406 name=__codelineno-0-1406></a>            <span class=k>if</span> <span class=n>matches</span><span class=p>:</span>
</span><span id=__span-0-1407><a id=__codelineno-0-1407 name=__codelineno-0-1407></a>                <span class=n>matches_str</span> <span class=o>=</span> <span class=s2>&quot;, &quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;&#39;</span><span class=si>{</span><span class=n>x</span><span class=si>}</span><span class=s2>&#39;&quot;</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>matches</span><span class=p>)</span>
</span><span id=__span-0-1408><a id=__codelineno-0-1408 name=__codelineno-0-1408></a>                <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unknown value &#39;</span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&#39;, did you mean </span><span class=si>{</span><span class=n>matches_str</span><span class=si>}</span><span class=s2>?&quot;</span><span class=p>)</span>
</span><span id=__span-0-1409><a id=__codelineno-0-1409 name=__codelineno-0-1409></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unknown value &#39;</span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&#39;, valid options are </span><span class=si>{</span><span class=n>options</span><span class=si>}</span><span class=s2>.&quot;</span><span class=p>)</span>
</span><span id=__span-0-1410><a id=__codelineno-0-1410 name=__codelineno-0-1410></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-1411><a id=__codelineno-0-1411 name=__codelineno-0-1411></a>
</span><span id=__span-0-1412><a id=__codelineno-0-1412 name=__codelineno-0-1412></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.only_on class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>only_on</span><span class=p>(</span><span class=n>platforms</span><span class=p>)</span></code> <a href=#config_validation.only_on class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that this option can only be specified on the given target platforms.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-592>592</a></span>
<span class=normal><a href=#__codelineno-0-593>593</a></span>
<span class=normal><a href=#__codelineno-0-594>594</a></span>
<span class=normal><a href=#__codelineno-0-595>595</a></span>
<span class=normal><a href=#__codelineno-0-596>596</a></span>
<span class=normal><a href=#__codelineno-0-597>597</a></span>
<span class=normal><a href=#__codelineno-0-598>598</a></span>
<span class=normal><a href=#__codelineno-0-599>599</a></span>
<span class=normal><a href=#__codelineno-0-600>600</a></span>
<span class=normal><a href=#__codelineno-0-601>601</a></span>
<span class=normal><a href=#__codelineno-0-602>602</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-592><a id=__codelineno-0-592 name=__codelineno-0-592></a><span class=k>def</span> <span class=nf>only_on</span><span class=p>(</span><span class=n>platforms</span><span class=p>):</span>
</span><span id=__span-0-593><a id=__codelineno-0-593 name=__codelineno-0-593></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that this option can only be specified on the given target platforms.&quot;&quot;&quot;</span>
</span><span id=__span-0-594><a id=__codelineno-0-594 name=__codelineno-0-594></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>platforms</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
</span><span id=__span-0-595><a id=__codelineno-0-595 name=__codelineno-0-595></a>        <span class=n>platforms</span> <span class=o>=</span> <span class=p>[</span><span class=n>platforms</span><span class=p>]</span>
</span><span id=__span-0-596><a id=__codelineno-0-596 name=__codelineno-0-596></a>
</span><span id=__span-0-597><a id=__codelineno-0-597 name=__codelineno-0-597></a>    <span class=k>def</span> <span class=nf>validator_</span><span class=p>(</span><span class=n>obj</span><span class=p>):</span>
</span><span id=__span-0-598><a id=__codelineno-0-598 name=__codelineno-0-598></a>        <span class=k>if</span> <span class=n>CORE</span><span class=o>.</span><span class=n>target_platform</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>platforms</span><span class=p>:</span>
</span><span id=__span-0-599><a id=__codelineno-0-599 name=__codelineno-0-599></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;This feature is only available on </span><span class=si>{</span><span class=n>platforms</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-600><a id=__codelineno-0-600 name=__codelineno-0-600></a>        <span class=k>return</span> <span class=n>obj</span>
</span><span id=__span-0-601><a id=__codelineno-0-601 name=__codelineno-0-601></a>
</span><span id=__span-0-602><a id=__codelineno-0-602 name=__codelineno-0-602></a>    <span class=k>return</span> <span class=n>validator_</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.only_with_framework class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>only_with_framework</span><span class=p>(</span><span class=n>frameworks</span><span class=p>)</span></code> <a href=#config_validation.only_with_framework class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that this option can only be specified on the given frameworks.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-605>605</a></span>
<span class=normal><a href=#__codelineno-0-606>606</a></span>
<span class=normal><a href=#__codelineno-0-607>607</a></span>
<span class=normal><a href=#__codelineno-0-608>608</a></span>
<span class=normal><a href=#__codelineno-0-609>609</a></span>
<span class=normal><a href=#__codelineno-0-610>610</a></span>
<span class=normal><a href=#__codelineno-0-611>611</a></span>
<span class=normal><a href=#__codelineno-0-612>612</a></span>
<span class=normal><a href=#__codelineno-0-613>613</a></span>
<span class=normal><a href=#__codelineno-0-614>614</a></span>
<span class=normal><a href=#__codelineno-0-615>615</a></span>
<span class=normal><a href=#__codelineno-0-616>616</a></span>
<span class=normal><a href=#__codelineno-0-617>617</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-605><a id=__codelineno-0-605 name=__codelineno-0-605></a><span class=k>def</span> <span class=nf>only_with_framework</span><span class=p>(</span><span class=n>frameworks</span><span class=p>):</span>
</span><span id=__span-0-606><a id=__codelineno-0-606 name=__codelineno-0-606></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that this option can only be specified on the given frameworks.&quot;&quot;&quot;</span>
</span><span id=__span-0-607><a id=__codelineno-0-607 name=__codelineno-0-607></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>frameworks</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
</span><span id=__span-0-608><a id=__codelineno-0-608 name=__codelineno-0-608></a>        <span class=n>frameworks</span> <span class=o>=</span> <span class=p>[</span><span class=n>frameworks</span><span class=p>]</span>
</span><span id=__span-0-609><a id=__codelineno-0-609 name=__codelineno-0-609></a>
</span><span id=__span-0-610><a id=__codelineno-0-610 name=__codelineno-0-610></a>    <span class=k>def</span> <span class=nf>validator_</span><span class=p>(</span><span class=n>obj</span><span class=p>):</span>
</span><span id=__span-0-611><a id=__codelineno-0-611 name=__codelineno-0-611></a>        <span class=k>if</span> <span class=n>CORE</span><span class=o>.</span><span class=n>target_framework</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>frameworks</span><span class=p>:</span>
</span><span id=__span-0-612><a id=__codelineno-0-612 name=__codelineno-0-612></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-613><a id=__codelineno-0-613 name=__codelineno-0-613></a>                <span class=sa>f</span><span class=s2>&quot;This feature is only available with frameworks </span><span class=si>{</span><span class=n>frameworks</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-614><a id=__codelineno-0-614 name=__codelineno-0-614></a>            <span class=p>)</span>
</span><span id=__span-0-615><a id=__codelineno-0-615 name=__codelineno-0-615></a>        <span class=k>return</span> <span class=n>obj</span>
</span><span id=__span-0-616><a id=__codelineno-0-616 name=__codelineno-0-616></a>
</span><span id=__span-0-617><a id=__codelineno-0-617 name=__codelineno-0-617></a>    <span class=k>return</span> <span class=n>validator_</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.percentage class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>percentage</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.percentage class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that the value is a percentage.</p> <p>The resulting value is an integer in the range 0.0 to 1.0.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1272>1272</a></span>
<span class=normal><a href=#__codelineno-0-1273>1273</a></span>
<span class=normal><a href=#__codelineno-0-1274>1274</a></span>
<span class=normal><a href=#__codelineno-0-1275>1275</a></span>
<span class=normal><a href=#__codelineno-0-1276>1276</a></span>
<span class=normal><a href=#__codelineno-0-1277>1277</a></span>
<span class=normal><a href=#__codelineno-0-1278>1278</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1272><a id=__codelineno-0-1272 name=__codelineno-0-1272></a><span class=k>def</span> <span class=nf>percentage</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1273><a id=__codelineno-0-1273 name=__codelineno-0-1273></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that the value is a percentage.</span>
</span><span id=__span-0-1274><a id=__codelineno-0-1274 name=__codelineno-0-1274></a>
</span><span id=__span-0-1275><a id=__codelineno-0-1275 name=__codelineno-0-1275></a><span class=sd>    The resulting value is an integer in the range 0.0 to 1.0.</span>
</span><span id=__span-0-1276><a id=__codelineno-0-1276 name=__codelineno-0-1276></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1277><a id=__codelineno-0-1277 name=__codelineno-0-1277></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>possibly_negative_percentage</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1278><a id=__codelineno-0-1278 name=__codelineno-0-1278></a>    <span class=k>return</span> <span class=n>zero_to_one_float</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.percentage_int class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>percentage_int</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.percentage_int class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1311>1311</a></span>
<span class=normal><a href=#__codelineno-0-1312>1312</a></span>
<span class=normal><a href=#__codelineno-0-1313>1313</a></span>
<span class=normal><a href=#__codelineno-0-1314>1314</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1311><a id=__codelineno-0-1311 name=__codelineno-0-1311></a><span class=k>def</span> <span class=nf>percentage_int</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1312><a id=__codelineno-0-1312 name=__codelineno-0-1312></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>&quot;%&quot;</span><span class=p>):</span>
</span><span id=__span-0-1313><a id=__codelineno-0-1313 name=__codelineno-0-1313></a>        <span class=n>value</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>value</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>rstrip</span><span class=p>())</span>
</span><span id=__span-0-1314><a id=__codelineno-0-1314 name=__codelineno-0-1314></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.platformio_version_constraint class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>platformio_version_constraint</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.platformio_version_constraint class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2030>2030</a></span>
<span class=normal><a href=#__codelineno-0-2031>2031</a></span>
<span class=normal><a href=#__codelineno-0-2032>2032</a></span>
<span class=normal><a href=#__codelineno-0-2033>2033</a></span>
<span class=normal><a href=#__codelineno-0-2034>2034</a></span>
<span class=normal><a href=#__codelineno-0-2035>2035</a></span>
<span class=normal><a href=#__codelineno-0-2036>2036</a></span>
<span class=normal><a href=#__codelineno-0-2037>2037</a></span>
<span class=normal><a href=#__codelineno-0-2038>2038</a></span>
<span class=normal><a href=#__codelineno-0-2039>2039</a></span>
<span class=normal><a href=#__codelineno-0-2040>2040</a></span>
<span class=normal><a href=#__codelineno-0-2041>2041</a></span>
<span class=normal><a href=#__codelineno-0-2042>2042</a></span>
<span class=normal><a href=#__codelineno-0-2043>2043</a></span>
<span class=normal><a href=#__codelineno-0-2044>2044</a></span>
<span class=normal><a href=#__codelineno-0-2045>2045</a></span>
<span class=normal><a href=#__codelineno-0-2046>2046</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-2030><a id=__codelineno-0-2030 name=__codelineno-0-2030></a><span class=k>def</span> <span class=nf>platformio_version_constraint</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-2031><a id=__codelineno-0-2031 name=__codelineno-0-2031></a>    <span class=c1># for documentation on valid version constraints:</span>
</span><span id=__span-0-2032><a id=__codelineno-0-2032 name=__codelineno-0-2032></a>    <span class=c1># https://docs.platformio.org/en/latest/core/userguide/platforms/cmd_install.html#cmd-platform-install</span>
</span><span id=__span-0-2033><a id=__codelineno-0-2033 name=__codelineno-0-2033></a>
</span><span id=__span-0-2034><a id=__codelineno-0-2034 name=__codelineno-0-2034></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-2035><a id=__codelineno-0-2035 name=__codelineno-0-2035></a>    <span class=n>constraints</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-2036><a id=__codelineno-0-2036 name=__codelineno-0-2036></a>    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>value</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;,&quot;</span><span class=p>):</span>
</span><span id=__span-0-2037><a id=__codelineno-0-2037 name=__codelineno-0-2037></a>        <span class=c1># find and strip prefix operator</span>
</span><span id=__span-0-2038><a id=__codelineno-0-2038 name=__codelineno-0-2038></a>        <span class=n>op</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-2039><a id=__codelineno-0-2039 name=__codelineno-0-2039></a>        <span class=k>for</span> <span class=n>test_op</span> <span class=ow>in</span> <span class=p>(</span><span class=s2>&quot;^&quot;</span><span class=p>,</span> <span class=s2>&quot;~&quot;</span><span class=p>,</span> <span class=s2>&quot;&gt;=&quot;</span><span class=p>,</span> <span class=s2>&quot;&gt;&quot;</span><span class=p>,</span> <span class=s2>&quot;&lt;=&quot;</span><span class=p>,</span> <span class=s2>&quot;&lt;&quot;</span><span class=p>,</span> <span class=s2>&quot;!=&quot;</span><span class=p>):</span>
</span><span id=__span-0-2040><a id=__codelineno-0-2040 name=__codelineno-0-2040></a>            <span class=k>if</span> <span class=n>item</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=n>test_op</span><span class=p>):</span>
</span><span id=__span-0-2041><a id=__codelineno-0-2041 name=__codelineno-0-2041></a>                <span class=n>op</span> <span class=o>=</span> <span class=n>test_op</span>
</span><span id=__span-0-2042><a id=__codelineno-0-2042 name=__codelineno-0-2042></a>                <span class=n>item</span> <span class=o>=</span> <span class=n>item</span><span class=p>[</span><span class=nb>len</span><span class=p>(</span><span class=n>test_op</span><span class=p>)</span> <span class=p>:]</span>
</span><span id=__span-0-2043><a id=__codelineno-0-2043 name=__codelineno-0-2043></a>                <span class=k>break</span>
</span><span id=__span-0-2044><a id=__codelineno-0-2044 name=__codelineno-0-2044></a>
</span><span id=__span-0-2045><a id=__codelineno-0-2045 name=__codelineno-0-2045></a>        <span class=n>constraints</span><span class=o>.</span><span class=n>append</span><span class=p>((</span><span class=n>op</span><span class=p>,</span> <span class=n>version_number</span><span class=p>(</span><span class=n>item</span><span class=p>)))</span>
</span><span id=__span-0-2046><a id=__codelineno-0-2046 name=__codelineno-0-2046></a>    <span class=k>return</span> <span class=n>constraints</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.polling_component_schema class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>polling_component_schema</span><span class=p>(</span><span class=n>default_update_interval</span><span class=p>)</span></code> <a href=#config_validation.polling_component_schema class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that this component represents a PollingComponent with a configurable update_interval.</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>default_update_interval</code></b> – <div class=doc-md-description> <p>The default update interval to set for the integration.</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1942>1942</a></span>
<span class=normal><a href=#__codelineno-0-1943>1943</a></span>
<span class=normal><a href=#__codelineno-0-1944>1944</a></span>
<span class=normal><a href=#__codelineno-0-1945>1945</a></span>
<span class=normal><a href=#__codelineno-0-1946>1946</a></span>
<span class=normal><a href=#__codelineno-0-1947>1947</a></span>
<span class=normal><a href=#__codelineno-0-1948>1948</a></span>
<span class=normal><a href=#__codelineno-0-1949>1949</a></span>
<span class=normal><a href=#__codelineno-0-1950>1950</a></span>
<span class=normal><a href=#__codelineno-0-1951>1951</a></span>
<span class=normal><a href=#__codelineno-0-1952>1952</a></span>
<span class=normal><a href=#__codelineno-0-1953>1953</a></span>
<span class=normal><a href=#__codelineno-0-1954>1954</a></span>
<span class=normal><a href=#__codelineno-0-1955>1955</a></span>
<span class=normal><a href=#__codelineno-0-1956>1956</a></span>
<span class=normal><a href=#__codelineno-0-1957>1957</a></span>
<span class=normal><a href=#__codelineno-0-1958>1958</a></span>
<span class=normal><a href=#__codelineno-0-1959>1959</a></span>
<span class=normal><a href=#__codelineno-0-1960>1960</a></span>
<span class=normal><a href=#__codelineno-0-1961>1961</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1942><a id=__codelineno-0-1942 name=__codelineno-0-1942></a><span class=k>def</span> <span class=nf>polling_component_schema</span><span class=p>(</span><span class=n>default_update_interval</span><span class=p>):</span>
</span><span id=__span-0-1943><a id=__codelineno-0-1943 name=__codelineno-0-1943></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that this component represents a PollingComponent with a configurable</span>
</span><span id=__span-0-1944><a id=__codelineno-0-1944 name=__codelineno-0-1944></a><span class=sd>    update_interval.</span>
</span><span id=__span-0-1945><a id=__codelineno-0-1945 name=__codelineno-0-1945></a>
</span><span id=__span-0-1946><a id=__codelineno-0-1946 name=__codelineno-0-1946></a><span class=sd>    :param default_update_interval: The default update interval to set for the integration.</span>
</span><span id=__span-0-1947><a id=__codelineno-0-1947 name=__codelineno-0-1947></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1948><a id=__codelineno-0-1948 name=__codelineno-0-1948></a>    <span class=k>if</span> <span class=n>default_update_interval</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1949><a id=__codelineno-0-1949 name=__codelineno-0-1949></a>        <span class=k>return</span> <span class=n>COMPONENT_SCHEMA</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
</span><span id=__span-0-1950><a id=__codelineno-0-1950 name=__codelineno-0-1950></a>            <span class=p>{</span>
</span><span id=__span-0-1951><a id=__codelineno-0-1951 name=__codelineno-0-1951></a>                <span class=n>Required</span><span class=p>(</span><span class=n>CONF_UPDATE_INTERVAL</span><span class=p>):</span> <span class=n>default_update_interval</span><span class=p>,</span>
</span><span id=__span-0-1952><a id=__codelineno-0-1952 name=__codelineno-0-1952></a>            <span class=p>}</span>
</span><span id=__span-0-1953><a id=__codelineno-0-1953 name=__codelineno-0-1953></a>        <span class=p>)</span>
</span><span id=__span-0-1954><a id=__codelineno-0-1954 name=__codelineno-0-1954></a>    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>default_update_interval</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span>
</span><span id=__span-0-1955><a id=__codelineno-0-1955 name=__codelineno-0-1955></a>    <span class=k>return</span> <span class=n>COMPONENT_SCHEMA</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
</span><span id=__span-0-1956><a id=__codelineno-0-1956 name=__codelineno-0-1956></a>        <span class=p>{</span>
</span><span id=__span-0-1957><a id=__codelineno-0-1957 name=__codelineno-0-1957></a>            <span class=n>Optional</span><span class=p>(</span>
</span><span id=__span-0-1958><a id=__codelineno-0-1958 name=__codelineno-0-1958></a>                <span class=n>CONF_UPDATE_INTERVAL</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=n>default_update_interval</span>
</span><span id=__span-0-1959><a id=__codelineno-0-1959 name=__codelineno-0-1959></a>            <span class=p>):</span> <span class=n>update_interval</span><span class=p>,</span>
</span><span id=__span-0-1960><a id=__codelineno-0-1960 name=__codelineno-0-1960></a>        <span class=p>}</span>
</span><span id=__span-0-1961><a id=__codelineno-0-1961 name=__codelineno-0-1961></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.possibly_negative_percentage class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>possibly_negative_percentage</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.possibly_negative_percentage class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1281>1281</a></span>
<span class=normal><a href=#__codelineno-0-1282>1282</a></span>
<span class=normal><a href=#__codelineno-0-1283>1283</a></span>
<span class=normal><a href=#__codelineno-0-1284>1284</a></span>
<span class=normal><a href=#__codelineno-0-1285>1285</a></span>
<span class=normal><a href=#__codelineno-0-1286>1286</a></span>
<span class=normal><a href=#__codelineno-0-1287>1287</a></span>
<span class=normal><a href=#__codelineno-0-1288>1288</a></span>
<span class=normal><a href=#__codelineno-0-1289>1289</a></span>
<span class=normal><a href=#__codelineno-0-1290>1290</a></span>
<span class=normal><a href=#__codelineno-0-1291>1291</a></span>
<span class=normal><a href=#__codelineno-0-1292>1292</a></span>
<span class=normal><a href=#__codelineno-0-1293>1293</a></span>
<span class=normal><a href=#__codelineno-0-1294>1294</a></span>
<span class=normal><a href=#__codelineno-0-1295>1295</a></span>
<span class=normal><a href=#__codelineno-0-1296>1296</a></span>
<span class=normal><a href=#__codelineno-0-1297>1297</a></span>
<span class=normal><a href=#__codelineno-0-1298>1298</a></span>
<span class=normal><a href=#__codelineno-0-1299>1299</a></span>
<span class=normal><a href=#__codelineno-0-1300>1300</a></span>
<span class=normal><a href=#__codelineno-0-1301>1301</a></span>
<span class=normal><a href=#__codelineno-0-1302>1302</a></span>
<span class=normal><a href=#__codelineno-0-1303>1303</a></span>
<span class=normal><a href=#__codelineno-0-1304>1304</a></span>
<span class=normal><a href=#__codelineno-0-1305>1305</a></span>
<span class=normal><a href=#__codelineno-0-1306>1306</a></span>
<span class=normal><a href=#__codelineno-0-1307>1307</a></span>
<span class=normal><a href=#__codelineno-0-1308>1308</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1281><a id=__codelineno-0-1281 name=__codelineno-0-1281></a><span class=k>def</span> <span class=nf>possibly_negative_percentage</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1282><a id=__codelineno-0-1282 name=__codelineno-0-1282></a>    <span class=n>has_percent_sign</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-1283><a id=__codelineno-0-1283 name=__codelineno-0-1283></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-1284><a id=__codelineno-0-1284 name=__codelineno-0-1284></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1285><a id=__codelineno-0-1285 name=__codelineno-0-1285></a>            <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>&quot;%&quot;</span><span class=p>):</span>
</span><span id=__span-0-1286><a id=__codelineno-0-1286 name=__codelineno-0-1286></a>                <span class=n>has_percent_sign</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-0-1287><a id=__codelineno-0-1287 name=__codelineno-0-1287></a>                <span class=n>value</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>value</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>rstrip</span><span class=p>())</span> <span class=o>/</span> <span class=mf>100.0</span>
</span><span id=__span-0-1288><a id=__codelineno-0-1288 name=__codelineno-0-1288></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1289><a id=__codelineno-0-1289 name=__codelineno-0-1289></a>                <span class=n>value</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1290><a id=__codelineno-0-1290 name=__codelineno-0-1290></a>        <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span><span id=__span-0-1291><a id=__codelineno-0-1291 name=__codelineno-0-1291></a>            <span class=c1># pylint: disable=raise-missing-from</span>
</span><span id=__span-0-1292><a id=__codelineno-0-1292 name=__codelineno-0-1292></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;invalid number&quot;</span><span class=p>)</span>
</span><span id=__span-0-1293><a id=__codelineno-0-1293 name=__codelineno-0-1293></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1294><a id=__codelineno-0-1294 name=__codelineno-0-1294></a>        <span class=k>if</span> <span class=n>value</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-1295><a id=__codelineno-0-1295 name=__codelineno-0-1295></a>            <span class=n>msg</span> <span class=o>=</span> <span class=s2>&quot;Percentage must not be higher than 100%.&quot;</span>
</span><span id=__span-0-1296><a id=__codelineno-0-1296 name=__codelineno-0-1296></a>            <span class=k>if</span> <span class=ow>not</span> <span class=n>has_percent_sign</span><span class=p>:</span>
</span><span id=__span-0-1297><a id=__codelineno-0-1297 name=__codelineno-0-1297></a>                <span class=n>msg</span> <span class=o>+=</span> <span class=s2>&quot; Please put a percent sign after the number!&quot;</span>
</span><span id=__span-0-1298><a id=__codelineno-0-1298 name=__codelineno-0-1298></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span><span id=__span-0-1299><a id=__codelineno-0-1299 name=__codelineno-0-1299></a>        <span class=k>if</span> <span class=n>value</span> <span class=o>&lt;</span> <span class=o>-</span><span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-1300><a id=__codelineno-0-1300 name=__codelineno-0-1300></a>            <span class=n>msg</span> <span class=o>=</span> <span class=s2>&quot;Percentage must not be smaller than -100%.&quot;</span>
</span><span id=__span-0-1301><a id=__codelineno-0-1301 name=__codelineno-0-1301></a>            <span class=k>if</span> <span class=ow>not</span> <span class=n>has_percent_sign</span><span class=p>:</span>
</span><span id=__span-0-1302><a id=__codelineno-0-1302 name=__codelineno-0-1302></a>                <span class=n>msg</span> <span class=o>+=</span> <span class=s2>&quot; Please put a percent sign after the number!&quot;</span>
</span><span id=__span-0-1303><a id=__codelineno-0-1303 name=__codelineno-0-1303></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span><span id=__span-0-1304><a id=__codelineno-0-1304 name=__codelineno-0-1304></a>    <span class=k>except</span> <span class=ne>TypeError</span><span class=p>:</span>
</span><span id=__span-0-1305><a id=__codelineno-0-1305 name=__codelineno-0-1305></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>  <span class=c1># pylint: disable=raise-missing-from</span>
</span><span id=__span-0-1306><a id=__codelineno-0-1306 name=__codelineno-0-1306></a>            <span class=s2>&quot;Expected percentage or float between -1.0 and 1.0&quot;</span>
</span><span id=__span-0-1307><a id=__codelineno-0-1307 name=__codelineno-0-1307></a>        <span class=p>)</span>
</span><span id=__span-0-1308><a id=__codelineno-0-1308 name=__codelineno-0-1308></a>    <span class=k>return</span> <span class=n>negative_one_to_one_float</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.prepend_path class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>prepend_path</span><span class=p>(</span><span class=n>path</span><span class=p>)</span></code> <a href=#config_validation.prepend_path class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>A contextmanager helper to prepend a path to all voluptuous errors.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1333>1333</a></span>
<span class=normal><a href=#__codelineno-0-1334>1334</a></span>
<span class=normal><a href=#__codelineno-0-1335>1335</a></span>
<span class=normal><a href=#__codelineno-0-1336>1336</a></span>
<span class=normal><a href=#__codelineno-0-1337>1337</a></span>
<span class=normal><a href=#__codelineno-0-1338>1338</a></span>
<span class=normal><a href=#__codelineno-0-1339>1339</a></span>
<span class=normal><a href=#__codelineno-0-1340>1340</a></span>
<span class=normal><a href=#__codelineno-0-1341>1341</a></span>
<span class=normal><a href=#__codelineno-0-1342>1342</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1333><a id=__codelineno-0-1333 name=__codelineno-0-1333></a><span class=nd>@contextmanager</span>
</span><span id=__span-0-1334><a id=__codelineno-0-1334 name=__codelineno-0-1334></a><span class=k>def</span> <span class=nf>prepend_path</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
</span><span id=__span-0-1335><a id=__codelineno-0-1335 name=__codelineno-0-1335></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;A contextmanager helper to prepend a path to all voluptuous errors.&quot;&quot;&quot;</span>
</span><span id=__span-0-1336><a id=__codelineno-0-1336 name=__codelineno-0-1336></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>path</span><span class=p>,</span> <span class=p>(</span><span class=nb>list</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>)):</span>
</span><span id=__span-0-1337><a id=__codelineno-0-1337 name=__codelineno-0-1337></a>        <span class=n>path</span> <span class=o>=</span> <span class=p>[</span><span class=n>path</span><span class=p>]</span>
</span><span id=__span-0-1338><a id=__codelineno-0-1338 name=__codelineno-0-1338></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1339><a id=__codelineno-0-1339 name=__codelineno-0-1339></a>        <span class=k>yield</span>
</span><span id=__span-0-1340><a id=__codelineno-0-1340 name=__codelineno-0-1340></a>    <span class=k>except</span> <span class=n>vol</span><span class=o>.</span><span class=n>Invalid</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-1341><a id=__codelineno-0-1341 name=__codelineno-0-1341></a>        <span class=n>e</span><span class=o>.</span><span class=n>prepend</span><span class=p>(</span><span class=n>path</span><span class=p>)</span>
</span><span id=__span-0-1342><a id=__codelineno-0-1342 name=__codelineno-0-1342></a>        <span class=k>raise</span> <span class=n>e</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.publish_topic class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>publish_topic</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.publish_topic class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that we can publish using this MQTT topic.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1227>1227</a></span>
<span class=normal><a href=#__codelineno-0-1228>1228</a></span>
<span class=normal><a href=#__codelineno-0-1229>1229</a></span>
<span class=normal><a href=#__codelineno-0-1230>1230</a></span>
<span class=normal><a href=#__codelineno-0-1231>1231</a></span>
<span class=normal><a href=#__codelineno-0-1232>1232</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1227><a id=__codelineno-0-1227 name=__codelineno-0-1227></a><span class=k>def</span> <span class=nf>publish_topic</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1228><a id=__codelineno-0-1228 name=__codelineno-0-1228></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that we can publish using this MQTT topic.&quot;&quot;&quot;</span>
</span><span id=__span-0-1229><a id=__codelineno-0-1229 name=__codelineno-0-1229></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>_valid_topic</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1230><a id=__codelineno-0-1230 name=__codelineno-0-1230></a>    <span class=k>if</span> <span class=s2>&quot;+&quot;</span> <span class=ow>in</span> <span class=n>value</span> <span class=ow>or</span> <span class=s2>&quot;#&quot;</span> <span class=ow>in</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-1231><a id=__codelineno-0-1231 name=__codelineno-0-1231></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Wildcards can not be used in topic names&quot;</span><span class=p>)</span>
</span><span id=__span-0-1232><a id=__codelineno-0-1232 name=__codelineno-0-1232></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.remove_prepend_path class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>remove_prepend_path</span><span class=p>(</span><span class=n>path</span><span class=p>)</span></code> <a href=#config_validation.remove_prepend_path class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>A contextmanager helper to remove a path from a voluptuous error.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1345>1345</a></span>
<span class=normal><a href=#__codelineno-0-1346>1346</a></span>
<span class=normal><a href=#__codelineno-0-1347>1347</a></span>
<span class=normal><a href=#__codelineno-0-1348>1348</a></span>
<span class=normal><a href=#__codelineno-0-1349>1349</a></span>
<span class=normal><a href=#__codelineno-0-1350>1350</a></span>
<span class=normal><a href=#__codelineno-0-1351>1351</a></span>
<span class=normal><a href=#__codelineno-0-1352>1352</a></span>
<span class=normal><a href=#__codelineno-0-1353>1353</a></span>
<span class=normal><a href=#__codelineno-0-1354>1354</a></span>
<span class=normal><a href=#__codelineno-0-1355>1355</a></span>
<span class=normal><a href=#__codelineno-0-1356>1356</a></span>
<span class=normal><a href=#__codelineno-0-1357>1357</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1345><a id=__codelineno-0-1345 name=__codelineno-0-1345></a><span class=nd>@contextmanager</span>
</span><span id=__span-0-1346><a id=__codelineno-0-1346 name=__codelineno-0-1346></a><span class=k>def</span> <span class=nf>remove_prepend_path</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
</span><span id=__span-0-1347><a id=__codelineno-0-1347 name=__codelineno-0-1347></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;A contextmanager helper to remove a path from a voluptuous error.&quot;&quot;&quot;</span>
</span><span id=__span-0-1348><a id=__codelineno-0-1348 name=__codelineno-0-1348></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>path</span><span class=p>,</span> <span class=p>(</span><span class=nb>list</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>)):</span>
</span><span id=__span-0-1349><a id=__codelineno-0-1349 name=__codelineno-0-1349></a>        <span class=n>path</span> <span class=o>=</span> <span class=p>[</span><span class=n>path</span><span class=p>]</span>
</span><span id=__span-0-1350><a id=__codelineno-0-1350 name=__codelineno-0-1350></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1351><a id=__codelineno-0-1351 name=__codelineno-0-1351></a>        <span class=k>yield</span>
</span><span id=__span-0-1352><a id=__codelineno-0-1352 name=__codelineno-0-1352></a>    <span class=k>except</span> <span class=n>vol</span><span class=o>.</span><span class=n>Invalid</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-1353><a id=__codelineno-0-1353 name=__codelineno-0-1353></a>        <span class=k>if</span> <span class=n>list_starts_with</span><span class=p>(</span><span class=n>e</span><span class=o>.</span><span class=n>path</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
</span><span id=__span-0-1354><a id=__codelineno-0-1354 name=__codelineno-0-1354></a>            <span class=c1># Can&#39;t set e.path (namedtuple</span>
</span><span id=__span-0-1355><a id=__codelineno-0-1355 name=__codelineno-0-1355></a>            <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>path</span><span class=p>)):</span>
</span><span id=__span-0-1356><a id=__codelineno-0-1356 name=__codelineno-0-1356></a>                <span class=n>e</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-0-1357><a id=__codelineno-0-1357 name=__codelineno-0-1357></a>        <span class=k>raise</span> <span class=n>e</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.rename_key class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>rename_key</span><span class=p>(</span><span class=n>old_key</span><span class=p>,</span> <span class=n>new_key</span><span class=p>)</span></code> <a href=#config_validation.rename_key class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2216>2216</a></span>
<span class=normal><a href=#__codelineno-0-2217>2217</a></span>
<span class=normal><a href=#__codelineno-0-2218>2218</a></span>
<span class=normal><a href=#__codelineno-0-2219>2219</a></span>
<span class=normal><a href=#__codelineno-0-2220>2220</a></span>
<span class=normal><a href=#__codelineno-0-2221>2221</a></span>
<span class=normal><a href=#__codelineno-0-2222>2222</a></span>
<span class=normal><a href=#__codelineno-0-2223>2223</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-2216><a id=__codelineno-0-2216 name=__codelineno-0-2216></a><span class=k>def</span> <span class=nf>rename_key</span><span class=p>(</span><span class=n>old_key</span><span class=p>,</span> <span class=n>new_key</span><span class=p>):</span>
</span><span id=__span-0-2217><a id=__codelineno-0-2217 name=__codelineno-0-2217></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>config</span><span class=p>:</span> <span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span><span id=__span-0-2218><a id=__codelineno-0-2218 name=__codelineno-0-2218></a>        <span class=n>config</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span><span id=__span-0-2219><a id=__codelineno-0-2219 name=__codelineno-0-2219></a>        <span class=k>if</span> <span class=n>old_key</span> <span class=ow>in</span> <span class=n>config</span><span class=p>:</span>
</span><span id=__span-0-2220><a id=__codelineno-0-2220 name=__codelineno-0-2220></a>            <span class=n>config</span><span class=p>[</span><span class=n>new_key</span><span class=p>]</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>old_key</span><span class=p>)</span>
</span><span id=__span-0-2221><a id=__codelineno-0-2221 name=__codelineno-0-2221></a>        <span class=k>return</span> <span class=n>config</span>
</span><span id=__span-0-2222><a id=__codelineno-0-2222 name=__codelineno-0-2222></a>
</span><span id=__span-0-2223><a id=__codelineno-0-2223 name=__codelineno-0-2223></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.require_esphome_version class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>require_esphome_version</span><span class=p>(</span><span class=n>year</span><span class=p>,</span> <span class=n>month</span><span class=p>,</span> <span class=n>patch</span><span class=p>)</span></code> <a href=#config_validation.require_esphome_version class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2134>2134</a></span>
<span class=normal><a href=#__codelineno-0-2135>2135</a></span>
<span class=normal><a href=#__codelineno-0-2136>2136</a></span>
<span class=normal><a href=#__codelineno-0-2137>2137</a></span>
<span class=normal><a href=#__codelineno-0-2138>2138</a></span>
<span class=normal><a href=#__codelineno-0-2139>2139</a></span>
<span class=normal><a href=#__codelineno-0-2140>2140</a></span>
<span class=normal><a href=#__codelineno-0-2141>2141</a></span>
<span class=normal><a href=#__codelineno-0-2142>2142</a></span>
<span class=normal><a href=#__codelineno-0-2143>2143</a></span>
<span class=normal><a href=#__codelineno-0-2144>2144</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-2134><a id=__codelineno-0-2134 name=__codelineno-0-2134></a><span class=k>def</span> <span class=nf>require_esphome_version</span><span class=p>(</span><span class=n>year</span><span class=p>,</span> <span class=n>month</span><span class=p>,</span> <span class=n>patch</span><span class=p>):</span>
</span><span id=__span-0-2135><a id=__codelineno-0-2135 name=__codelineno-0-2135></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-2136><a id=__codelineno-0-2136 name=__codelineno-0-2136></a>        <span class=n>esphome_version</span> <span class=o>=</span> <span class=n>parse_esphome_version</span><span class=p>()</span>
</span><span id=__span-0-2137><a id=__codelineno-0-2137 name=__codelineno-0-2137></a>        <span class=k>if</span> <span class=n>esphome_version</span> <span class=o>&lt;</span> <span class=p>(</span><span class=n>year</span><span class=p>,</span> <span class=n>month</span><span class=p>,</span> <span class=n>patch</span><span class=p>):</span>
</span><span id=__span-0-2138><a id=__codelineno-0-2138 name=__codelineno-0-2138></a>            <span class=n>requires_version</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>year</span><span class=si>}</span><span class=s2>.</span><span class=si>{</span><span class=n>month</span><span class=si>}</span><span class=s2>.</span><span class=si>{</span><span class=n>patch</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-2139><a id=__codelineno-0-2139 name=__codelineno-0-2139></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-2140><a id=__codelineno-0-2140 name=__codelineno-0-2140></a>                <span class=sa>f</span><span class=s2>&quot;This component requires at least ESPHome version </span><span class=si>{</span><span class=n>requires_version</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-2141><a id=__codelineno-0-2141 name=__codelineno-0-2141></a>            <span class=p>)</span>
</span><span id=__span-0-2142><a id=__codelineno-0-2142 name=__codelineno-0-2142></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-2143><a id=__codelineno-0-2143 name=__codelineno-0-2143></a>
</span><span id=__span-0-2144><a id=__codelineno-0-2144 name=__codelineno-0-2144></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.require_framework_version class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>require_framework_version</span><span class=p>(</span><span class=o>*</span><span class=p>,</span> <span class=n>esp_idf</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>esp32_arduino</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>esp8266_arduino</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>rp2040_arduino</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>bk72xx_libretiny</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>host</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>max_version</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>extra_message</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> <a href=#config_validation.require_framework_version class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2049>2049</a></span>
<span class=normal><a href=#__codelineno-0-2050>2050</a></span>
<span class=normal><a href=#__codelineno-0-2051>2051</a></span>
<span class=normal><a href=#__codelineno-0-2052>2052</a></span>
<span class=normal><a href=#__codelineno-0-2053>2053</a></span>
<span class=normal><a href=#__codelineno-0-2054>2054</a></span>
<span class=normal><a href=#__codelineno-0-2055>2055</a></span>
<span class=normal><a href=#__codelineno-0-2056>2056</a></span>
<span class=normal><a href=#__codelineno-0-2057>2057</a></span>
<span class=normal><a href=#__codelineno-0-2058>2058</a></span>
<span class=normal><a href=#__codelineno-0-2059>2059</a></span>
<span class=normal><a href=#__codelineno-0-2060>2060</a></span>
<span class=normal><a href=#__codelineno-0-2061>2061</a></span>
<span class=normal><a href=#__codelineno-0-2062>2062</a></span>
<span class=normal><a href=#__codelineno-0-2063>2063</a></span>
<span class=normal><a href=#__codelineno-0-2064>2064</a></span>
<span class=normal><a href=#__codelineno-0-2065>2065</a></span>
<span class=normal><a href=#__codelineno-0-2066>2066</a></span>
<span class=normal><a href=#__codelineno-0-2067>2067</a></span>
<span class=normal><a href=#__codelineno-0-2068>2068</a></span>
<span class=normal><a href=#__codelineno-0-2069>2069</a></span>
<span class=normal><a href=#__codelineno-0-2070>2070</a></span>
<span class=normal><a href=#__codelineno-0-2071>2071</a></span>
<span class=normal><a href=#__codelineno-0-2072>2072</a></span>
<span class=normal><a href=#__codelineno-0-2073>2073</a></span>
<span class=normal><a href=#__codelineno-0-2074>2074</a></span>
<span class=normal><a href=#__codelineno-0-2075>2075</a></span>
<span class=normal><a href=#__codelineno-0-2076>2076</a></span>
<span class=normal><a href=#__codelineno-0-2077>2077</a></span>
<span class=normal><a href=#__codelineno-0-2078>2078</a></span>
<span class=normal><a href=#__codelineno-0-2079>2079</a></span>
<span class=normal><a href=#__codelineno-0-2080>2080</a></span>
<span class=normal><a href=#__codelineno-0-2081>2081</a></span>
<span class=normal><a href=#__codelineno-0-2082>2082</a></span>
<span class=normal><a href=#__codelineno-0-2083>2083</a></span>
<span class=normal><a href=#__codelineno-0-2084>2084</a></span>
<span class=normal><a href=#__codelineno-0-2085>2085</a></span>
<span class=normal><a href=#__codelineno-0-2086>2086</a></span>
<span class=normal><a href=#__codelineno-0-2087>2087</a></span>
<span class=normal><a href=#__codelineno-0-2088>2088</a></span>
<span class=normal><a href=#__codelineno-0-2089>2089</a></span>
<span class=normal><a href=#__codelineno-0-2090>2090</a></span>
<span class=normal><a href=#__codelineno-0-2091>2091</a></span>
<span class=normal><a href=#__codelineno-0-2092>2092</a></span>
<span class=normal><a href=#__codelineno-0-2093>2093</a></span>
<span class=normal><a href=#__codelineno-0-2094>2094</a></span>
<span class=normal><a href=#__codelineno-0-2095>2095</a></span>
<span class=normal><a href=#__codelineno-0-2096>2096</a></span>
<span class=normal><a href=#__codelineno-0-2097>2097</a></span>
<span class=normal><a href=#__codelineno-0-2098>2098</a></span>
<span class=normal><a href=#__codelineno-0-2099>2099</a></span>
<span class=normal><a href=#__codelineno-0-2100>2100</a></span>
<span class=normal><a href=#__codelineno-0-2101>2101</a></span>
<span class=normal><a href=#__codelineno-0-2102>2102</a></span>
<span class=normal><a href=#__codelineno-0-2103>2103</a></span>
<span class=normal><a href=#__codelineno-0-2104>2104</a></span>
<span class=normal><a href=#__codelineno-0-2105>2105</a></span>
<span class=normal><a href=#__codelineno-0-2106>2106</a></span>
<span class=normal><a href=#__codelineno-0-2107>2107</a></span>
<span class=normal><a href=#__codelineno-0-2108>2108</a></span>
<span class=normal><a href=#__codelineno-0-2109>2109</a></span>
<span class=normal><a href=#__codelineno-0-2110>2110</a></span>
<span class=normal><a href=#__codelineno-0-2111>2111</a></span>
<span class=normal><a href=#__codelineno-0-2112>2112</a></span>
<span class=normal><a href=#__codelineno-0-2113>2113</a></span>
<span class=normal><a href=#__codelineno-0-2114>2114</a></span>
<span class=normal><a href=#__codelineno-0-2115>2115</a></span>
<span class=normal><a href=#__codelineno-0-2116>2116</a></span>
<span class=normal><a href=#__codelineno-0-2117>2117</a></span>
<span class=normal><a href=#__codelineno-0-2118>2118</a></span>
<span class=normal><a href=#__codelineno-0-2119>2119</a></span>
<span class=normal><a href=#__codelineno-0-2120>2120</a></span>
<span class=normal><a href=#__codelineno-0-2121>2121</a></span>
<span class=normal><a href=#__codelineno-0-2122>2122</a></span>
<span class=normal><a href=#__codelineno-0-2123>2123</a></span>
<span class=normal><a href=#__codelineno-0-2124>2124</a></span>
<span class=normal><a href=#__codelineno-0-2125>2125</a></span>
<span class=normal><a href=#__codelineno-0-2126>2126</a></span>
<span class=normal><a href=#__codelineno-0-2127>2127</a></span>
<span class=normal><a href=#__codelineno-0-2128>2128</a></span>
<span class=normal><a href=#__codelineno-0-2129>2129</a></span>
<span class=normal><a href=#__codelineno-0-2130>2130</a></span>
<span class=normal><a href=#__codelineno-0-2131>2131</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-2049><a id=__codelineno-0-2049 name=__codelineno-0-2049></a><span class=k>def</span> <span class=nf>require_framework_version</span><span class=p>(</span>
</span><span id=__span-0-2050><a id=__codelineno-0-2050 name=__codelineno-0-2050></a>    <span class=o>*</span><span class=p>,</span>
</span><span id=__span-0-2051><a id=__codelineno-0-2051 name=__codelineno-0-2051></a>    <span class=n>esp_idf</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-2052><a id=__codelineno-0-2052 name=__codelineno-0-2052></a>    <span class=n>esp32_arduino</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-2053><a id=__codelineno-0-2053 name=__codelineno-0-2053></a>    <span class=n>esp8266_arduino</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-2054><a id=__codelineno-0-2054 name=__codelineno-0-2054></a>    <span class=n>rp2040_arduino</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-2055><a id=__codelineno-0-2055 name=__codelineno-0-2055></a>    <span class=n>bk72xx_libretiny</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-2056><a id=__codelineno-0-2056 name=__codelineno-0-2056></a>    <span class=n>host</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-2057><a id=__codelineno-0-2057 name=__codelineno-0-2057></a>    <span class=n>max_version</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-2058><a id=__codelineno-0-2058 name=__codelineno-0-2058></a>    <span class=n>extra_message</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-2059><a id=__codelineno-0-2059 name=__codelineno-0-2059></a><span class=p>):</span>
</span><span id=__span-0-2060><a id=__codelineno-0-2060 name=__codelineno-0-2060></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-2061><a id=__codelineno-0-2061 name=__codelineno-0-2061></a>        <span class=n>core_data</span> <span class=o>=</span> <span class=n>CORE</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>KEY_CORE</span><span class=p>]</span>
</span><span id=__span-0-2062><a id=__codelineno-0-2062 name=__codelineno-0-2062></a>        <span class=n>framework</span> <span class=o>=</span> <span class=n>core_data</span><span class=p>[</span><span class=n>KEY_TARGET_FRAMEWORK</span><span class=p>]</span>
</span><span id=__span-0-2063><a id=__codelineno-0-2063 name=__codelineno-0-2063></a>        <span class=k>if</span> <span class=n>framework</span> <span class=o>==</span> <span class=s2>&quot;esp-idf&quot;</span><span class=p>:</span>
</span><span id=__span-0-2064><a id=__codelineno-0-2064 name=__codelineno-0-2064></a>            <span class=k>if</span> <span class=n>esp_idf</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2065><a id=__codelineno-0-2065 name=__codelineno-0-2065></a>                <span class=n>msg</span> <span class=o>=</span> <span class=s2>&quot;This feature is incompatible with esp-idf&quot;</span>
</span><span id=__span-0-2066><a id=__codelineno-0-2066 name=__codelineno-0-2066></a>                <span class=k>if</span> <span class=n>extra_message</span><span class=p>:</span>
</span><span id=__span-0-2067><a id=__codelineno-0-2067 name=__codelineno-0-2067></a>                    <span class=n>msg</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot;. </span><span class=si>{</span><span class=n>extra_message</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-2068><a id=__codelineno-0-2068 name=__codelineno-0-2068></a>                <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span><span id=__span-0-2069><a id=__codelineno-0-2069 name=__codelineno-0-2069></a>            <span class=n>required</span> <span class=o>=</span> <span class=n>esp_idf</span>
</span><span id=__span-0-2070><a id=__codelineno-0-2070 name=__codelineno-0-2070></a>        <span class=k>elif</span> <span class=n>CORE</span><span class=o>.</span><span class=n>is_bk72xx</span> <span class=ow>and</span> <span class=n>framework</span> <span class=o>==</span> <span class=s2>&quot;arduino&quot;</span><span class=p>:</span>
</span><span id=__span-0-2071><a id=__codelineno-0-2071 name=__codelineno-0-2071></a>            <span class=k>if</span> <span class=n>bk72xx_libretiny</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2072><a id=__codelineno-0-2072 name=__codelineno-0-2072></a>                <span class=n>msg</span> <span class=o>=</span> <span class=s2>&quot;This feature is incompatible with BK72XX&quot;</span>
</span><span id=__span-0-2073><a id=__codelineno-0-2073 name=__codelineno-0-2073></a>                <span class=k>if</span> <span class=n>extra_message</span><span class=p>:</span>
</span><span id=__span-0-2074><a id=__codelineno-0-2074 name=__codelineno-0-2074></a>                    <span class=n>msg</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot;. </span><span class=si>{</span><span class=n>extra_message</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-2075><a id=__codelineno-0-2075 name=__codelineno-0-2075></a>                <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span><span id=__span-0-2076><a id=__codelineno-0-2076 name=__codelineno-0-2076></a>            <span class=n>required</span> <span class=o>=</span> <span class=n>bk72xx_libretiny</span>
</span><span id=__span-0-2077><a id=__codelineno-0-2077 name=__codelineno-0-2077></a>        <span class=k>elif</span> <span class=n>CORE</span><span class=o>.</span><span class=n>is_esp32</span> <span class=ow>and</span> <span class=n>framework</span> <span class=o>==</span> <span class=s2>&quot;arduino&quot;</span><span class=p>:</span>
</span><span id=__span-0-2078><a id=__codelineno-0-2078 name=__codelineno-0-2078></a>            <span class=k>if</span> <span class=n>esp32_arduino</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2079><a id=__codelineno-0-2079 name=__codelineno-0-2079></a>                <span class=n>msg</span> <span class=o>=</span> <span class=s2>&quot;This feature is incompatible with ESP32 using arduino framework&quot;</span>
</span><span id=__span-0-2080><a id=__codelineno-0-2080 name=__codelineno-0-2080></a>                <span class=k>if</span> <span class=n>extra_message</span><span class=p>:</span>
</span><span id=__span-0-2081><a id=__codelineno-0-2081 name=__codelineno-0-2081></a>                    <span class=n>msg</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot;. </span><span class=si>{</span><span class=n>extra_message</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-2082><a id=__codelineno-0-2082 name=__codelineno-0-2082></a>                <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span><span id=__span-0-2083><a id=__codelineno-0-2083 name=__codelineno-0-2083></a>            <span class=n>required</span> <span class=o>=</span> <span class=n>esp32_arduino</span>
</span><span id=__span-0-2084><a id=__codelineno-0-2084 name=__codelineno-0-2084></a>        <span class=k>elif</span> <span class=n>CORE</span><span class=o>.</span><span class=n>is_esp8266</span> <span class=ow>and</span> <span class=n>framework</span> <span class=o>==</span> <span class=s2>&quot;arduino&quot;</span><span class=p>:</span>
</span><span id=__span-0-2085><a id=__codelineno-0-2085 name=__codelineno-0-2085></a>            <span class=k>if</span> <span class=n>esp8266_arduino</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2086><a id=__codelineno-0-2086 name=__codelineno-0-2086></a>                <span class=n>msg</span> <span class=o>=</span> <span class=s2>&quot;This feature is incompatible with ESP8266&quot;</span>
</span><span id=__span-0-2087><a id=__codelineno-0-2087 name=__codelineno-0-2087></a>                <span class=k>if</span> <span class=n>extra_message</span><span class=p>:</span>
</span><span id=__span-0-2088><a id=__codelineno-0-2088 name=__codelineno-0-2088></a>                    <span class=n>msg</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot;. </span><span class=si>{</span><span class=n>extra_message</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-2089><a id=__codelineno-0-2089 name=__codelineno-0-2089></a>                <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span><span id=__span-0-2090><a id=__codelineno-0-2090 name=__codelineno-0-2090></a>            <span class=n>required</span> <span class=o>=</span> <span class=n>esp8266_arduino</span>
</span><span id=__span-0-2091><a id=__codelineno-0-2091 name=__codelineno-0-2091></a>        <span class=k>elif</span> <span class=n>CORE</span><span class=o>.</span><span class=n>is_rp2040</span> <span class=ow>and</span> <span class=n>framework</span> <span class=o>==</span> <span class=s2>&quot;arduino&quot;</span><span class=p>:</span>
</span><span id=__span-0-2092><a id=__codelineno-0-2092 name=__codelineno-0-2092></a>            <span class=k>if</span> <span class=n>rp2040_arduino</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2093><a id=__codelineno-0-2093 name=__codelineno-0-2093></a>                <span class=n>msg</span> <span class=o>=</span> <span class=s2>&quot;This feature is incompatible with RP2040&quot;</span>
</span><span id=__span-0-2094><a id=__codelineno-0-2094 name=__codelineno-0-2094></a>                <span class=k>if</span> <span class=n>extra_message</span><span class=p>:</span>
</span><span id=__span-0-2095><a id=__codelineno-0-2095 name=__codelineno-0-2095></a>                    <span class=n>msg</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot;. </span><span class=si>{</span><span class=n>extra_message</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-2096><a id=__codelineno-0-2096 name=__codelineno-0-2096></a>                <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span><span id=__span-0-2097><a id=__codelineno-0-2097 name=__codelineno-0-2097></a>            <span class=n>required</span> <span class=o>=</span> <span class=n>rp2040_arduino</span>
</span><span id=__span-0-2098><a id=__codelineno-0-2098 name=__codelineno-0-2098></a>        <span class=k>elif</span> <span class=n>CORE</span><span class=o>.</span><span class=n>is_host</span> <span class=ow>and</span> <span class=n>framework</span> <span class=o>==</span> <span class=s2>&quot;host&quot;</span><span class=p>:</span>
</span><span id=__span-0-2099><a id=__codelineno-0-2099 name=__codelineno-0-2099></a>            <span class=k>if</span> <span class=n>host</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2100><a id=__codelineno-0-2100 name=__codelineno-0-2100></a>                <span class=n>msg</span> <span class=o>=</span> <span class=s2>&quot;This feature is incompatible with host platform&quot;</span>
</span><span id=__span-0-2101><a id=__codelineno-0-2101 name=__codelineno-0-2101></a>                <span class=k>if</span> <span class=n>extra_message</span><span class=p>:</span>
</span><span id=__span-0-2102><a id=__codelineno-0-2102 name=__codelineno-0-2102></a>                    <span class=n>msg</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot;. </span><span class=si>{</span><span class=n>extra_message</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-2103><a id=__codelineno-0-2103 name=__codelineno-0-2103></a>                <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span><span id=__span-0-2104><a id=__codelineno-0-2104 name=__codelineno-0-2104></a>            <span class=n>required</span> <span class=o>=</span> <span class=n>host</span>
</span><span id=__span-0-2105><a id=__codelineno-0-2105 name=__codelineno-0-2105></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-2106><a id=__codelineno-0-2106 name=__codelineno-0-2106></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-2107><a id=__codelineno-0-2107 name=__codelineno-0-2107></a>                <span class=sa>f</span><span class=s2>&quot;&quot;&quot;</span>
</span><span id=__span-0-2108><a id=__codelineno-0-2108 name=__codelineno-0-2108></a><span class=s2>            Internal Error: require_framework_version does not support this platform configuration</span>
</span><span id=__span-0-2109><a id=__codelineno-0-2109 name=__codelineno-0-2109></a><span class=s2>                platform: </span><span class=si>{</span><span class=n>core_data</span><span class=p>[</span><span class=n>KEY_TARGET_PLATFORM</span><span class=p>]</span><span class=si>}</span>
</span><span id=__span-0-2110><a id=__codelineno-0-2110 name=__codelineno-0-2110></a><span class=s2>                framework: </span><span class=si>{</span><span class=n>framework</span><span class=si>}</span>
</span><span id=__span-0-2111><a id=__codelineno-0-2111 name=__codelineno-0-2111></a>
</span><span id=__span-0-2112><a id=__codelineno-0-2112 name=__codelineno-0-2112></a><span class=s2>            Please report this issue on GitHub -&gt; https://github.com/esphome/issues/issues/new?template=bug_report.yml.</span>
</span><span id=__span-0-2113><a id=__codelineno-0-2113 name=__codelineno-0-2113></a><span class=s2>            &quot;&quot;&quot;</span>
</span><span id=__span-0-2114><a id=__codelineno-0-2114 name=__codelineno-0-2114></a>            <span class=p>)</span>
</span><span id=__span-0-2115><a id=__codelineno-0-2115 name=__codelineno-0-2115></a>
</span><span id=__span-0-2116><a id=__codelineno-0-2116 name=__codelineno-0-2116></a>        <span class=k>if</span> <span class=n>max_version</span><span class=p>:</span>
</span><span id=__span-0-2117><a id=__codelineno-0-2117 name=__codelineno-0-2117></a>            <span class=k>if</span> <span class=n>core_data</span><span class=p>[</span><span class=n>KEY_FRAMEWORK_VERSION</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>required</span><span class=p>:</span>
</span><span id=__span-0-2118><a id=__codelineno-0-2118 name=__codelineno-0-2118></a>                <span class=n>msg</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;This feature requires framework version </span><span class=si>{</span><span class=n>required</span><span class=si>}</span><span class=s2> or lower&quot;</span>
</span><span id=__span-0-2119><a id=__codelineno-0-2119 name=__codelineno-0-2119></a>                <span class=k>if</span> <span class=n>extra_message</span><span class=p>:</span>
</span><span id=__span-0-2120><a id=__codelineno-0-2120 name=__codelineno-0-2120></a>                    <span class=n>msg</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot;. </span><span class=si>{</span><span class=n>extra_message</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-2121><a id=__codelineno-0-2121 name=__codelineno-0-2121></a>                <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span><span id=__span-0-2122><a id=__codelineno-0-2122 name=__codelineno-0-2122></a>            <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-2123><a id=__codelineno-0-2123 name=__codelineno-0-2123></a>
</span><span id=__span-0-2124><a id=__codelineno-0-2124 name=__codelineno-0-2124></a>        <span class=k>if</span> <span class=n>core_data</span><span class=p>[</span><span class=n>KEY_FRAMEWORK_VERSION</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>required</span><span class=p>:</span>
</span><span id=__span-0-2125><a id=__codelineno-0-2125 name=__codelineno-0-2125></a>            <span class=n>msg</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;This feature requires at least framework version </span><span class=si>{</span><span class=n>required</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-2126><a id=__codelineno-0-2126 name=__codelineno-0-2126></a>            <span class=k>if</span> <span class=n>extra_message</span><span class=p>:</span>
</span><span id=__span-0-2127><a id=__codelineno-0-2127 name=__codelineno-0-2127></a>                <span class=n>msg</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&quot;. </span><span class=si>{</span><span class=n>extra_message</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-2128><a id=__codelineno-0-2128 name=__codelineno-0-2128></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>msg</span><span class=p>)</span>
</span><span id=__span-0-2129><a id=__codelineno-0-2129 name=__codelineno-0-2129></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-2130><a id=__codelineno-0-2130 name=__codelineno-0-2130></a>
</span><span id=__span-0-2131><a id=__codelineno-0-2131 name=__codelineno-0-2131></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.requires_component class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>requires_component</span><span class=p>(</span><span class=n>comp</span><span class=p>)</span></code> <a href=#config_validation.requires_component class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that this option can only be specified when the component <code>comp</code> is loaded.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1250>1250</a></span>
<span class=normal><a href=#__codelineno-0-1251>1251</a></span>
<span class=normal><a href=#__codelineno-0-1252>1252</a></span>
<span class=normal><a href=#__codelineno-0-1253>1253</a></span>
<span class=normal><a href=#__codelineno-0-1254>1254</a></span>
<span class=normal><a href=#__codelineno-0-1255>1255</a></span>
<span class=normal><a href=#__codelineno-0-1256>1256</a></span>
<span class=normal><a href=#__codelineno-0-1257>1257</a></span>
<span class=normal><a href=#__codelineno-0-1258>1258</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1250><a id=__codelineno-0-1250 name=__codelineno-0-1250></a><span class=k>def</span> <span class=nf>requires_component</span><span class=p>(</span><span class=n>comp</span><span class=p>):</span>
</span><span id=__span-0-1251><a id=__codelineno-0-1251 name=__codelineno-0-1251></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that this option can only be specified when the component `comp` is loaded.&quot;&quot;&quot;</span>
</span><span id=__span-0-1252><a id=__codelineno-0-1252 name=__codelineno-0-1252></a>
</span><span id=__span-0-1253><a id=__codelineno-0-1253 name=__codelineno-0-1253></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1254><a id=__codelineno-0-1254 name=__codelineno-0-1254></a>        <span class=k>if</span> <span class=n>comp</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>CORE</span><span class=o>.</span><span class=n>loaded_integrations</span><span class=p>:</span>
</span><span id=__span-0-1255><a id=__codelineno-0-1255 name=__codelineno-0-1255></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;This option requires component </span><span class=si>{</span><span class=n>comp</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-1256><a id=__codelineno-0-1256 name=__codelineno-0-1256></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-1257><a id=__codelineno-0-1257 name=__codelineno-0-1257></a>
</span><span id=__span-0-1258><a id=__codelineno-0-1258 name=__codelineno-0-1258></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.requires_friendly_name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>requires_friendly_name</span><span class=p>(</span><span class=n>message</span><span class=p>)</span></code> <a href=#config_validation.requires_friendly_name class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1845>1845</a></span>
<span class=normal><a href=#__codelineno-0-1846>1846</a></span>
<span class=normal><a href=#__codelineno-0-1847>1847</a></span>
<span class=normal><a href=#__codelineno-0-1848>1848</a></span>
<span class=normal><a href=#__codelineno-0-1849>1849</a></span>
<span class=normal><a href=#__codelineno-0-1850>1850</a></span>
<span class=normal><a href=#__codelineno-0-1851>1851</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1845><a id=__codelineno-0-1845 name=__codelineno-0-1845></a><span class=k>def</span> <span class=nf>requires_friendly_name</span><span class=p>(</span><span class=n>message</span><span class=p>):</span>
</span><span id=__span-0-1846><a id=__codelineno-0-1846 name=__codelineno-0-1846></a>    <span class=k>def</span> <span class=nf>validate</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1847><a id=__codelineno-0-1847 name=__codelineno-0-1847></a>        <span class=k>if</span> <span class=n>CORE</span><span class=o>.</span><span class=n>friendly_name</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1848><a id=__codelineno-0-1848 name=__codelineno-0-1848></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>message</span><span class=p>)</span>
</span><span id=__span-0-1849><a id=__codelineno-0-1849 name=__codelineno-0-1849></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-1850><a id=__codelineno-0-1850 name=__codelineno-0-1850></a>
</span><span id=__span-0-1851><a id=__codelineno-0-1851 name=__codelineno-0-1851></a>    <span class=k>return</span> <span class=n>validate</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.returning_lambda class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>returning_lambda</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.returning_lambda class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Coerce this configuration option to a lambda.</p> <p>Additionally, make sure the lambda returns something.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1457>1457</a></span>
<span class=normal><a href=#__codelineno-0-1458>1458</a></span>
<span class=normal><a href=#__codelineno-0-1459>1459</a></span>
<span class=normal><a href=#__codelineno-0-1460>1460</a></span>
<span class=normal><a href=#__codelineno-0-1461>1461</a></span>
<span class=normal><a href=#__codelineno-0-1462>1462</a></span>
<span class=normal><a href=#__codelineno-0-1463>1463</a></span>
<span class=normal><a href=#__codelineno-0-1464>1464</a></span>
<span class=normal><a href=#__codelineno-0-1465>1465</a></span>
<span class=normal><a href=#__codelineno-0-1466>1466</a></span>
<span class=normal><a href=#__codelineno-0-1467>1467</a></span>
<span class=normal><a href=#__codelineno-0-1468>1468</a></span>
<span class=normal><a href=#__codelineno-0-1469>1469</a></span>
<span class=normal><a href=#__codelineno-0-1470>1470</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1457><a id=__codelineno-0-1457 name=__codelineno-0-1457></a><span class=k>def</span> <span class=nf>returning_lambda</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1458><a id=__codelineno-0-1458 name=__codelineno-0-1458></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Coerce this configuration option to a lambda.</span>
</span><span id=__span-0-1459><a id=__codelineno-0-1459 name=__codelineno-0-1459></a>
</span><span id=__span-0-1460><a id=__codelineno-0-1460 name=__codelineno-0-1460></a><span class=sd>    Additionally, make sure the lambda returns something.</span>
</span><span id=__span-0-1461><a id=__codelineno-0-1461 name=__codelineno-0-1461></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-1462><a id=__codelineno-0-1462 name=__codelineno-0-1462></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>lambda_</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1463><a id=__codelineno-0-1463 name=__codelineno-0-1463></a>    <span class=k>if</span> <span class=s2>&quot;return&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>value</span><span class=o>.</span><span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-1464><a id=__codelineno-0-1464 name=__codelineno-0-1464></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1465><a id=__codelineno-0-1465 name=__codelineno-0-1465></a>            <span class=s2>&quot;Lambda doesn&#39;t contain a &#39;return&#39; statement, but the lambda &quot;</span>
</span><span id=__span-0-1466><a id=__codelineno-0-1466 name=__codelineno-0-1466></a>            <span class=s2>&quot;is expected to return a value. </span><span class=se>\n</span><span class=s2>&quot;</span>
</span><span id=__span-0-1467><a id=__codelineno-0-1467 name=__codelineno-0-1467></a>            <span class=s2>&quot;Please make sure the lambda contains at least one &quot;</span>
</span><span id=__span-0-1468><a id=__codelineno-0-1468 name=__codelineno-0-1468></a>            <span class=s2>&quot;return statement.&quot;</span>
</span><span id=__span-0-1469><a id=__codelineno-0-1469 name=__codelineno-0-1469></a>        <span class=p>)</span>
</span><span id=__span-0-1470><a id=__codelineno-0-1470 name=__codelineno-0-1470></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.source_refresh class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>source_refresh</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span></code> <a href=#config_validation.source_refresh class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1984>1984</a></span>
<span class=normal><a href=#__codelineno-0-1985>1985</a></span>
<span class=normal><a href=#__codelineno-0-1986>1986</a></span>
<span class=normal><a href=#__codelineno-0-1987>1987</a></span>
<span class=normal><a href=#__codelineno-0-1988>1988</a></span>
<span class=normal><a href=#__codelineno-0-1989>1989</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1984><a id=__codelineno-0-1984 name=__codelineno-0-1984></a><span class=k>def</span> <span class=nf>source_refresh</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-1985><a id=__codelineno-0-1985 name=__codelineno-0-1985></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;always&quot;</span><span class=p>:</span>
</span><span id=__span-0-1986><a id=__codelineno-0-1986 name=__codelineno-0-1986></a>        <span class=k>return</span> <span class=n>source_refresh</span><span class=p>(</span><span class=s2>&quot;0s&quot;</span><span class=p>)</span>
</span><span id=__span-0-1987><a id=__codelineno-0-1987 name=__codelineno-0-1987></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;never&quot;</span><span class=p>:</span>
</span><span id=__span-0-1988><a id=__codelineno-0-1988 name=__codelineno-0-1988></a>        <span class=k>return</span> <span class=n>source_refresh</span><span class=p>(</span><span class=s2>&quot;365250d&quot;</span><span class=p>)</span>
</span><span id=__span-0-1989><a id=__codelineno-0-1989 name=__codelineno-0-1989></a>    <span class=k>return</span> <span class=n>positive_time_period_seconds</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.ssid class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>ssid</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.ssid class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1154>1154</a></span>
<span class=normal><a href=#__codelineno-0-1155>1155</a></span>
<span class=normal><a href=#__codelineno-0-1156>1156</a></span>
<span class=normal><a href=#__codelineno-0-1157>1157</a></span>
<span class=normal><a href=#__codelineno-0-1158>1158</a></span>
<span class=normal><a href=#__codelineno-0-1159>1159</a></span>
<span class=normal><a href=#__codelineno-0-1160>1160</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1154><a id=__codelineno-0-1154 name=__codelineno-0-1154></a><span class=k>def</span> <span class=nf>ssid</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1155><a id=__codelineno-0-1155 name=__codelineno-0-1155></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1156><a id=__codelineno-0-1156 name=__codelineno-0-1156></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-1157><a id=__codelineno-0-1157 name=__codelineno-0-1157></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;SSID can&#39;t be empty.&quot;</span><span class=p>)</span>
</span><span id=__span-0-1158><a id=__codelineno-0-1158 name=__codelineno-0-1158></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>32</span><span class=p>:</span>
</span><span id=__span-0-1159><a id=__codelineno-0-1159 name=__codelineno-0-1159></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;SSID can&#39;t be longer than 32 characters&quot;</span><span class=p>)</span>
</span><span id=__span-0-1160><a id=__codelineno-0-1160 name=__codelineno-0-1160></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.string class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>string</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.string class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that a configuration value is a string. If not, automatically converts to a string.</p> <p>Note that this can be lossy, for example the input value 60.00 (float) will be turned into "60.0" (string). For values where this could be a problem <code>string_strict</code> has to be used.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-308>308</a></span>
<span class=normal><a href=#__codelineno-0-309>309</a></span>
<span class=normal><a href=#__codelineno-0-310>310</a></span>
<span class=normal><a href=#__codelineno-0-311>311</a></span>
<span class=normal><a href=#__codelineno-0-312>312</a></span>
<span class=normal><a href=#__codelineno-0-313>313</a></span>
<span class=normal><a href=#__codelineno-0-314>314</a></span>
<span class=normal><a href=#__codelineno-0-315>315</a></span>
<span class=normal><a href=#__codelineno-0-316>316</a></span>
<span class=normal><a href=#__codelineno-0-317>317</a></span>
<span class=normal><a href=#__codelineno-0-318>318</a></span>
<span class=normal><a href=#__codelineno-0-319>319</a></span>
<span class=normal><a href=#__codelineno-0-320>320</a></span>
<span class=normal><a href=#__codelineno-0-321>321</a></span>
<span class=normal><a href=#__codelineno-0-322>322</a></span>
<span class=normal><a href=#__codelineno-0-323>323</a></span>
<span class=normal><a href=#__codelineno-0-324>324</a></span>
<span class=normal><a href=#__codelineno-0-325>325</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-308><a id=__codelineno-0-308 name=__codelineno-0-308></a><span class=k>def</span> <span class=nf>string</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-309><a id=__codelineno-0-309 name=__codelineno-0-309></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that a configuration value is a string. If not, automatically converts to a string.</span>
</span><span id=__span-0-310><a id=__codelineno-0-310 name=__codelineno-0-310></a>
</span><span id=__span-0-311><a id=__codelineno-0-311 name=__codelineno-0-311></a><span class=sd>    Note that this can be lossy, for example the input value 60.00 (float) will be turned into</span>
</span><span id=__span-0-312><a id=__codelineno-0-312 name=__codelineno-0-312></a><span class=sd>    &quot;60.0&quot; (string). For values where this could be a problem `string_strict` has to be used.</span>
</span><span id=__span-0-313><a id=__codelineno-0-313 name=__codelineno-0-313></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-314><a id=__codelineno-0-314 name=__codelineno-0-314></a>    <span class=n>check_not_templatable</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-315><a id=__codelineno-0-315 name=__codelineno-0-315></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=p>(</span><span class=nb>dict</span><span class=p>,</span> <span class=nb>list</span><span class=p>)):</span>
</span><span id=__span-0-316><a id=__codelineno-0-316 name=__codelineno-0-316></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;string value cannot be dictionary or list.&quot;</span><span class=p>)</span>
</span><span id=__span-0-317><a id=__codelineno-0-317 name=__codelineno-0-317></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>bool</span><span class=p>):</span>
</span><span id=__span-0-318><a id=__codelineno-0-318 name=__codelineno-0-318></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-319><a id=__codelineno-0-319 name=__codelineno-0-319></a>            <span class=s2>&quot;Auto-converted this value to boolean, please wrap the value in quotes.&quot;</span>
</span><span id=__span-0-320><a id=__codelineno-0-320 name=__codelineno-0-320></a>        <span class=p>)</span>
</span><span id=__span-0-321><a id=__codelineno-0-321 name=__codelineno-0-321></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-322><a id=__codelineno-0-322 name=__codelineno-0-322></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-323><a id=__codelineno-0-323 name=__codelineno-0-323></a>    <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-324><a id=__codelineno-0-324 name=__codelineno-0-324></a>        <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-325><a id=__codelineno-0-325 name=__codelineno-0-325></a>    <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;string value is None&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.string_strict class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.string_strict class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Like string, but only allows strings, and does not automatically convert other types to strings.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span>
<span class=normal><a href=#__codelineno-0-330>330</a></span>
<span class=normal><a href=#__codelineno-0-331>331</a></span>
<span class=normal><a href=#__codelineno-0-332>332</a></span>
<span class=normal><a href=#__codelineno-0-333>333</a></span>
<span class=normal><a href=#__codelineno-0-334>334</a></span>
<span class=normal><a href=#__codelineno-0-335>335</a></span>
<span class=normal><a href=#__codelineno-0-336>336</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-328><a id=__codelineno-0-328 name=__codelineno-0-328></a><span class=k>def</span> <span class=nf>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-329><a id=__codelineno-0-329 name=__codelineno-0-329></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Like string, but only allows strings, and does not automatically convert other types to</span>
</span><span id=__span-0-330><a id=__codelineno-0-330 name=__codelineno-0-330></a><span class=sd>    strings.&quot;&quot;&quot;</span>
</span><span id=__span-0-331><a id=__codelineno-0-331 name=__codelineno-0-331></a>    <span class=n>check_not_templatable</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-332><a id=__codelineno-0-332 name=__codelineno-0-332></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-333><a id=__codelineno-0-333 name=__codelineno-0-333></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-334><a id=__codelineno-0-334 name=__codelineno-0-334></a>    <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-335><a id=__codelineno-0-335 name=__codelineno-0-335></a>        <span class=sa>f</span><span class=s2>&quot;Must be string, got </span><span class=si>{</span><span class=nb>type</span><span class=p>(</span><span class=n>value</span><span class=p>)</span><span class=si>}</span><span class=s2>. did you forget putting quotes around the value?&quot;</span>
</span><span id=__span-0-336><a id=__codelineno-0-336 name=__codelineno-0-336></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.subscribe_topic class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>subscribe_topic</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.subscribe_topic class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that we can subscribe using this MQTT topic.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1202>1202</a></span>
<span class=normal><a href=#__codelineno-0-1203>1203</a></span>
<span class=normal><a href=#__codelineno-0-1204>1204</a></span>
<span class=normal><a href=#__codelineno-0-1205>1205</a></span>
<span class=normal><a href=#__codelineno-0-1206>1206</a></span>
<span class=normal><a href=#__codelineno-0-1207>1207</a></span>
<span class=normal><a href=#__codelineno-0-1208>1208</a></span>
<span class=normal><a href=#__codelineno-0-1209>1209</a></span>
<span class=normal><a href=#__codelineno-0-1210>1210</a></span>
<span class=normal><a href=#__codelineno-0-1211>1211</a></span>
<span class=normal><a href=#__codelineno-0-1212>1212</a></span>
<span class=normal><a href=#__codelineno-0-1213>1213</a></span>
<span class=normal><a href=#__codelineno-0-1214>1214</a></span>
<span class=normal><a href=#__codelineno-0-1215>1215</a></span>
<span class=normal><a href=#__codelineno-0-1216>1216</a></span>
<span class=normal><a href=#__codelineno-0-1217>1217</a></span>
<span class=normal><a href=#__codelineno-0-1218>1218</a></span>
<span class=normal><a href=#__codelineno-0-1219>1219</a></span>
<span class=normal><a href=#__codelineno-0-1220>1220</a></span>
<span class=normal><a href=#__codelineno-0-1221>1221</a></span>
<span class=normal><a href=#__codelineno-0-1222>1222</a></span>
<span class=normal><a href=#__codelineno-0-1223>1223</a></span>
<span class=normal><a href=#__codelineno-0-1224>1224</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1202><a id=__codelineno-0-1202 name=__codelineno-0-1202></a><span class=k>def</span> <span class=nf>subscribe_topic</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1203><a id=__codelineno-0-1203 name=__codelineno-0-1203></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that we can subscribe using this MQTT topic.&quot;&quot;&quot;</span>
</span><span id=__span-0-1204><a id=__codelineno-0-1204 name=__codelineno-0-1204></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>_valid_topic</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1205><a id=__codelineno-0-1205 name=__codelineno-0-1205></a>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=p>(</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>c</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>if</span> <span class=n>c</span> <span class=o>==</span> <span class=s2>&quot;+&quot;</span><span class=p>):</span>
</span><span id=__span-0-1206><a id=__codelineno-0-1206 name=__codelineno-0-1206></a>        <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>value</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&quot;/&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=p>(</span>
</span><span id=__span-0-1207><a id=__codelineno-0-1207 name=__codelineno-0-1207></a>            <span class=n>i</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span> <span class=ow>and</span> <span class=n>value</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&quot;/&quot;</span>
</span><span id=__span-0-1208><a id=__codelineno-0-1208 name=__codelineno-0-1208></a>        <span class=p>):</span>
</span><span id=__span-0-1209><a id=__codelineno-0-1209 name=__codelineno-0-1209></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1210><a id=__codelineno-0-1210 name=__codelineno-0-1210></a>                <span class=s2>&quot;Single-level wildcard must occupy an entire level of the filter&quot;</span>
</span><span id=__span-0-1211><a id=__codelineno-0-1211 name=__codelineno-0-1211></a>            <span class=p>)</span>
</span><span id=__span-0-1212><a id=__codelineno-0-1212 name=__codelineno-0-1212></a>
</span><span id=__span-0-1213><a id=__codelineno-0-1213 name=__codelineno-0-1213></a>    <span class=n>index</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s2>&quot;#&quot;</span><span class=p>)</span>
</span><span id=__span-0-1214><a id=__codelineno-0-1214 name=__codelineno-0-1214></a>    <span class=k>if</span> <span class=n>index</span> <span class=o>!=</span> <span class=o>-</span><span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-1215><a id=__codelineno-0-1215 name=__codelineno-0-1215></a>        <span class=k>if</span> <span class=n>index</span> <span class=o>!=</span> <span class=nb>len</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-1216><a id=__codelineno-0-1216 name=__codelineno-0-1216></a>            <span class=c1># If there are multiple wildcards, this will also trigger</span>
</span><span id=__span-0-1217><a id=__codelineno-0-1217 name=__codelineno-0-1217></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1218><a id=__codelineno-0-1218 name=__codelineno-0-1218></a>                <span class=s2>&quot;Multi-level wildcard must be the last &quot;</span>
</span><span id=__span-0-1219><a id=__codelineno-0-1219 name=__codelineno-0-1219></a>                <span class=s2>&quot;character in the topic filter.&quot;</span>
</span><span id=__span-0-1220><a id=__codelineno-0-1220 name=__codelineno-0-1220></a>            <span class=p>)</span>
</span><span id=__span-0-1221><a id=__codelineno-0-1221 name=__codelineno-0-1221></a>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>1</span> <span class=ow>and</span> <span class=n>value</span><span class=p>[</span><span class=n>index</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&quot;/&quot;</span><span class=p>:</span>
</span><span id=__span-0-1222><a id=__codelineno-0-1222 name=__codelineno-0-1222></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Multi-level wildcard must be after a topic level separator.&quot;</span><span class=p>)</span>
</span><span id=__span-0-1223><a id=__codelineno-0-1223 name=__codelineno-0-1223></a>
</span><span id=__span-0-1224><a id=__codelineno-0-1224 name=__codelineno-0-1224></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.suppress_invalid class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>suppress_invalid</span><span class=p>()</span></code> <a href=#config_validation.suppress_invalid class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2147>2147</a></span>
<span class=normal><a href=#__codelineno-0-2148>2148</a></span>
<span class=normal><a href=#__codelineno-0-2149>2149</a></span>
<span class=normal><a href=#__codelineno-0-2150>2150</a></span>
<span class=normal><a href=#__codelineno-0-2151>2151</a></span>
<span class=normal><a href=#__codelineno-0-2152>2152</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-2147><a id=__codelineno-0-2147 name=__codelineno-0-2147></a><span class=nd>@contextmanager</span>
</span><span id=__span-0-2148><a id=__codelineno-0-2148 name=__codelineno-0-2148></a><span class=k>def</span> <span class=nf>suppress_invalid</span><span class=p>():</span>
</span><span id=__span-0-2149><a id=__codelineno-0-2149 name=__codelineno-0-2149></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-2150><a id=__codelineno-0-2150 name=__codelineno-0-2150></a>        <span class=k>yield</span>
</span><span id=__span-0-2151><a id=__codelineno-0-2151 name=__codelineno-0-2151></a>    <span class=k>except</span> <span class=n>vol</span><span class=o>.</span><span class=n>Invalid</span><span class=p>:</span>
</span><span id=__span-0-2152><a id=__codelineno-0-2152 name=__codelineno-0-2152></a>        <span class=k>pass</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.temperature class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>temperature</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.temperature class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1046>1046</a></span>
<span class=normal><a href=#__codelineno-0-1047>1047</a></span>
<span class=normal><a href=#__codelineno-0-1048>1048</a></span>
<span class=normal><a href=#__codelineno-0-1049>1049</a></span>
<span class=normal><a href=#__codelineno-0-1050>1050</a></span>
<span class=normal><a href=#__codelineno-0-1051>1051</a></span>
<span class=normal><a href=#__codelineno-0-1052>1052</a></span>
<span class=normal><a href=#__codelineno-0-1053>1053</a></span>
<span class=normal><a href=#__codelineno-0-1054>1054</a></span>
<span class=normal><a href=#__codelineno-0-1055>1055</a></span>
<span class=normal><a href=#__codelineno-0-1056>1056</a></span>
<span class=normal><a href=#__codelineno-0-1057>1057</a></span>
<span class=normal><a href=#__codelineno-0-1058>1058</a></span>
<span class=normal><a href=#__codelineno-0-1059>1059</a></span>
<span class=normal><a href=#__codelineno-0-1060>1060</a></span>
<span class=normal><a href=#__codelineno-0-1061>1061</a></span>
<span class=normal><a href=#__codelineno-0-1062>1062</a></span>
<span class=normal><a href=#__codelineno-0-1063>1063</a></span>
<span class=normal><a href=#__codelineno-0-1064>1064</a></span>
<span class=normal><a href=#__codelineno-0-1065>1065</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1046><a id=__codelineno-0-1046 name=__codelineno-0-1046></a><span class=k>def</span> <span class=nf>temperature</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1047><a id=__codelineno-0-1047 name=__codelineno-0-1047></a>    <span class=n>err</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-1048><a id=__codelineno-0-1048 name=__codelineno-0-1048></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1049><a id=__codelineno-0-1049 name=__codelineno-0-1049></a>        <span class=k>return</span> <span class=n>_temperature_c</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1050><a id=__codelineno-0-1050 name=__codelineno-0-1050></a>    <span class=k>except</span> <span class=n>Invalid</span> <span class=k>as</span> <span class=n>orig_err</span><span class=p>:</span>
</span><span id=__span-0-1051><a id=__codelineno-0-1051 name=__codelineno-0-1051></a>        <span class=n>err</span> <span class=o>=</span> <span class=n>orig_err</span>
</span><span id=__span-0-1052><a id=__codelineno-0-1052 name=__codelineno-0-1052></a>
</span><span id=__span-0-1053><a id=__codelineno-0-1053 name=__codelineno-0-1053></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1054><a id=__codelineno-0-1054 name=__codelineno-0-1054></a>        <span class=n>kelvin</span> <span class=o>=</span> <span class=n>_temperature_k</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1055><a id=__codelineno-0-1055 name=__codelineno-0-1055></a>        <span class=k>return</span> <span class=n>kelvin</span> <span class=o>-</span> <span class=mf>273.15</span>
</span><span id=__span-0-1056><a id=__codelineno-0-1056 name=__codelineno-0-1056></a>    <span class=k>except</span> <span class=n>Invalid</span><span class=p>:</span>
</span><span id=__span-0-1057><a id=__codelineno-0-1057 name=__codelineno-0-1057></a>        <span class=k>pass</span>
</span><span id=__span-0-1058><a id=__codelineno-0-1058 name=__codelineno-0-1058></a>
</span><span id=__span-0-1059><a id=__codelineno-0-1059 name=__codelineno-0-1059></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1060><a id=__codelineno-0-1060 name=__codelineno-0-1060></a>        <span class=n>fahrenheit</span> <span class=o>=</span> <span class=n>_temperature_f</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1061><a id=__codelineno-0-1061 name=__codelineno-0-1061></a>        <span class=k>return</span> <span class=p>(</span><span class=n>fahrenheit</span> <span class=o>-</span> <span class=mi>32</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=mi>5</span> <span class=o>/</span> <span class=mi>9</span><span class=p>)</span>
</span><span id=__span-0-1062><a id=__codelineno-0-1062 name=__codelineno-0-1062></a>    <span class=k>except</span> <span class=n>Invalid</span><span class=p>:</span>
</span><span id=__span-0-1063><a id=__codelineno-0-1063 name=__codelineno-0-1063></a>        <span class=k>pass</span>
</span><span id=__span-0-1064><a id=__codelineno-0-1064 name=__codelineno-0-1064></a>
</span><span id=__span-0-1065><a id=__codelineno-0-1065 name=__codelineno-0-1065></a>    <span class=k>raise</span> <span class=n>err</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.temperature_delta class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>temperature_delta</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.temperature_delta class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1068>1068</a></span>
<span class=normal><a href=#__codelineno-0-1069>1069</a></span>
<span class=normal><a href=#__codelineno-0-1070>1070</a></span>
<span class=normal><a href=#__codelineno-0-1071>1071</a></span>
<span class=normal><a href=#__codelineno-0-1072>1072</a></span>
<span class=normal><a href=#__codelineno-0-1073>1073</a></span>
<span class=normal><a href=#__codelineno-0-1074>1074</a></span>
<span class=normal><a href=#__codelineno-0-1075>1075</a></span>
<span class=normal><a href=#__codelineno-0-1076>1076</a></span>
<span class=normal><a href=#__codelineno-0-1077>1077</a></span>
<span class=normal><a href=#__codelineno-0-1078>1078</a></span>
<span class=normal><a href=#__codelineno-0-1079>1079</a></span>
<span class=normal><a href=#__codelineno-0-1080>1080</a></span>
<span class=normal><a href=#__codelineno-0-1081>1081</a></span>
<span class=normal><a href=#__codelineno-0-1082>1082</a></span>
<span class=normal><a href=#__codelineno-0-1083>1083</a></span>
<span class=normal><a href=#__codelineno-0-1084>1084</a></span>
<span class=normal><a href=#__codelineno-0-1085>1085</a></span>
<span class=normal><a href=#__codelineno-0-1086>1086</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1068><a id=__codelineno-0-1068 name=__codelineno-0-1068></a><span class=k>def</span> <span class=nf>temperature_delta</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1069><a id=__codelineno-0-1069 name=__codelineno-0-1069></a>    <span class=n>err</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-1070><a id=__codelineno-0-1070 name=__codelineno-0-1070></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1071><a id=__codelineno-0-1071 name=__codelineno-0-1071></a>        <span class=k>return</span> <span class=n>_temperature_c</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1072><a id=__codelineno-0-1072 name=__codelineno-0-1072></a>    <span class=k>except</span> <span class=n>Invalid</span> <span class=k>as</span> <span class=n>orig_err</span><span class=p>:</span>
</span><span id=__span-0-1073><a id=__codelineno-0-1073 name=__codelineno-0-1073></a>        <span class=n>err</span> <span class=o>=</span> <span class=n>orig_err</span>
</span><span id=__span-0-1074><a id=__codelineno-0-1074 name=__codelineno-0-1074></a>
</span><span id=__span-0-1075><a id=__codelineno-0-1075 name=__codelineno-0-1075></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1076><a id=__codelineno-0-1076 name=__codelineno-0-1076></a>        <span class=k>return</span> <span class=n>_temperature_k</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1077><a id=__codelineno-0-1077 name=__codelineno-0-1077></a>    <span class=k>except</span> <span class=n>Invalid</span><span class=p>:</span>
</span><span id=__span-0-1078><a id=__codelineno-0-1078 name=__codelineno-0-1078></a>        <span class=k>pass</span>
</span><span id=__span-0-1079><a id=__codelineno-0-1079 name=__codelineno-0-1079></a>
</span><span id=__span-0-1080><a id=__codelineno-0-1080 name=__codelineno-0-1080></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1081><a id=__codelineno-0-1081 name=__codelineno-0-1081></a>        <span class=n>fahrenheit</span> <span class=o>=</span> <span class=n>_temperature_f</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1082><a id=__codelineno-0-1082 name=__codelineno-0-1082></a>        <span class=k>return</span> <span class=n>fahrenheit</span> <span class=o>*</span> <span class=p>(</span><span class=mi>5</span> <span class=o>/</span> <span class=mi>9</span><span class=p>)</span>
</span><span id=__span-0-1083><a id=__codelineno-0-1083 name=__codelineno-0-1083></a>    <span class=k>except</span> <span class=n>Invalid</span><span class=p>:</span>
</span><span id=__span-0-1084><a id=__codelineno-0-1084 name=__codelineno-0-1084></a>        <span class=k>pass</span>
</span><span id=__span-0-1085><a id=__codelineno-0-1085 name=__codelineno-0-1085></a>
</span><span id=__span-0-1086><a id=__codelineno-0-1086 name=__codelineno-0-1086></a>    <span class=k>raise</span> <span class=n>err</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.templatable class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>templatable</span><span class=p>(</span><span class=n>other_validators</span><span class=p>)</span></code> <a href=#config_validation.templatable class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that the configuration option can (optionally) be templated.</p> <p>The user can declare a value as template by using the '!lambda' tag. In that case, validation is skipped. Otherwise (if the value is not templated) the validator given as the first argument to this method is called.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-569>569</a></span>
<span class=normal><a href=#__codelineno-0-570>570</a></span>
<span class=normal><a href=#__codelineno-0-571>571</a></span>
<span class=normal><a href=#__codelineno-0-572>572</a></span>
<span class=normal><a href=#__codelineno-0-573>573</a></span>
<span class=normal><a href=#__codelineno-0-574>574</a></span>
<span class=normal><a href=#__codelineno-0-575>575</a></span>
<span class=normal><a href=#__codelineno-0-576>576</a></span>
<span class=normal><a href=#__codelineno-0-577>577</a></span>
<span class=normal><a href=#__codelineno-0-578>578</a></span>
<span class=normal><a href=#__codelineno-0-579>579</a></span>
<span class=normal><a href=#__codelineno-0-580>580</a></span>
<span class=normal><a href=#__codelineno-0-581>581</a></span>
<span class=normal><a href=#__codelineno-0-582>582</a></span>
<span class=normal><a href=#__codelineno-0-583>583</a></span>
<span class=normal><a href=#__codelineno-0-584>584</a></span>
<span class=normal><a href=#__codelineno-0-585>585</a></span>
<span class=normal><a href=#__codelineno-0-586>586</a></span>
<span class=normal><a href=#__codelineno-0-587>587</a></span>
<span class=normal><a href=#__codelineno-0-588>588</a></span>
<span class=normal><a href=#__codelineno-0-589>589</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-569><a id=__codelineno-0-569 name=__codelineno-0-569></a><span class=k>def</span> <span class=nf>templatable</span><span class=p>(</span><span class=n>other_validators</span><span class=p>):</span>
</span><span id=__span-0-570><a id=__codelineno-0-570 name=__codelineno-0-570></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that the configuration option can (optionally) be templated.</span>
</span><span id=__span-0-571><a id=__codelineno-0-571 name=__codelineno-0-571></a>
</span><span id=__span-0-572><a id=__codelineno-0-572 name=__codelineno-0-572></a><span class=sd>    The user can declare a value as template by using the &#39;!lambda&#39; tag. In that case,</span>
</span><span id=__span-0-573><a id=__codelineno-0-573 name=__codelineno-0-573></a><span class=sd>    validation is skipped. Otherwise (if the value is not templated) the validator given</span>
</span><span id=__span-0-574><a id=__codelineno-0-574 name=__codelineno-0-574></a><span class=sd>    as the first argument to this method is called.</span>
</span><span id=__span-0-575><a id=__codelineno-0-575 name=__codelineno-0-575></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-576><a id=__codelineno-0-576 name=__codelineno-0-576></a>    <span class=n>schema</span> <span class=o>=</span> <span class=n>Schema</span><span class=p>(</span><span class=n>other_validators</span><span class=p>)</span>
</span><span id=__span-0-577><a id=__codelineno-0-577 name=__codelineno-0-577></a>
</span><span id=__span-0-578><a id=__codelineno-0-578 name=__codelineno-0-578></a>    <span class=nd>@schema_extractor</span><span class=p>(</span><span class=s2>&quot;templatable&quot;</span><span class=p>)</span>
</span><span id=__span-0-579><a id=__codelineno-0-579 name=__codelineno-0-579></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-580><a id=__codelineno-0-580 name=__codelineno-0-580></a>        <span class=k>if</span> <span class=n>value</span> <span class=o>==</span> <span class=n>SCHEMA_EXTRACT</span><span class=p>:</span>
</span><span id=__span-0-581><a id=__codelineno-0-581 name=__codelineno-0-581></a>            <span class=k>return</span> <span class=n>other_validators</span>
</span><span id=__span-0-582><a id=__codelineno-0-582 name=__codelineno-0-582></a>
</span><span id=__span-0-583><a id=__codelineno-0-583 name=__codelineno-0-583></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>Lambda</span><span class=p>):</span>
</span><span id=__span-0-584><a id=__codelineno-0-584 name=__codelineno-0-584></a>            <span class=k>return</span> <span class=n>returning_lambda</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-585><a id=__codelineno-0-585 name=__codelineno-0-585></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>other_validators</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-586><a id=__codelineno-0-586 name=__codelineno-0-586></a>            <span class=k>return</span> <span class=n>schema</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-587><a id=__codelineno-0-587 name=__codelineno-0-587></a>        <span class=k>return</span> <span class=n>schema</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-588><a id=__codelineno-0-588 name=__codelineno-0-588></a>
</span><span id=__span-0-589><a id=__codelineno-0-589 name=__codelineno-0-589></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.time_of_day class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>time_of_day</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.time_of_day class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-844>844</a></span>
<span class=normal><a href=#__codelineno-0-845>845</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-844><a id=__codelineno-0-844 name=__codelineno-0-844></a><span class=k>def</span> <span class=nf>time_of_day</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-845><a id=__codelineno-0-845 name=__codelineno-0-845></a>    <span class=k>return</span> <span class=n>date_time</span><span class=p>(</span><span class=n>date</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>time</span><span class=o>=</span><span class=kc>True</span><span class=p>)(</span><span class=n>value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.time_period_in_microseconds_ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>time_period_in_microseconds_</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.time_period_in_microseconds_ class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-787>787</a></span>
<span class=normal><a href=#__codelineno-0-788>788</a></span>
<span class=normal><a href=#__codelineno-0-789>789</a></span>
<span class=normal><a href=#__codelineno-0-790>790</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-787><a id=__codelineno-0-787 name=__codelineno-0-787></a><span class=k>def</span> <span class=nf>time_period_in_microseconds_</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-788><a id=__codelineno-0-788 name=__codelineno-0-788></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>nanoseconds</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>nanoseconds</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-789><a id=__codelineno-0-789 name=__codelineno-0-789></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Maximum precision is microseconds&quot;</span><span class=p>)</span>
</span><span id=__span-0-790><a id=__codelineno-0-790 name=__codelineno-0-790></a>    <span class=k>return</span> <span class=n>TimePeriodMicroseconds</span><span class=p>(</span><span class=o>**</span><span class=n>value</span><span class=o>.</span><span class=n>as_dict</span><span class=p>())</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.time_period_in_milliseconds_ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>time_period_in_milliseconds_</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.time_period_in_milliseconds_ class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-781>781</a></span>
<span class=normal><a href=#__codelineno-0-782>782</a></span>
<span class=normal><a href=#__codelineno-0-783>783</a></span>
<span class=normal><a href=#__codelineno-0-784>784</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-781><a id=__codelineno-0-781 name=__codelineno-0-781></a><span class=k>def</span> <span class=nf>time_period_in_milliseconds_</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-782><a id=__codelineno-0-782 name=__codelineno-0-782></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>microseconds</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>microseconds</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-783><a id=__codelineno-0-783 name=__codelineno-0-783></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Maximum precision is milliseconds&quot;</span><span class=p>)</span>
</span><span id=__span-0-784><a id=__codelineno-0-784 name=__codelineno-0-784></a>    <span class=k>return</span> <span class=n>TimePeriodMilliseconds</span><span class=p>(</span><span class=o>**</span><span class=n>value</span><span class=o>.</span><span class=n>as_dict</span><span class=p>())</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.time_period_in_minutes_ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>time_period_in_minutes_</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.time_period_in_minutes_ class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-807>807</a></span>
<span class=normal><a href=#__codelineno-0-808>808</a></span>
<span class=normal><a href=#__codelineno-0-809>809</a></span>
<span class=normal><a href=#__codelineno-0-810>810</a></span>
<span class=normal><a href=#__codelineno-0-811>811</a></span>
<span class=normal><a href=#__codelineno-0-812>812</a></span>
<span class=normal><a href=#__codelineno-0-813>813</a></span>
<span class=normal><a href=#__codelineno-0-814>814</a></span>
<span class=normal><a href=#__codelineno-0-815>815</a></span>
<span class=normal><a href=#__codelineno-0-816>816</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-807><a id=__codelineno-0-807 name=__codelineno-0-807></a><span class=k>def</span> <span class=nf>time_period_in_minutes_</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-808><a id=__codelineno-0-808 name=__codelineno-0-808></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>nanoseconds</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>nanoseconds</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-809><a id=__codelineno-0-809 name=__codelineno-0-809></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Maximum precision is minutes&quot;</span><span class=p>)</span>
</span><span id=__span-0-810><a id=__codelineno-0-810 name=__codelineno-0-810></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>microseconds</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>microseconds</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-811><a id=__codelineno-0-811 name=__codelineno-0-811></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Maximum precision is minutes&quot;</span><span class=p>)</span>
</span><span id=__span-0-812><a id=__codelineno-0-812 name=__codelineno-0-812></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>milliseconds</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>milliseconds</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-813><a id=__codelineno-0-813 name=__codelineno-0-813></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Maximum precision is minutes&quot;</span><span class=p>)</span>
</span><span id=__span-0-814><a id=__codelineno-0-814 name=__codelineno-0-814></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>seconds</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>seconds</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-815><a id=__codelineno-0-815 name=__codelineno-0-815></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Maximum precision is minutes&quot;</span><span class=p>)</span>
</span><span id=__span-0-816><a id=__codelineno-0-816 name=__codelineno-0-816></a>    <span class=k>return</span> <span class=n>TimePeriodMinutes</span><span class=p>(</span><span class=o>**</span><span class=n>value</span><span class=o>.</span><span class=n>as_dict</span><span class=p>())</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.time_period_in_nanoseconds_ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>time_period_in_nanoseconds_</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.time_period_in_nanoseconds_ class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-793>793</a></span>
<span class=normal><a href=#__codelineno-0-794>794</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-793><a id=__codelineno-0-793 name=__codelineno-0-793></a><span class=k>def</span> <span class=nf>time_period_in_nanoseconds_</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-794><a id=__codelineno-0-794 name=__codelineno-0-794></a>    <span class=k>return</span> <span class=n>TimePeriodNanoseconds</span><span class=p>(</span><span class=o>**</span><span class=n>value</span><span class=o>.</span><span class=n>as_dict</span><span class=p>())</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.time_period_in_seconds_ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>time_period_in_seconds_</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.time_period_in_seconds_ class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-797>797</a></span>
<span class=normal><a href=#__codelineno-0-798>798</a></span>
<span class=normal><a href=#__codelineno-0-799>799</a></span>
<span class=normal><a href=#__codelineno-0-800>800</a></span>
<span class=normal><a href=#__codelineno-0-801>801</a></span>
<span class=normal><a href=#__codelineno-0-802>802</a></span>
<span class=normal><a href=#__codelineno-0-803>803</a></span>
<span class=normal><a href=#__codelineno-0-804>804</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-797><a id=__codelineno-0-797 name=__codelineno-0-797></a><span class=k>def</span> <span class=nf>time_period_in_seconds_</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-798><a id=__codelineno-0-798 name=__codelineno-0-798></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>nanoseconds</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>nanoseconds</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-799><a id=__codelineno-0-799 name=__codelineno-0-799></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Maximum precision is seconds&quot;</span><span class=p>)</span>
</span><span id=__span-0-800><a id=__codelineno-0-800 name=__codelineno-0-800></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>microseconds</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>microseconds</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-801><a id=__codelineno-0-801 name=__codelineno-0-801></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Maximum precision is seconds&quot;</span><span class=p>)</span>
</span><span id=__span-0-802><a id=__codelineno-0-802 name=__codelineno-0-802></a>    <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>milliseconds</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>milliseconds</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-0-803><a id=__codelineno-0-803 name=__codelineno-0-803></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Maximum precision is seconds&quot;</span><span class=p>)</span>
</span><span id=__span-0-804><a id=__codelineno-0-804 name=__codelineno-0-804></a>    <span class=k>return</span> <span class=n>TimePeriodSeconds</span><span class=p>(</span><span class=o>**</span><span class=n>value</span><span class=o>.</span><span class=n>as_dict</span><span class=p>())</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.time_period_str_colon class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>time_period_str_colon</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.time_period_str_colon class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate and transform time offset with format HH:MM[:SS].</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-713>713</a></span>
<span class=normal><a href=#__codelineno-0-714>714</a></span>
<span class=normal><a href=#__codelineno-0-715>715</a></span>
<span class=normal><a href=#__codelineno-0-716>716</a></span>
<span class=normal><a href=#__codelineno-0-717>717</a></span>
<span class=normal><a href=#__codelineno-0-718>718</a></span>
<span class=normal><a href=#__codelineno-0-719>719</a></span>
<span class=normal><a href=#__codelineno-0-720>720</a></span>
<span class=normal><a href=#__codelineno-0-721>721</a></span>
<span class=normal><a href=#__codelineno-0-722>722</a></span>
<span class=normal><a href=#__codelineno-0-723>723</a></span>
<span class=normal><a href=#__codelineno-0-724>724</a></span>
<span class=normal><a href=#__codelineno-0-725>725</a></span>
<span class=normal><a href=#__codelineno-0-726>726</a></span>
<span class=normal><a href=#__codelineno-0-727>727</a></span>
<span class=normal><a href=#__codelineno-0-728>728</a></span>
<span class=normal><a href=#__codelineno-0-729>729</a></span>
<span class=normal><a href=#__codelineno-0-730>730</a></span>
<span class=normal><a href=#__codelineno-0-731>731</a></span>
<span class=normal><a href=#__codelineno-0-732>732</a></span>
<span class=normal><a href=#__codelineno-0-733>733</a></span>
<span class=normal><a href=#__codelineno-0-734>734</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-713><a id=__codelineno-0-713 name=__codelineno-0-713></a><span class=k>def</span> <span class=nf>time_period_str_colon</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-714><a id=__codelineno-0-714 name=__codelineno-0-714></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate and transform time offset with format HH:MM[:SS].&quot;&quot;&quot;</span>
</span><span id=__span-0-715><a id=__codelineno-0-715 name=__codelineno-0-715></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-716><a id=__codelineno-0-716 name=__codelineno-0-716></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Make sure you wrap time values in quotes&quot;</span><span class=p>)</span>
</span><span id=__span-0-717><a id=__codelineno-0-717 name=__codelineno-0-717></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-718><a id=__codelineno-0-718 name=__codelineno-0-718></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>TIME_PERIOD_ERROR</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>value</span><span class=p>))</span>
</span><span id=__span-0-719><a id=__codelineno-0-719 name=__codelineno-0-719></a>
</span><span id=__span-0-720><a id=__codelineno-0-720 name=__codelineno-0-720></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-721><a id=__codelineno-0-721 name=__codelineno-0-721></a>        <span class=n>parsed</span> <span class=o>=</span> <span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>value</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;:&quot;</span><span class=p>)]</span>
</span><span id=__span-0-722><a id=__codelineno-0-722 name=__codelineno-0-722></a>    <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span><span id=__span-0-723><a id=__codelineno-0-723 name=__codelineno-0-723></a>        <span class=c1># pylint: disable=raise-missing-from</span>
</span><span id=__span-0-724><a id=__codelineno-0-724 name=__codelineno-0-724></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>TIME_PERIOD_ERROR</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>value</span><span class=p>))</span>
</span><span id=__span-0-725><a id=__codelineno-0-725 name=__codelineno-0-725></a>
</span><span id=__span-0-726><a id=__codelineno-0-726 name=__codelineno-0-726></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>parsed</span><span class=p>)</span> <span class=o>==</span> <span class=mi>2</span><span class=p>:</span>
</span><span id=__span-0-727><a id=__codelineno-0-727 name=__codelineno-0-727></a>        <span class=n>hour</span><span class=p>,</span> <span class=n>minute</span> <span class=o>=</span> <span class=n>parsed</span>
</span><span id=__span-0-728><a id=__codelineno-0-728 name=__codelineno-0-728></a>        <span class=n>second</span> <span class=o>=</span> <span class=mi>0</span>
</span><span id=__span-0-729><a id=__codelineno-0-729 name=__codelineno-0-729></a>    <span class=k>elif</span> <span class=nb>len</span><span class=p>(</span><span class=n>parsed</span><span class=p>)</span> <span class=o>==</span> <span class=mi>3</span><span class=p>:</span>
</span><span id=__span-0-730><a id=__codelineno-0-730 name=__codelineno-0-730></a>        <span class=n>hour</span><span class=p>,</span> <span class=n>minute</span><span class=p>,</span> <span class=n>second</span> <span class=o>=</span> <span class=n>parsed</span>
</span><span id=__span-0-731><a id=__codelineno-0-731 name=__codelineno-0-731></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-732><a id=__codelineno-0-732 name=__codelineno-0-732></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>TIME_PERIOD_ERROR</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>value</span><span class=p>))</span>
</span><span id=__span-0-733><a id=__codelineno-0-733 name=__codelineno-0-733></a>
</span><span id=__span-0-734><a id=__codelineno-0-734 name=__codelineno-0-734></a>    <span class=k>return</span> <span class=n>TimePeriod</span><span class=p>(</span><span class=n>hours</span><span class=o>=</span><span class=n>hour</span><span class=p>,</span> <span class=n>minutes</span><span class=o>=</span><span class=n>minute</span><span class=p>,</span> <span class=n>seconds</span><span class=o>=</span><span class=n>second</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.time_period_str_unit class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>time_period_str_unit</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.time_period_str_unit class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate and transform time period with time unit and integer value.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-737>737</a></span>
<span class=normal><a href=#__codelineno-0-738>738</a></span>
<span class=normal><a href=#__codelineno-0-739>739</a></span>
<span class=normal><a href=#__codelineno-0-740>740</a></span>
<span class=normal><a href=#__codelineno-0-741>741</a></span>
<span class=normal><a href=#__codelineno-0-742>742</a></span>
<span class=normal><a href=#__codelineno-0-743>743</a></span>
<span class=normal><a href=#__codelineno-0-744>744</a></span>
<span class=normal><a href=#__codelineno-0-745>745</a></span>
<span class=normal><a href=#__codelineno-0-746>746</a></span>
<span class=normal><a href=#__codelineno-0-747>747</a></span>
<span class=normal><a href=#__codelineno-0-748>748</a></span>
<span class=normal><a href=#__codelineno-0-749>749</a></span>
<span class=normal><a href=#__codelineno-0-750>750</a></span>
<span class=normal><a href=#__codelineno-0-751>751</a></span>
<span class=normal><a href=#__codelineno-0-752>752</a></span>
<span class=normal><a href=#__codelineno-0-753>753</a></span>
<span class=normal><a href=#__codelineno-0-754>754</a></span>
<span class=normal><a href=#__codelineno-0-755>755</a></span>
<span class=normal><a href=#__codelineno-0-756>756</a></span>
<span class=normal><a href=#__codelineno-0-757>757</a></span>
<span class=normal><a href=#__codelineno-0-758>758</a></span>
<span class=normal><a href=#__codelineno-0-759>759</a></span>
<span class=normal><a href=#__codelineno-0-760>760</a></span>
<span class=normal><a href=#__codelineno-0-761>761</a></span>
<span class=normal><a href=#__codelineno-0-762>762</a></span>
<span class=normal><a href=#__codelineno-0-763>763</a></span>
<span class=normal><a href=#__codelineno-0-764>764</a></span>
<span class=normal><a href=#__codelineno-0-765>765</a></span>
<span class=normal><a href=#__codelineno-0-766>766</a></span>
<span class=normal><a href=#__codelineno-0-767>767</a></span>
<span class=normal><a href=#__codelineno-0-768>768</a></span>
<span class=normal><a href=#__codelineno-0-769>769</a></span>
<span class=normal><a href=#__codelineno-0-770>770</a></span>
<span class=normal><a href=#__codelineno-0-771>771</a></span>
<span class=normal><a href=#__codelineno-0-772>772</a></span>
<span class=normal><a href=#__codelineno-0-773>773</a></span>
<span class=normal><a href=#__codelineno-0-774>774</a></span>
<span class=normal><a href=#__codelineno-0-775>775</a></span>
<span class=normal><a href=#__codelineno-0-776>776</a></span>
<span class=normal><a href=#__codelineno-0-777>777</a></span>
<span class=normal><a href=#__codelineno-0-778>778</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-737><a id=__codelineno-0-737 name=__codelineno-0-737></a><span class=k>def</span> <span class=nf>time_period_str_unit</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-738><a id=__codelineno-0-738 name=__codelineno-0-738></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate and transform time period with time unit and integer value.&quot;&quot;&quot;</span>
</span><span id=__span-0-739><a id=__codelineno-0-739 name=__codelineno-0-739></a>    <span class=n>check_not_templatable</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-740><a id=__codelineno-0-740 name=__codelineno-0-740></a>
</span><span id=__span-0-741><a id=__codelineno-0-741 name=__codelineno-0-741></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-742><a id=__codelineno-0-742 name=__codelineno-0-742></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-743><a id=__codelineno-0-743 name=__codelineno-0-743></a>            <span class=sa>f</span><span class=s2>&quot;Don&#39;t know what &#39;</span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&#39; means as it has no time *unit*! Did you mean &#39;</span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>s&#39;?&quot;</span>
</span><span id=__span-0-744><a id=__codelineno-0-744 name=__codelineno-0-744></a>        <span class=p>)</span>
</span><span id=__span-0-745><a id=__codelineno-0-745 name=__codelineno-0-745></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>TimePeriod</span><span class=p>):</span>
</span><span id=__span-0-746><a id=__codelineno-0-746 name=__codelineno-0-746></a>        <span class=n>value</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-747><a id=__codelineno-0-747 name=__codelineno-0-747></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-748><a id=__codelineno-0-748 name=__codelineno-0-748></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Expected string for time period with unit.&quot;</span><span class=p>)</span>
</span><span id=__span-0-749><a id=__codelineno-0-749 name=__codelineno-0-749></a>
</span><span id=__span-0-750><a id=__codelineno-0-750 name=__codelineno-0-750></a>    <span class=n>unit_to_kwarg</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-751><a id=__codelineno-0-751 name=__codelineno-0-751></a>        <span class=s2>&quot;ns&quot;</span><span class=p>:</span> <span class=s2>&quot;nanoseconds&quot;</span><span class=p>,</span>
</span><span id=__span-0-752><a id=__codelineno-0-752 name=__codelineno-0-752></a>        <span class=s2>&quot;nanoseconds&quot;</span><span class=p>:</span> <span class=s2>&quot;nanoseconds&quot;</span><span class=p>,</span>
</span><span id=__span-0-753><a id=__codelineno-0-753 name=__codelineno-0-753></a>        <span class=s2>&quot;us&quot;</span><span class=p>:</span> <span class=s2>&quot;microseconds&quot;</span><span class=p>,</span>
</span><span id=__span-0-754><a id=__codelineno-0-754 name=__codelineno-0-754></a>        <span class=s2>&quot;µs&quot;</span><span class=p>:</span> <span class=s2>&quot;microseconds&quot;</span><span class=p>,</span>
</span><span id=__span-0-755><a id=__codelineno-0-755 name=__codelineno-0-755></a>        <span class=s2>&quot;microseconds&quot;</span><span class=p>:</span> <span class=s2>&quot;microseconds&quot;</span><span class=p>,</span>
</span><span id=__span-0-756><a id=__codelineno-0-756 name=__codelineno-0-756></a>        <span class=s2>&quot;ms&quot;</span><span class=p>:</span> <span class=s2>&quot;milliseconds&quot;</span><span class=p>,</span>
</span><span id=__span-0-757><a id=__codelineno-0-757 name=__codelineno-0-757></a>        <span class=s2>&quot;milliseconds&quot;</span><span class=p>:</span> <span class=s2>&quot;milliseconds&quot;</span><span class=p>,</span>
</span><span id=__span-0-758><a id=__codelineno-0-758 name=__codelineno-0-758></a>        <span class=s2>&quot;s&quot;</span><span class=p>:</span> <span class=s2>&quot;seconds&quot;</span><span class=p>,</span>
</span><span id=__span-0-759><a id=__codelineno-0-759 name=__codelineno-0-759></a>        <span class=s2>&quot;sec&quot;</span><span class=p>:</span> <span class=s2>&quot;seconds&quot;</span><span class=p>,</span>
</span><span id=__span-0-760><a id=__codelineno-0-760 name=__codelineno-0-760></a>        <span class=s2>&quot;seconds&quot;</span><span class=p>:</span> <span class=s2>&quot;seconds&quot;</span><span class=p>,</span>
</span><span id=__span-0-761><a id=__codelineno-0-761 name=__codelineno-0-761></a>        <span class=s2>&quot;min&quot;</span><span class=p>:</span> <span class=s2>&quot;minutes&quot;</span><span class=p>,</span>
</span><span id=__span-0-762><a id=__codelineno-0-762 name=__codelineno-0-762></a>        <span class=s2>&quot;minutes&quot;</span><span class=p>:</span> <span class=s2>&quot;minutes&quot;</span><span class=p>,</span>
</span><span id=__span-0-763><a id=__codelineno-0-763 name=__codelineno-0-763></a>        <span class=s2>&quot;h&quot;</span><span class=p>:</span> <span class=s2>&quot;hours&quot;</span><span class=p>,</span>
</span><span id=__span-0-764><a id=__codelineno-0-764 name=__codelineno-0-764></a>        <span class=s2>&quot;hours&quot;</span><span class=p>:</span> <span class=s2>&quot;hours&quot;</span><span class=p>,</span>
</span><span id=__span-0-765><a id=__codelineno-0-765 name=__codelineno-0-765></a>        <span class=s2>&quot;d&quot;</span><span class=p>:</span> <span class=s2>&quot;days&quot;</span><span class=p>,</span>
</span><span id=__span-0-766><a id=__codelineno-0-766 name=__codelineno-0-766></a>        <span class=s2>&quot;days&quot;</span><span class=p>:</span> <span class=s2>&quot;days&quot;</span><span class=p>,</span>
</span><span id=__span-0-767><a id=__codelineno-0-767 name=__codelineno-0-767></a>    <span class=p>}</span>
</span><span id=__span-0-768><a id=__codelineno-0-768 name=__codelineno-0-768></a>
</span><span id=__span-0-769><a id=__codelineno-0-769 name=__codelineno-0-769></a>    <span class=n>match</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;^([-+]?[0-9]*\.?[0-9]*)\s*(\w*)$&quot;</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-770><a id=__codelineno-0-770 name=__codelineno-0-770></a>
</span><span id=__span-0-771><a id=__codelineno-0-771 name=__codelineno-0-771></a>    <span class=k>if</span> <span class=n>match</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-772><a id=__codelineno-0-772 name=__codelineno-0-772></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Expected time period with unit, got </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-773><a id=__codelineno-0-773 name=__codelineno-0-773></a>    <span class=n>kwarg</span> <span class=o>=</span> <span class=n>unit_to_kwarg</span><span class=p>[</span><span class=n>one_of</span><span class=p>(</span><span class=o>*</span><span class=n>unit_to_kwarg</span><span class=p>)(</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>2</span><span class=p>))]</span>
</span><span id=__span-0-774><a id=__codelineno-0-774 name=__codelineno-0-774></a>
</span><span id=__span-0-775><a id=__codelineno-0-775 name=__codelineno-0-775></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-776><a id=__codelineno-0-776 name=__codelineno-0-776></a>        <span class=k>return</span> <span class=n>TimePeriod</span><span class=p>(</span><span class=o>**</span><span class=p>{</span><span class=n>kwarg</span><span class=p>:</span> <span class=nb>float</span><span class=p>(</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>1</span><span class=p>))})</span>
</span><span id=__span-0-777><a id=__codelineno-0-777 name=__codelineno-0-777></a>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-778><a id=__codelineno-0-778 name=__codelineno-0-778></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=n>e</span><span class=p>)</span> <span class=kn>from</span> <span class=nn>e</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.typed_schema class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>typed_schema</span><span class=p>(</span><span class=n>schemas</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></code> <a href=#config_validation.typed_schema class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Create a schema that has a key to distinguish between schemas</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1601>1601</a></span>
<span class=normal><a href=#__codelineno-0-1602>1602</a></span>
<span class=normal><a href=#__codelineno-0-1603>1603</a></span>
<span class=normal><a href=#__codelineno-0-1604>1604</a></span>
<span class=normal><a href=#__codelineno-0-1605>1605</a></span>
<span class=normal><a href=#__codelineno-0-1606>1606</a></span>
<span class=normal><a href=#__codelineno-0-1607>1607</a></span>
<span class=normal><a href=#__codelineno-0-1608>1608</a></span>
<span class=normal><a href=#__codelineno-0-1609>1609</a></span>
<span class=normal><a href=#__codelineno-0-1610>1610</a></span>
<span class=normal><a href=#__codelineno-0-1611>1611</a></span>
<span class=normal><a href=#__codelineno-0-1612>1612</a></span>
<span class=normal><a href=#__codelineno-0-1613>1613</a></span>
<span class=normal><a href=#__codelineno-0-1614>1614</a></span>
<span class=normal><a href=#__codelineno-0-1615>1615</a></span>
<span class=normal><a href=#__codelineno-0-1616>1616</a></span>
<span class=normal><a href=#__codelineno-0-1617>1617</a></span>
<span class=normal><a href=#__codelineno-0-1618>1618</a></span>
<span class=normal><a href=#__codelineno-0-1619>1619</a></span>
<span class=normal><a href=#__codelineno-0-1620>1620</a></span>
<span class=normal><a href=#__codelineno-0-1621>1621</a></span>
<span class=normal><a href=#__codelineno-0-1622>1622</a></span>
<span class=normal><a href=#__codelineno-0-1623>1623</a></span>
<span class=normal><a href=#__codelineno-0-1624>1624</a></span>
<span class=normal><a href=#__codelineno-0-1625>1625</a></span>
<span class=normal><a href=#__codelineno-0-1626>1626</a></span>
<span class=normal><a href=#__codelineno-0-1627>1627</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1601><a id=__codelineno-0-1601 name=__codelineno-0-1601></a><span class=nd>@schema_extractor_typed</span>
</span><span id=__span-0-1602><a id=__codelineno-0-1602 name=__codelineno-0-1602></a><span class=k>def</span> <span class=nf>typed_schema</span><span class=p>(</span><span class=n>schemas</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span><span id=__span-0-1603><a id=__codelineno-0-1603 name=__codelineno-0-1603></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a schema that has a key to distinguish between schemas&quot;&quot;&quot;</span>
</span><span id=__span-0-1604><a id=__codelineno-0-1604 name=__codelineno-0-1604></a>    <span class=n>key</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;key&quot;</span><span class=p>,</span> <span class=n>CONF_TYPE</span><span class=p>)</span>
</span><span id=__span-0-1605><a id=__codelineno-0-1605 name=__codelineno-0-1605></a>    <span class=n>default_schema_option</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;default_type&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-1606><a id=__codelineno-0-1606 name=__codelineno-0-1606></a>    <span class=n>enum_mapping</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;enum&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-1607><a id=__codelineno-0-1607 name=__codelineno-0-1607></a>    <span class=k>if</span> <span class=n>enum_mapping</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1608><a id=__codelineno-0-1608 name=__codelineno-0-1608></a>        <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>enum_mapping</span><span class=p>,</span> <span class=nb>dict</span><span class=p>)</span>
</span><span id=__span-0-1609><a id=__codelineno-0-1609 name=__codelineno-0-1609></a>        <span class=k>assert</span> <span class=nb>set</span><span class=p>(</span><span class=n>enum_mapping</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span> <span class=o>==</span> <span class=nb>set</span><span class=p>(</span><span class=n>schemas</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>
</span><span id=__span-0-1610><a id=__codelineno-0-1610 name=__codelineno-0-1610></a>    <span class=n>key_validator</span> <span class=o>=</span> <span class=n>one_of</span><span class=p>(</span><span class=o>*</span><span class=n>schemas</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span><span id=__span-0-1611><a id=__codelineno-0-1611 name=__codelineno-0-1611></a>
</span><span id=__span-0-1612><a id=__codelineno-0-1612 name=__codelineno-0-1612></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1613><a id=__codelineno-0-1613 name=__codelineno-0-1613></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-1614><a id=__codelineno-0-1614 name=__codelineno-0-1614></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Value must be dict&quot;</span><span class=p>)</span>
</span><span id=__span-0-1615><a id=__codelineno-0-1615 name=__codelineno-0-1615></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span><span id=__span-0-1616><a id=__codelineno-0-1616 name=__codelineno-0-1616></a>        <span class=n>schema_option</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>default_schema_option</span><span class=p>)</span>
</span><span id=__span-0-1617><a id=__codelineno-0-1617 name=__codelineno-0-1617></a>        <span class=k>if</span> <span class=n>schema_option</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1618><a id=__codelineno-0-1618 name=__codelineno-0-1618></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2> not specified!&quot;</span><span class=p>)</span>
</span><span id=__span-0-1619><a id=__codelineno-0-1619 name=__codelineno-0-1619></a>        <span class=n>key_v</span> <span class=o>=</span> <span class=n>key_validator</span><span class=p>(</span><span class=n>schema_option</span><span class=p>)</span>
</span><span id=__span-0-1620><a id=__codelineno-0-1620 name=__codelineno-0-1620></a>        <span class=k>if</span> <span class=n>enum_mapping</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1621><a id=__codelineno-0-1621 name=__codelineno-0-1621></a>            <span class=n>key_v</span> <span class=o>=</span> <span class=n>add_class_to_obj</span><span class=p>(</span><span class=n>key_v</span><span class=p>,</span> <span class=n>core</span><span class=o>.</span><span class=n>EnumValue</span><span class=p>)</span>
</span><span id=__span-0-1622><a id=__codelineno-0-1622 name=__codelineno-0-1622></a>            <span class=n>key_v</span><span class=o>.</span><span class=n>enum_value</span> <span class=o>=</span> <span class=n>enum_mapping</span><span class=p>[</span><span class=n>key_v</span><span class=p>]</span>
</span><span id=__span-0-1623><a id=__codelineno-0-1623 name=__codelineno-0-1623></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>Schema</span><span class=p>(</span><span class=n>schemas</span><span class=p>[</span><span class=n>key_v</span><span class=p>])(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1624><a id=__codelineno-0-1624 name=__codelineno-0-1624></a>        <span class=n>value</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>key_v</span>
</span><span id=__span-0-1625><a id=__codelineno-0-1625 name=__codelineno-0-1625></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-1626><a id=__codelineno-0-1626 name=__codelineno-0-1626></a>
</span><span id=__span-0-1627><a id=__codelineno-0-1627 name=__codelineno-0-1627></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.update_interval class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>update_interval</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.update_interval class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-819>819</a></span>
<span class=normal><a href=#__codelineno-0-820>820</a></span>
<span class=normal><a href=#__codelineno-0-821>821</a></span>
<span class=normal><a href=#__codelineno-0-822>822</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-819><a id=__codelineno-0-819 name=__codelineno-0-819></a><span class=k>def</span> <span class=nf>update_interval</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-820><a id=__codelineno-0-820 name=__codelineno-0-820></a>    <span class=k>if</span> <span class=n>value</span> <span class=o>==</span> <span class=s2>&quot;never&quot;</span><span class=p>:</span>
</span><span id=__span-0-821><a id=__codelineno-0-821 name=__codelineno-0-821></a>        <span class=k>return</span> <span class=mi>4294967295</span>  <span class=c1># uint32_t max</span>
</span><span id=__span-0-822><a id=__codelineno-0-822 name=__codelineno-0-822></a>    <span class=k>return</span> <span class=n>positive_time_period_milliseconds</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.url class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>url</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.url class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1964>1964</a></span>
<span class=normal><a href=#__codelineno-0-1965>1965</a></span>
<span class=normal><a href=#__codelineno-0-1966>1966</a></span>
<span class=normal><a href=#__codelineno-0-1967>1967</a></span>
<span class=normal><a href=#__codelineno-0-1968>1968</a></span>
<span class=normal><a href=#__codelineno-0-1969>1969</a></span>
<span class=normal><a href=#__codelineno-0-1970>1970</a></span>
<span class=normal><a href=#__codelineno-0-1971>1971</a></span>
<span class=normal><a href=#__codelineno-0-1972>1972</a></span>
<span class=normal><a href=#__codelineno-0-1973>1973</a></span>
<span class=normal><a href=#__codelineno-0-1974>1974</a></span>
<span class=normal><a href=#__codelineno-0-1975>1975</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1964><a id=__codelineno-0-1964 name=__codelineno-0-1964></a><span class=k>def</span> <span class=nf>url</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1965><a id=__codelineno-0-1965 name=__codelineno-0-1965></a>    <span class=kn>import</span> <span class=nn>urllib.parse</span>
</span><span id=__span-0-1966><a id=__codelineno-0-1966 name=__codelineno-0-1966></a>
</span><span id=__span-0-1967><a id=__codelineno-0-1967 name=__codelineno-0-1967></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1968><a id=__codelineno-0-1968 name=__codelineno-0-1968></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-1969><a id=__codelineno-0-1969 name=__codelineno-0-1969></a>        <span class=n>parsed</span> <span class=o>=</span> <span class=n>urllib</span><span class=o>.</span><span class=n>parse</span><span class=o>.</span><span class=n>urlparse</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1970><a id=__codelineno-0-1970 name=__codelineno-0-1970></a>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-1971><a id=__codelineno-0-1971 name=__codelineno-0-1971></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Not a valid URL&quot;</span><span class=p>)</span> <span class=kn>from</span> <span class=nn>e</span>
</span><span id=__span-0-1972><a id=__codelineno-0-1972 name=__codelineno-0-1972></a>
</span><span id=__span-0-1973><a id=__codelineno-0-1973 name=__codelineno-0-1973></a>    <span class=k>if</span> <span class=n>parsed</span><span class=o>.</span><span class=n>scheme</span> <span class=ow>and</span> <span class=n>parsed</span><span class=o>.</span><span class=n>netloc</span> <span class=ow>or</span> <span class=n>parsed</span><span class=o>.</span><span class=n>scheme</span> <span class=o>==</span> <span class=s2>&quot;file&quot;</span><span class=p>:</span>
</span><span id=__span-0-1974><a id=__codelineno-0-1974 name=__codelineno-0-1974></a>        <span class=k>return</span> <span class=n>parsed</span><span class=o>.</span><span class=n>geturl</span><span class=p>()</span>
</span><span id=__span-0-1975><a id=__codelineno-0-1975 name=__codelineno-0-1975></a>    <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Expected a file scheme or a URL scheme with host&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.use_id class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>use_id</span><span class=p>(</span><span class=nb>type</span><span class=p>)</span></code> <a href=#config_validation.use_id class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Declare that this configuration option should point to an ID with the given type.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-519>519</a></span>
<span class=normal><a href=#__codelineno-0-520>520</a></span>
<span class=normal><a href=#__codelineno-0-521>521</a></span>
<span class=normal><a href=#__codelineno-0-522>522</a></span>
<span class=normal><a href=#__codelineno-0-523>523</a></span>
<span class=normal><a href=#__codelineno-0-524>524</a></span>
<span class=normal><a href=#__codelineno-0-525>525</a></span>
<span class=normal><a href=#__codelineno-0-526>526</a></span>
<span class=normal><a href=#__codelineno-0-527>527</a></span>
<span class=normal><a href=#__codelineno-0-528>528</a></span>
<span class=normal><a href=#__codelineno-0-529>529</a></span>
<span class=normal><a href=#__codelineno-0-530>530</a></span>
<span class=normal><a href=#__codelineno-0-531>531</a></span>
<span class=normal><a href=#__codelineno-0-532>532</a></span>
<span class=normal><a href=#__codelineno-0-533>533</a></span>
<span class=normal><a href=#__codelineno-0-534>534</a></span>
<span class=normal><a href=#__codelineno-0-535>535</a></span>
<span class=normal><a href=#__codelineno-0-536>536</a></span>
<span class=normal><a href=#__codelineno-0-537>537</a></span>
<span class=normal><a href=#__codelineno-0-538>538</a></span>
<span class=normal><a href=#__codelineno-0-539>539</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-519><a id=__codelineno-0-519 name=__codelineno-0-519></a><span class=k>def</span> <span class=nf>use_id</span><span class=p>(</span><span class=nb>type</span><span class=p>):</span>
</span><span id=__span-0-520><a id=__codelineno-0-520 name=__codelineno-0-520></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Declare that this configuration option should point to an ID with the given type.&quot;&quot;&quot;</span>
</span><span id=__span-0-521><a id=__codelineno-0-521 name=__codelineno-0-521></a>
</span><span id=__span-0-522><a id=__codelineno-0-522 name=__codelineno-0-522></a>    <span class=nd>@schema_extractor</span><span class=p>(</span><span class=s2>&quot;use_id&quot;</span><span class=p>)</span>
</span><span id=__span-0-523><a id=__codelineno-0-523 name=__codelineno-0-523></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-524><a id=__codelineno-0-524 name=__codelineno-0-524></a>        <span class=k>if</span> <span class=n>value</span> <span class=o>==</span> <span class=n>SCHEMA_EXTRACT</span><span class=p>:</span>
</span><span id=__span-0-525><a id=__codelineno-0-525 name=__codelineno-0-525></a>            <span class=k>return</span> <span class=nb>type</span>
</span><span id=__span-0-526><a id=__codelineno-0-526 name=__codelineno-0-526></a>
</span><span id=__span-0-527><a id=__codelineno-0-527 name=__codelineno-0-527></a>        <span class=n>check_not_templatable</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-528><a id=__codelineno-0-528 name=__codelineno-0-528></a>        <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-529><a id=__codelineno-0-529 name=__codelineno-0-529></a>            <span class=k>return</span> <span class=n>core</span><span class=o>.</span><span class=n>ID</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>is_declaration</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=nb>type</span><span class=p>)</span>
</span><span id=__span-0-530><a id=__codelineno-0-530 name=__codelineno-0-530></a>        <span class=k>if</span> <span class=p>(</span>
</span><span id=__span-0-531><a id=__codelineno-0-531 name=__codelineno-0-531></a>            <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>core</span><span class=o>.</span><span class=n>ID</span><span class=p>)</span>
</span><span id=__span-0-532><a id=__codelineno-0-532 name=__codelineno-0-532></a>            <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>is_declaration</span> <span class=ow>is</span> <span class=kc>False</span>
</span><span id=__span-0-533><a id=__codelineno-0-533 name=__codelineno-0-533></a>            <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>type</span> <span class=ow>is</span> <span class=nb>type</span>
</span><span id=__span-0-534><a id=__codelineno-0-534 name=__codelineno-0-534></a>        <span class=p>):</span>
</span><span id=__span-0-535><a id=__codelineno-0-535 name=__codelineno-0-535></a>            <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-536><a id=__codelineno-0-536 name=__codelineno-0-536></a>
</span><span id=__span-0-537><a id=__codelineno-0-537 name=__codelineno-0-537></a>        <span class=k>return</span> <span class=n>core</span><span class=o>.</span><span class=n>ID</span><span class=p>(</span><span class=n>validate_id_name</span><span class=p>(</span><span class=n>value</span><span class=p>),</span> <span class=n>is_declaration</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=nb>type</span><span class=o>=</span><span class=nb>type</span><span class=p>)</span>
</span><span id=__span-0-538><a id=__codelineno-0-538 name=__codelineno-0-538></a>
</span><span id=__span-0-539><a id=__codelineno-0-539 name=__codelineno-0-539></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.uuid class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>uuid</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.uuid class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-981>981</a></span>
<span class=normal><a href=#__codelineno-0-982>982</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-981><a id=__codelineno-0-981 name=__codelineno-0-981></a><span class=k>def</span> <span class=nf>uuid</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-982><a id=__codelineno-0-982 name=__codelineno-0-982></a>    <span class=k>return</span> <span class=n>Coerce</span><span class=p>(</span><span class=n>uuid_</span><span class=o>.</span><span class=n>UUID</span><span class=p>)(</span><span class=n>value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.valid class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>valid</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.valid class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>A validator that is always valid and returns the value as-is.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1328>1328</a></span>
<span class=normal><a href=#__codelineno-0-1329>1329</a></span>
<span class=normal><a href=#__codelineno-0-1330>1330</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1328><a id=__codelineno-0-1328 name=__codelineno-0-1328></a><span class=k>def</span> <span class=nf>valid</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1329><a id=__codelineno-0-1329 name=__codelineno-0-1329></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;A validator that is always valid and returns the value as-is.&quot;&quot;&quot;</span>
</span><span id=__span-0-1330><a id=__codelineno-0-1330 name=__codelineno-0-1330></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.valid_name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>valid_name</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.valid_name class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-289>289</a></span>
<span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span>
<span class=normal><a href=#__codelineno-0-292>292</a></span>
<span class=normal><a href=#__codelineno-0-293>293</a></span>
<span class=normal><a href=#__codelineno-0-294>294</a></span>
<span class=normal><a href=#__codelineno-0-295>295</a></span>
<span class=normal><a href=#__codelineno-0-296>296</a></span>
<span class=normal><a href=#__codelineno-0-297>297</a></span>
<span class=normal><a href=#__codelineno-0-298>298</a></span>
<span class=normal><a href=#__codelineno-0-299>299</a></span>
<span class=normal><a href=#__codelineno-0-300>300</a></span>
<span class=normal><a href=#__codelineno-0-301>301</a></span>
<span class=normal><a href=#__codelineno-0-302>302</a></span>
<span class=normal><a href=#__codelineno-0-303>303</a></span>
<span class=normal><a href=#__codelineno-0-304>304</a></span>
<span class=normal><a href=#__codelineno-0-305>305</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-289><a id=__codelineno-0-289 name=__codelineno-0-289></a><span class=k>def</span> <span class=nf>valid_name</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291></a>
</span><span id=__span-0-292><a id=__codelineno-0-292 name=__codelineno-0-292></a>    <span class=k>if</span> <span class=n>CORE</span><span class=o>.</span><span class=n>vscode</span><span class=p>:</span>
</span><span id=__span-0-293><a id=__codelineno-0-293 name=__codelineno-0-293></a>        <span class=c1># If the value is a substitution, it can&#39;t be validated until the substitution</span>
</span><span id=__span-0-294><a id=__codelineno-0-294 name=__codelineno-0-294></a>        <span class=c1># is actually made.</span>
</span><span id=__span-0-295><a id=__codelineno-0-295 name=__codelineno-0-295></a>        <span class=n>sub_match</span> <span class=o>=</span> <span class=n>VARIABLE_PROG</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-296><a id=__codelineno-0-296 name=__codelineno-0-296></a>        <span class=k>if</span> <span class=n>sub_match</span><span class=p>:</span>
</span><span id=__span-0-297><a id=__codelineno-0-297 name=__codelineno-0-297></a>            <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-298><a id=__codelineno-0-298 name=__codelineno-0-298></a>
</span><span id=__span-0-299><a id=__codelineno-0-299 name=__codelineno-0-299></a>    <span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-300><a id=__codelineno-0-300 name=__codelineno-0-300></a>        <span class=k>if</span> <span class=n>c</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>ALLOWED_NAME_CHARS</span><span class=p>:</span>
</span><span id=__span-0-301><a id=__codelineno-0-301 name=__codelineno-0-301></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-302><a id=__codelineno-0-302 name=__codelineno-0-302></a>                <span class=sa>f</span><span class=s2>&quot;&#39;</span><span class=si>{</span><span class=n>c</span><span class=si>}</span><span class=s2>&#39; is an invalid character for names. Valid characters are: &quot;</span>
</span><span id=__span-0-303><a id=__codelineno-0-303 name=__codelineno-0-303></a>                <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>ALLOWED_NAME_CHARS</span><span class=si>}</span><span class=s2> (lowercase, no spaces)&quot;</span>
</span><span id=__span-0-304><a id=__codelineno-0-304 name=__codelineno-0-304></a>            <span class=p>)</span>
</span><span id=__span-0-305><a id=__codelineno-0-305 name=__codelineno-0-305></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.validate_bytes class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>validate_bytes</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.validate_bytes class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1103>1103</a></span>
<span class=normal><a href=#__codelineno-0-1104>1104</a></span>
<span class=normal><a href=#__codelineno-0-1105>1105</a></span>
<span class=normal><a href=#__codelineno-0-1106>1106</a></span>
<span class=normal><a href=#__codelineno-0-1107>1107</a></span>
<span class=normal><a href=#__codelineno-0-1108>1108</a></span>
<span class=normal><a href=#__codelineno-0-1109>1109</a></span>
<span class=normal><a href=#__codelineno-0-1110>1110</a></span>
<span class=normal><a href=#__codelineno-0-1111>1111</a></span>
<span class=normal><a href=#__codelineno-0-1112>1112</a></span>
<span class=normal><a href=#__codelineno-0-1113>1113</a></span>
<span class=normal><a href=#__codelineno-0-1114>1114</a></span>
<span class=normal><a href=#__codelineno-0-1115>1115</a></span>
<span class=normal><a href=#__codelineno-0-1116>1116</a></span>
<span class=normal><a href=#__codelineno-0-1117>1117</a></span>
<span class=normal><a href=#__codelineno-0-1118>1118</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1103><a id=__codelineno-0-1103 name=__codelineno-0-1103></a><span class=k>def</span> <span class=nf>validate_bytes</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1104><a id=__codelineno-0-1104 name=__codelineno-0-1104></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1105><a id=__codelineno-0-1105 name=__codelineno-0-1105></a>    <span class=n>match</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;^([0-9]+)\s*(\w*?)(?:byte|B|b)?s?$&quot;</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1106><a id=__codelineno-0-1106 name=__codelineno-0-1106></a>
</span><span id=__span-0-1107><a id=__codelineno-0-1107 name=__codelineno-0-1107></a>    <span class=k>if</span> <span class=n>match</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1108><a id=__codelineno-0-1108 name=__codelineno-0-1108></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Expected number of bytes with unit, got </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-1109><a id=__codelineno-0-1109 name=__codelineno-0-1109></a>
</span><span id=__span-0-1110><a id=__codelineno-0-1110 name=__codelineno-0-1110></a>    <span class=n>mantissa</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>1</span><span class=p>))</span>
</span><span id=__span-0-1111><a id=__codelineno-0-1111 name=__codelineno-0-1111></a>    <span class=k>if</span> <span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>METRIC_SUFFIXES</span><span class=p>:</span>
</span><span id=__span-0-1112><a id=__codelineno-0-1112 name=__codelineno-0-1112></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid metric suffix </span><span class=si>{</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-1113><a id=__codelineno-0-1113 name=__codelineno-0-1113></a>    <span class=n>multiplier</span> <span class=o>=</span> <span class=n>METRIC_SUFFIXES</span><span class=p>[</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>2</span><span class=p>)]</span>
</span><span id=__span-0-1114><a id=__codelineno-0-1114 name=__codelineno-0-1114></a>    <span class=k>if</span> <span class=n>multiplier</span> <span class=o>&lt;</span> <span class=mi>1</span><span class=p>:</span>
</span><span id=__span-0-1115><a id=__codelineno-0-1115 name=__codelineno-0-1115></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1116><a id=__codelineno-0-1116 name=__codelineno-0-1116></a>            <span class=sa>f</span><span class=s2>&quot;Only suffixes with positive exponents are supported. Got </span><span class=si>{</span><span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-1117><a id=__codelineno-0-1117 name=__codelineno-0-1117></a>        <span class=p>)</span>
</span><span id=__span-0-1118><a id=__codelineno-0-1118 name=__codelineno-0-1118></a>    <span class=k>return</span> <span class=nb>int</span><span class=p>(</span><span class=n>mantissa</span> <span class=o>*</span> <span class=n>multiplier</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.validate_esphome_version class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>validate_esphome_version</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span></code> <a href=#config_validation.validate_esphome_version class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2020>2020</a></span>
<span class=normal><a href=#__codelineno-0-2021>2021</a></span>
<span class=normal><a href=#__codelineno-0-2022>2022</a></span>
<span class=normal><a href=#__codelineno-0-2023>2023</a></span>
<span class=normal><a href=#__codelineno-0-2024>2024</a></span>
<span class=normal><a href=#__codelineno-0-2025>2025</a></span>
<span class=normal><a href=#__codelineno-0-2026>2026</a></span>
<span class=normal><a href=#__codelineno-0-2027>2027</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-2020><a id=__codelineno-0-2020 name=__codelineno-0-2020></a><span class=k>def</span> <span class=nf>validate_esphome_version</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-2021><a id=__codelineno-0-2021 name=__codelineno-0-2021></a>    <span class=n>min_version</span> <span class=o>=</span> <span class=n>Version</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-2022><a id=__codelineno-0-2022 name=__codelineno-0-2022></a>    <span class=n>current_version</span> <span class=o>=</span> <span class=n>Version</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=n>ESPHOME_VERSION</span><span class=p>)</span>
</span><span id=__span-0-2023><a id=__codelineno-0-2023 name=__codelineno-0-2023></a>    <span class=k>if</span> <span class=n>current_version</span> <span class=o>&lt;</span> <span class=n>min_version</span><span class=p>:</span>
</span><span id=__span-0-2024><a id=__codelineno-0-2024 name=__codelineno-0-2024></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-2025><a id=__codelineno-0-2025 name=__codelineno-0-2025></a>            <span class=sa>f</span><span class=s2>&quot;Your ESPHome version is too old. Please update to at least </span><span class=si>{</span><span class=n>min_version</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-2026><a id=__codelineno-0-2026 name=__codelineno-0-2026></a>        <span class=p>)</span>
</span><span id=__span-0-2027><a id=__codelineno-0-2027 name=__codelineno-0-2027></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.validate_id_name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>validate_id_name</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.validate_id_name class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p>Validate that the given value would be a valid C++ identifier name.</p> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-485>485</a></span>
<span class=normal><a href=#__codelineno-0-486>486</a></span>
<span class=normal><a href=#__codelineno-0-487>487</a></span>
<span class=normal><a href=#__codelineno-0-488>488</a></span>
<span class=normal><a href=#__codelineno-0-489>489</a></span>
<span class=normal><a href=#__codelineno-0-490>490</a></span>
<span class=normal><a href=#__codelineno-0-491>491</a></span>
<span class=normal><a href=#__codelineno-0-492>492</a></span>
<span class=normal><a href=#__codelineno-0-493>493</a></span>
<span class=normal><a href=#__codelineno-0-494>494</a></span>
<span class=normal><a href=#__codelineno-0-495>495</a></span>
<span class=normal><a href=#__codelineno-0-496>496</a></span>
<span class=normal><a href=#__codelineno-0-497>497</a></span>
<span class=normal><a href=#__codelineno-0-498>498</a></span>
<span class=normal><a href=#__codelineno-0-499>499</a></span>
<span class=normal><a href=#__codelineno-0-500>500</a></span>
<span class=normal><a href=#__codelineno-0-501>501</a></span>
<span class=normal><a href=#__codelineno-0-502>502</a></span>
<span class=normal><a href=#__codelineno-0-503>503</a></span>
<span class=normal><a href=#__codelineno-0-504>504</a></span>
<span class=normal><a href=#__codelineno-0-505>505</a></span>
<span class=normal><a href=#__codelineno-0-506>506</a></span>
<span class=normal><a href=#__codelineno-0-507>507</a></span>
<span class=normal><a href=#__codelineno-0-508>508</a></span>
<span class=normal><a href=#__codelineno-0-509>509</a></span>
<span class=normal><a href=#__codelineno-0-510>510</a></span>
<span class=normal><a href=#__codelineno-0-511>511</a></span>
<span class=normal><a href=#__codelineno-0-512>512</a></span>
<span class=normal><a href=#__codelineno-0-513>513</a></span>
<span class=normal><a href=#__codelineno-0-514>514</a></span>
<span class=normal><a href=#__codelineno-0-515>515</a></span>
<span class=normal><a href=#__codelineno-0-516>516</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-485><a id=__codelineno-0-485 name=__codelineno-0-485></a><span class=k>def</span> <span class=nf>validate_id_name</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-486><a id=__codelineno-0-486 name=__codelineno-0-486></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate that the given value would be a valid C++ identifier name.&quot;&quot;&quot;</span>
</span><span id=__span-0-487><a id=__codelineno-0-487 name=__codelineno-0-487></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-488><a id=__codelineno-0-488 name=__codelineno-0-488></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-489><a id=__codelineno-0-489 name=__codelineno-0-489></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;ID must not be empty&quot;</span><span class=p>)</span>
</span><span id=__span-0-490><a id=__codelineno-0-490 name=__codelineno-0-490></a>    <span class=k>if</span> <span class=n>value</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>isdigit</span><span class=p>():</span>
</span><span id=__span-0-491><a id=__codelineno-0-491 name=__codelineno-0-491></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;First character in ID cannot be a digit.&quot;</span><span class=p>)</span>
</span><span id=__span-0-492><a id=__codelineno-0-492 name=__codelineno-0-492></a>    <span class=k>if</span> <span class=s2>&quot;-&quot;</span> <span class=ow>in</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-493><a id=__codelineno-0-493 name=__codelineno-0-493></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-494><a id=__codelineno-0-494 name=__codelineno-0-494></a>            <span class=s2>&quot;Dashes are not supported in IDs, please use underscores instead.&quot;</span>
</span><span id=__span-0-495><a id=__codelineno-0-495 name=__codelineno-0-495></a>        <span class=p>)</span>
</span><span id=__span-0-496><a id=__codelineno-0-496 name=__codelineno-0-496></a>
</span><span id=__span-0-497><a id=__codelineno-0-497 name=__codelineno-0-497></a>    <span class=k>if</span> <span class=n>CORE</span><span class=o>.</span><span class=n>vscode</span><span class=p>:</span>
</span><span id=__span-0-498><a id=__codelineno-0-498 name=__codelineno-0-498></a>        <span class=c1># If the value is a substitution, it can&#39;t be validated until the substitution</span>
</span><span id=__span-0-499><a id=__codelineno-0-499 name=__codelineno-0-499></a>        <span class=c1># is actually made</span>
</span><span id=__span-0-500><a id=__codelineno-0-500 name=__codelineno-0-500></a>        <span class=n>sub_match</span> <span class=o>=</span> <span class=n>VARIABLE_PROG</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-501><a id=__codelineno-0-501 name=__codelineno-0-501></a>        <span class=k>if</span> <span class=n>sub_match</span><span class=p>:</span>
</span><span id=__span-0-502><a id=__codelineno-0-502 name=__codelineno-0-502></a>            <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-503><a id=__codelineno-0-503 name=__codelineno-0-503></a>
</span><span id=__span-0-504><a id=__codelineno-0-504 name=__codelineno-0-504></a>    <span class=n>valid_chars</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>ascii_letters</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>digits</span><span class=si>}</span><span class=s2>_&quot;</span>
</span><span id=__span-0-505><a id=__codelineno-0-505 name=__codelineno-0-505></a>    <span class=k>for</span> <span class=n>char</span> <span class=ow>in</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-506><a id=__codelineno-0-506 name=__codelineno-0-506></a>        <span class=k>if</span> <span class=n>char</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>valid_chars</span><span class=p>:</span>
</span><span id=__span-0-507><a id=__codelineno-0-507 name=__codelineno-0-507></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-508><a id=__codelineno-0-508 name=__codelineno-0-508></a>                <span class=sa>f</span><span class=s2>&quot;IDs must only consist of upper/lowercase characters, the underscorecharacter and numbers. The character &#39;</span><span class=si>{</span><span class=n>char</span><span class=si>}</span><span class=s2>&#39; cannot be used&quot;</span>
</span><span id=__span-0-509><a id=__codelineno-0-509 name=__codelineno-0-509></a>            <span class=p>)</span>
</span><span id=__span-0-510><a id=__codelineno-0-510 name=__codelineno-0-510></a>    <span class=k>if</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>RESERVED_IDS</span><span class=p>:</span>
</span><span id=__span-0-511><a id=__codelineno-0-511 name=__codelineno-0-511></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;ID &#39;</span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&#39; is reserved internally and cannot be used&quot;</span><span class=p>)</span>
</span><span id=__span-0-512><a id=__codelineno-0-512 name=__codelineno-0-512></a>    <span class=k>if</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>CORE</span><span class=o>.</span><span class=n>loaded_integrations</span><span class=p>:</span>
</span><span id=__span-0-513><a id=__codelineno-0-513 name=__codelineno-0-513></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-514><a id=__codelineno-0-514 name=__codelineno-0-514></a>            <span class=sa>f</span><span class=s2>&quot;ID &#39;</span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&#39; conflicts with the name of an esphome integration, please use another ID name.&quot;</span>
</span><span id=__span-0-515><a id=__codelineno-0-515 name=__codelineno-0-515></a>        <span class=p>)</span>
</span><span id=__span-0-516><a id=__codelineno-0-516 name=__codelineno-0-516></a>    <span class=k>return</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.validate_registry class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>validate_registry</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>registry</span><span class=p>)</span></code> <a href=#config_validation.validate_registry class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1854>1854</a></span>
<span class=normal><a href=#__codelineno-0-1855>1855</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1854><a id=__codelineno-0-1854 name=__codelineno-0-1854></a><span class=k>def</span> <span class=nf>validate_registry</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>registry</span><span class=p>):</span>
</span><span id=__span-0-1855><a id=__codelineno-0-1855 name=__codelineno-0-1855></a>    <span class=k>return</span> <span class=n>ensure_list</span><span class=p>(</span><span class=n>validate_registry_entry</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>registry</span><span class=p>))</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.validate_registry_entry class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>validate_registry_entry</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>registry</span><span class=p>)</span></code> <a href=#config_validation.validate_registry_entry class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1789>1789</a></span>
<span class=normal><a href=#__codelineno-0-1790>1790</a></span>
<span class=normal><a href=#__codelineno-0-1791>1791</a></span>
<span class=normal><a href=#__codelineno-0-1792>1792</a></span>
<span class=normal><a href=#__codelineno-0-1793>1793</a></span>
<span class=normal><a href=#__codelineno-0-1794>1794</a></span>
<span class=normal><a href=#__codelineno-0-1795>1795</a></span>
<span class=normal><a href=#__codelineno-0-1796>1796</a></span>
<span class=normal><a href=#__codelineno-0-1797>1797</a></span>
<span class=normal><a href=#__codelineno-0-1798>1798</a></span>
<span class=normal><a href=#__codelineno-0-1799>1799</a></span>
<span class=normal><a href=#__codelineno-0-1800>1800</a></span>
<span class=normal><a href=#__codelineno-0-1801>1801</a></span>
<span class=normal><a href=#__codelineno-0-1802>1802</a></span>
<span class=normal><a href=#__codelineno-0-1803>1803</a></span>
<span class=normal><a href=#__codelineno-0-1804>1804</a></span>
<span class=normal><a href=#__codelineno-0-1805>1805</a></span>
<span class=normal><a href=#__codelineno-0-1806>1806</a></span>
<span class=normal><a href=#__codelineno-0-1807>1807</a></span>
<span class=normal><a href=#__codelineno-0-1808>1808</a></span>
<span class=normal><a href=#__codelineno-0-1809>1809</a></span>
<span class=normal><a href=#__codelineno-0-1810>1810</a></span>
<span class=normal><a href=#__codelineno-0-1811>1811</a></span>
<span class=normal><a href=#__codelineno-0-1812>1812</a></span>
<span class=normal><a href=#__codelineno-0-1813>1813</a></span>
<span class=normal><a href=#__codelineno-0-1814>1814</a></span>
<span class=normal><a href=#__codelineno-0-1815>1815</a></span>
<span class=normal><a href=#__codelineno-0-1816>1816</a></span>
<span class=normal><a href=#__codelineno-0-1817>1817</a></span>
<span class=normal><a href=#__codelineno-0-1818>1818</a></span>
<span class=normal><a href=#__codelineno-0-1819>1819</a></span>
<span class=normal><a href=#__codelineno-0-1820>1820</a></span>
<span class=normal><a href=#__codelineno-0-1821>1821</a></span>
<span class=normal><a href=#__codelineno-0-1822>1822</a></span>
<span class=normal><a href=#__codelineno-0-1823>1823</a></span>
<span class=normal><a href=#__codelineno-0-1824>1824</a></span>
<span class=normal><a href=#__codelineno-0-1825>1825</a></span>
<span class=normal><a href=#__codelineno-0-1826>1826</a></span>
<span class=normal><a href=#__codelineno-0-1827>1827</a></span>
<span class=normal><a href=#__codelineno-0-1828>1828</a></span>
<span class=normal><a href=#__codelineno-0-1829>1829</a></span>
<span class=normal><a href=#__codelineno-0-1830>1830</a></span>
<span class=normal><a href=#__codelineno-0-1831>1831</a></span>
<span class=normal><a href=#__codelineno-0-1832>1832</a></span>
<span class=normal><a href=#__codelineno-0-1833>1833</a></span>
<span class=normal><a href=#__codelineno-0-1834>1834</a></span>
<span class=normal><a href=#__codelineno-0-1835>1835</a></span>
<span class=normal><a href=#__codelineno-0-1836>1836</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1789><a id=__codelineno-0-1789 name=__codelineno-0-1789></a><span class=k>def</span> <span class=nf>validate_registry_entry</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>registry</span><span class=p>):</span>
</span><span id=__span-0-1790><a id=__codelineno-0-1790 name=__codelineno-0-1790></a>    <span class=n>base_schema</span> <span class=o>=</span> <span class=n>ensure_schema</span><span class=p>(</span><span class=n>registry</span><span class=o>.</span><span class=n>base_schema</span><span class=p>)</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
</span><span id=__span-0-1791><a id=__codelineno-0-1791 name=__codelineno-0-1791></a>        <span class=p>{</span>
</span><span id=__span-0-1792><a id=__codelineno-0-1792 name=__codelineno-0-1792></a>            <span class=n>Optional</span><span class=p>(</span><span class=n>CONF_TYPE_ID</span><span class=p>):</span> <span class=n>valid</span><span class=p>,</span>
</span><span id=__span-0-1793><a id=__codelineno-0-1793 name=__codelineno-0-1793></a>        <span class=p>},</span>
</span><span id=__span-0-1794><a id=__codelineno-0-1794 name=__codelineno-0-1794></a>        <span class=n>extra</span><span class=o>=</span><span class=n>ALLOW_EXTRA</span><span class=p>,</span>
</span><span id=__span-0-1795><a id=__codelineno-0-1795 name=__codelineno-0-1795></a>    <span class=p>)</span>
</span><span id=__span-0-1796><a id=__codelineno-0-1796 name=__codelineno-0-1796></a>    <span class=n>ignore_keys</span> <span class=o>=</span> <span class=n>extract_keys</span><span class=p>(</span><span class=n>base_schema</span><span class=p>)</span>
</span><span id=__span-0-1797><a id=__codelineno-0-1797 name=__codelineno-0-1797></a>
</span><span id=__span-0-1798><a id=__codelineno-0-1798 name=__codelineno-0-1798></a>    <span class=nd>@schema_extractor_registry</span><span class=p>(</span><span class=n>registry</span><span class=p>)</span>
</span><span id=__span-0-1799><a id=__codelineno-0-1799 name=__codelineno-0-1799></a>    <span class=k>def</span> <span class=nf>validator</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-1800><a id=__codelineno-0-1800 name=__codelineno-0-1800></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-1801><a id=__codelineno-0-1801 name=__codelineno-0-1801></a>            <span class=n>value</span> <span class=o>=</span> <span class=p>{</span><span class=n>value</span><span class=p>:</span> <span class=p>{}}</span>
</span><span id=__span-0-1802><a id=__codelineno-0-1802 name=__codelineno-0-1802></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-1803><a id=__codelineno-0-1803 name=__codelineno-0-1803></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1804><a id=__codelineno-0-1804 name=__codelineno-0-1804></a>                <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>name</span><span class=o>.</span><span class=n>title</span><span class=p>()</span><span class=si>}</span><span class=s2> must consist of key-value mapping! Got </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-1805><a id=__codelineno-0-1805 name=__codelineno-0-1805></a>            <span class=p>)</span>
</span><span id=__span-0-1806><a id=__codelineno-0-1806 name=__codelineno-0-1806></a>        <span class=n>key</span> <span class=o>=</span> <span class=nb>next</span><span class=p>((</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>value</span> <span class=k>if</span> <span class=n>x</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>ignore_keys</span><span class=p>),</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-1807><a id=__codelineno-0-1807 name=__codelineno-0-1807></a>        <span class=k>if</span> <span class=n>key</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1808><a id=__codelineno-0-1808 name=__codelineno-0-1808></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Key missing from </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>! Got </span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-0-1809><a id=__codelineno-0-1809 name=__codelineno-0-1809></a>        <span class=k>if</span> <span class=n>key</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>registry</span><span class=p>:</span>
</span><span id=__span-0-1810><a id=__codelineno-0-1810 name=__codelineno-0-1810></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unable to find </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2> with the name &#39;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&#39;&quot;</span><span class=p>,</span> <span class=p>[</span><span class=n>key</span><span class=p>])</span>
</span><span id=__span-0-1811><a id=__codelineno-0-1811 name=__codelineno-0-1811></a>        <span class=n>key2</span> <span class=o>=</span> <span class=nb>next</span><span class=p>((</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>value</span> <span class=k>if</span> <span class=n>x</span> <span class=o>!=</span> <span class=n>key</span> <span class=ow>and</span> <span class=n>x</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>ignore_keys</span><span class=p>),</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-1812><a id=__codelineno-0-1812 name=__codelineno-0-1812></a>        <span class=k>if</span> <span class=n>key2</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1813><a id=__codelineno-0-1813 name=__codelineno-0-1813></a>            <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-1814><a id=__codelineno-0-1814 name=__codelineno-0-1814></a>                <span class=sa>f</span><span class=s2>&quot;Cannot have two </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>s in one item. Key &#39;</span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>&#39; overrides &#39;</span><span class=si>{</span><span class=n>key2</span><span class=si>}</span><span class=s2>&#39;! &quot;</span>
</span><span id=__span-0-1815><a id=__codelineno-0-1815 name=__codelineno-0-1815></a>                <span class=sa>f</span><span class=s2>&quot;Did you forget to indent the block inside the </span><span class=si>{</span><span class=n>key</span><span class=si>}</span><span class=s2>?&quot;</span>
</span><span id=__span-0-1816><a id=__codelineno-0-1816 name=__codelineno-0-1816></a>            <span class=p>)</span>
</span><span id=__span-0-1817><a id=__codelineno-0-1817 name=__codelineno-0-1817></a>
</span><span id=__span-0-1818><a id=__codelineno-0-1818 name=__codelineno-0-1818></a>        <span class=k>if</span> <span class=n>value</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1819><a id=__codelineno-0-1819 name=__codelineno-0-1819></a>            <span class=n>value</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
</span><span id=__span-0-1820><a id=__codelineno-0-1820 name=__codelineno-0-1820></a>
</span><span id=__span-0-1821><a id=__codelineno-0-1821 name=__codelineno-0-1821></a>        <span class=n>registry_entry</span> <span class=o>=</span> <span class=n>registry</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
</span><span id=__span-0-1822><a id=__codelineno-0-1822 name=__codelineno-0-1822></a>
</span><span id=__span-0-1823><a id=__codelineno-0-1823 name=__codelineno-0-1823></a>        <span class=n>value</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span><span id=__span-0-1824><a id=__codelineno-0-1824 name=__codelineno-0-1824></a>
</span><span id=__span-0-1825><a id=__codelineno-0-1825 name=__codelineno-0-1825></a>        <span class=k>with</span> <span class=n>prepend_path</span><span class=p>([</span><span class=n>key</span><span class=p>]):</span>
</span><span id=__span-0-1826><a id=__codelineno-0-1826 name=__codelineno-0-1826></a>            <span class=n>value</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>registry_entry</span><span class=o>.</span><span class=n>schema</span><span class=p>(</span><span class=n>value</span><span class=p>[</span><span class=n>key</span><span class=p>])</span>
</span><span id=__span-0-1827><a id=__codelineno-0-1827 name=__codelineno-0-1827></a>
</span><span id=__span-0-1828><a id=__codelineno-0-1828 name=__codelineno-0-1828></a>        <span class=k>if</span> <span class=n>registry_entry</span><span class=o>.</span><span class=n>type_id</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-1829><a id=__codelineno-0-1829 name=__codelineno-0-1829></a>            <span class=n>my_base_schema</span> <span class=o>=</span> <span class=n>base_schema</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
</span><span id=__span-0-1830><a id=__codelineno-0-1830 name=__codelineno-0-1830></a>                <span class=p>{</span><span class=n>GenerateID</span><span class=p>(</span><span class=n>CONF_TYPE_ID</span><span class=p>):</span> <span class=n>declare_id</span><span class=p>(</span><span class=n>registry_entry</span><span class=o>.</span><span class=n>type_id</span><span class=p>)}</span>
</span><span id=__span-0-1831><a id=__codelineno-0-1831 name=__codelineno-0-1831></a>            <span class=p>)</span>
</span><span id=__span-0-1832><a id=__codelineno-0-1832 name=__codelineno-0-1832></a>            <span class=n>value</span> <span class=o>=</span> <span class=n>my_base_schema</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-1833><a id=__codelineno-0-1833 name=__codelineno-0-1833></a>
</span><span id=__span-0-1834><a id=__codelineno-0-1834 name=__codelineno-0-1834></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-1835><a id=__codelineno-0-1835 name=__codelineno-0-1835></a>
</span><span id=__span-0-1836><a id=__codelineno-0-1836 name=__codelineno-0-1836></a>    <span class=k>return</span> <span class=n>validator</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.validate_source_shorthand class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>validate_source_shorthand</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.validate_source_shorthand class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2171>2171</a></span>
<span class=normal><a href=#__codelineno-0-2172>2172</a></span>
<span class=normal><a href=#__codelineno-0-2173>2173</a></span>
<span class=normal><a href=#__codelineno-0-2174>2174</a></span>
<span class=normal><a href=#__codelineno-0-2175>2175</a></span>
<span class=normal><a href=#__codelineno-0-2176>2176</a></span>
<span class=normal><a href=#__codelineno-0-2177>2177</a></span>
<span class=normal><a href=#__codelineno-0-2178>2178</a></span>
<span class=normal><a href=#__codelineno-0-2179>2179</a></span>
<span class=normal><a href=#__codelineno-0-2180>2180</a></span>
<span class=normal><a href=#__codelineno-0-2181>2181</a></span>
<span class=normal><a href=#__codelineno-0-2182>2182</a></span>
<span class=normal><a href=#__codelineno-0-2183>2183</a></span>
<span class=normal><a href=#__codelineno-0-2184>2184</a></span>
<span class=normal><a href=#__codelineno-0-2185>2185</a></span>
<span class=normal><a href=#__codelineno-0-2186>2186</a></span>
<span class=normal><a href=#__codelineno-0-2187>2187</a></span>
<span class=normal><a href=#__codelineno-0-2188>2188</a></span>
<span class=normal><a href=#__codelineno-0-2189>2189</a></span>
<span class=normal><a href=#__codelineno-0-2190>2190</a></span>
<span class=normal><a href=#__codelineno-0-2191>2191</a></span>
<span class=normal><a href=#__codelineno-0-2192>2192</a></span>
<span class=normal><a href=#__codelineno-0-2193>2193</a></span>
<span class=normal><a href=#__codelineno-0-2194>2194</a></span>
<span class=normal><a href=#__codelineno-0-2195>2195</a></span>
<span class=normal><a href=#__codelineno-0-2196>2196</a></span>
<span class=normal><a href=#__codelineno-0-2197>2197</a></span>
<span class=normal><a href=#__codelineno-0-2198>2198</a></span>
<span class=normal><a href=#__codelineno-0-2199>2199</a></span>
<span class=normal><a href=#__codelineno-0-2200>2200</a></span>
<span class=normal><a href=#__codelineno-0-2201>2201</a></span>
<span class=normal><a href=#__codelineno-0-2202>2202</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-2171><a id=__codelineno-0-2171 name=__codelineno-0-2171></a><span class=k>def</span> <span class=nf>validate_source_shorthand</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-2172><a id=__codelineno-0-2172 name=__codelineno-0-2172></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-2173><a id=__codelineno-0-2173 name=__codelineno-0-2173></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Shorthand only for strings&quot;</span><span class=p>)</span>
</span><span id=__span-0-2174><a id=__codelineno-0-2174 name=__codelineno-0-2174></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-2175><a id=__codelineno-0-2175 name=__codelineno-0-2175></a>        <span class=k>return</span> <span class=n>SOURCE_SCHEMA</span><span class=p>({</span><span class=n>CONF_TYPE</span><span class=p>:</span> <span class=n>TYPE_LOCAL</span><span class=p>,</span> <span class=n>CONF_PATH</span><span class=p>:</span> <span class=n>value</span><span class=p>})</span>
</span><span id=__span-0-2176><a id=__codelineno-0-2176 name=__codelineno-0-2176></a>    <span class=k>except</span> <span class=n>Invalid</span><span class=p>:</span>
</span><span id=__span-0-2177><a id=__codelineno-0-2177 name=__codelineno-0-2177></a>        <span class=k>pass</span>
</span><span id=__span-0-2178><a id=__codelineno-0-2178 name=__codelineno-0-2178></a>    <span class=c1># Regex for GitHub repo name with optional branch/tag</span>
</span><span id=__span-0-2179><a id=__codelineno-0-2179 name=__codelineno-0-2179></a>    <span class=c1># Note: git allows other branch/tag names as well, but never seen them used before</span>
</span><span id=__span-0-2180><a id=__codelineno-0-2180 name=__codelineno-0-2180></a>    <span class=n>m</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span>
</span><span id=__span-0-2181><a id=__codelineno-0-2181 name=__codelineno-0-2181></a>        <span class=sa>r</span><span class=s2>&quot;github://(?:([a-zA-Z0-9\-]+)/([a-zA-Z0-9\-\._]+)(?:@([a-zA-Z0-9\-_.\./]+))?|pr#([0-9]+))&quot;</span><span class=p>,</span>
</span><span id=__span-0-2182><a id=__codelineno-0-2182 name=__codelineno-0-2182></a>        <span class=n>value</span><span class=p>,</span>
</span><span id=__span-0-2183><a id=__codelineno-0-2183 name=__codelineno-0-2183></a>    <span class=p>)</span>
</span><span id=__span-0-2184><a id=__codelineno-0-2184 name=__codelineno-0-2184></a>    <span class=k>if</span> <span class=n>m</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-2185><a id=__codelineno-0-2185 name=__codelineno-0-2185></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span>
</span><span id=__span-0-2186><a id=__codelineno-0-2186 name=__codelineno-0-2186></a>            <span class=s2>&quot;Source is not a file system path, in expected github://username/name[@branch-or-tag] or github://pr#1234 format!&quot;</span>
</span><span id=__span-0-2187><a id=__codelineno-0-2187 name=__codelineno-0-2187></a>        <span class=p>)</span>
</span><span id=__span-0-2188><a id=__codelineno-0-2188 name=__codelineno-0-2188></a>    <span class=k>if</span> <span class=n>m</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>4</span><span class=p>):</span>
</span><span id=__span-0-2189><a id=__codelineno-0-2189 name=__codelineno-0-2189></a>        <span class=n>conf</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-2190><a id=__codelineno-0-2190 name=__codelineno-0-2190></a>            <span class=n>CONF_TYPE</span><span class=p>:</span> <span class=n>TYPE_GIT</span><span class=p>,</span>
</span><span id=__span-0-2191><a id=__codelineno-0-2191 name=__codelineno-0-2191></a>            <span class=n>CONF_URL</span><span class=p>:</span> <span class=s2>&quot;https://github.com/esphome/esphome.git&quot;</span><span class=p>,</span>
</span><span id=__span-0-2192><a id=__codelineno-0-2192 name=__codelineno-0-2192></a>            <span class=n>CONF_REF</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&quot;pull/</span><span class=si>{</span><span class=n>m</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span><span class=si>}</span><span class=s2>/head&quot;</span><span class=p>,</span>
</span><span id=__span-0-2193><a id=__codelineno-0-2193 name=__codelineno-0-2193></a>        <span class=p>}</span>
</span><span id=__span-0-2194><a id=__codelineno-0-2194 name=__codelineno-0-2194></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-2195><a id=__codelineno-0-2195 name=__codelineno-0-2195></a>        <span class=n>conf</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-0-2196><a id=__codelineno-0-2196 name=__codelineno-0-2196></a>            <span class=n>CONF_TYPE</span><span class=p>:</span> <span class=n>TYPE_GIT</span><span class=p>,</span>
</span><span id=__span-0-2197><a id=__codelineno-0-2197 name=__codelineno-0-2197></a>            <span class=n>CONF_URL</span><span class=p>:</span> <span class=sa>f</span><span class=s2>&quot;https://github.com/</span><span class=si>{</span><span class=n>m</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span><span class=si>}</span><span class=s2>/</span><span class=si>{</span><span class=n>m</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=si>}</span><span class=s2>.git&quot;</span><span class=p>,</span>
</span><span id=__span-0-2198><a id=__codelineno-0-2198 name=__codelineno-0-2198></a>        <span class=p>}</span>
</span><span id=__span-0-2199><a id=__codelineno-0-2199 name=__codelineno-0-2199></a>        <span class=k>if</span> <span class=n>m</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>3</span><span class=p>):</span>
</span><span id=__span-0-2200><a id=__codelineno-0-2200 name=__codelineno-0-2200></a>            <span class=n>conf</span><span class=p>[</span><span class=n>CONF_REF</span><span class=p>]</span> <span class=o>=</span> <span class=n>m</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span><span id=__span-0-2201><a id=__codelineno-0-2201 name=__codelineno-0-2201></a>
</span><span id=__span-0-2202><a id=__codelineno-0-2202 name=__codelineno-0-2202></a>    <span class=k>return</span> <span class=n>SOURCE_SCHEMA</span><span class=p>(</span><span class=n>conf</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=config_validation.version_number class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <code class="highlight language-python"><span class=n>version_number</span><span class=p>(</span><span class=n>value</span><span class=p>)</span></code> <a href=#config_validation.version_number class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\config_validation.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-2012>2012</a></span>
<span class=normal><a href=#__codelineno-0-2013>2013</a></span>
<span class=normal><a href=#__codelineno-0-2014>2014</a></span>
<span class=normal><a href=#__codelineno-0-2015>2015</a></span>
<span class=normal><a href=#__codelineno-0-2016>2016</a></span>
<span class=normal><a href=#__codelineno-0-2017>2017</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-2012><a id=__codelineno-0-2012 name=__codelineno-0-2012></a><span class=k>def</span> <span class=nf>version_number</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-2013><a id=__codelineno-0-2013 name=__codelineno-0-2013></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>string_strict</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-2014><a id=__codelineno-0-2014 name=__codelineno-0-2014></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-2015><a id=__codelineno-0-2015 name=__codelineno-0-2015></a>        <span class=k>return</span> <span class=nb>str</span><span class=p>(</span><span class=n>Version</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=n>value</span><span class=p>))</span>
</span><span id=__span-0-2016><a id=__codelineno-0-2016 name=__codelineno-0-2016></a>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-0-2017><a id=__codelineno-0-2017 name=__codelineno-0-2017></a>        <span class=k>raise</span> <span class=n>Invalid</span><span class=p>(</span><span class=s2>&quot;Not a valid version number&quot;</span><span class=p>)</span> <span class=kn>from</span> <span class=nn>e</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href=https://discord.com/channels/429907082951524364/1182120062052741141 target=_blank rel=noopener>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> <strong>ESPHome</strong> is an open source project by <a href=https://https://www.nabucasa.com/ >Nabu Casa</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "../../..", "features": ["announce.dismiss", "navigation.instant.preview", "navigation.indexes", "navigation.path", "navigation.tracking", "search.suggest", "search.highlight", "content.action.edit", "content.code.copy", "content.code.select", "content.code.annotate", "content.tooltips", "toc.follow"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.83f73b43.min.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>