<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="This site is meanly for people that want to extend the functionality of ESPHome."><meta name=author content=ESPHome><link href=https://nielsnl68.github.io/developers.esphome.io/references/python%20scripts/code_generation/ rel=canonical><link href=../CORE%20API/ rel=prev><link href=cpp%20types/ rel=next><link rel=icon href=../../../assets/favicon.ico><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.8"><title>Index - ESPHome Developers</title><link rel=stylesheet href=../../../assets/stylesheets/main.f2e4d321.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../css/material.css><link rel=stylesheet href=../../../css/mkdocstrings.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href=../../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style><script src=../../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=grey data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#cpp_generator class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=https://developers.esphome.io title="ESPHome Developers" class="md-header__button md-logo" aria-label="ESPHome Developers" data-md-component=logo> <img src=../../../assets/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ESPHome Developers </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Index </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=grey data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/nielsnl68/developers.esphome.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> developers.esphome.io </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home page </a> </li> <li class=md-tabs__item> <a href=../../../code_of_conduct/ class=md-tabs__link> Code of Conduct </a> </li> <li class=md-tabs__item> <a href=../../../license/ class=md-tabs__link> License agreement </a> </li> <li class=md-tabs__item> <a href=../../../tags/ class=md-tabs__link> Tags </a> </li> <li class=md-tabs__item> <a href=../../../contributing/ class=md-tabs__link> Contributing </a> </li> <li class=md-tabs__item> <a href=../../../guides/ class=md-tabs__link> Guides </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../components/ class=md-tabs__link> References </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://developers.esphome.io title="ESPHome Developers" class="md-nav__button md-logo" aria-label="ESPHome Developers" data-md-component=logo> <img src=../../../assets/logo.svg alt=logo> </a> ESPHome Developers </label> <div class=md-nav__source> <a href=https://github.com/nielsnl68/developers.esphome.io title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> developers.esphome.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home page </span> </a> </li> <li class=md-nav__item> <a href=../../../code_of_conduct/ class=md-nav__link> <span class=md-ellipsis> Code of Conduct </span> </a> </li> <li class=md-nav__item> <a href=../../../license/ class=md-nav__link> <span class=md-ellipsis> License agreement </span> </a> </li> <li class=md-nav__item> <a href=../../../tags/ class=md-nav__link> <span class=md-ellipsis> Tags </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../../contributing/ class="md-nav__link "> <span class=md-ellipsis> Contributing </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../contributing/setup-vscode/ class=md-nav__link> <span class=md-ellipsis> Setup VSCode </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../contributing/component_creation/ class=md-nav__link> <span class=md-ellipsis> Component creation </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../contributing/component_documentation/ class=md-nav__link> <span class=md-ellipsis> Component documentation </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../../../guides/ class="md-nav__link "> <span class=md-ellipsis> Guides </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../guides/cli/ class=md-nav__link> <span class=md-ellipsis> CLI commands </span> </a> </li> <li class=md-nav__item> <a href=../../../guides/creators/ class=md-nav__link> <span class=md-ellipsis> Sharing devices </span> </a> </li> <li class=md-nav__item> <a href=../../../guides/make_a_component/ class=md-nav__link> <span class=md-ellipsis> Directory Structure </span> </a> </li> <li class=md-nav__item> <a href=../../../guides/typography/ class=md-nav__link> <span class=md-ellipsis> Typography - for markdown pages </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7 checked> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex> <span class=md-ellipsis> References </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=true> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> References </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../components/ class=md-nav__link> <span class=md-ellipsis> Components </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Python scripts </span> </a> <label class="md-nav__link " for=__nav_7_2 id=__nav_7_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=true> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> Python scripts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../CORE%20API/ class=md-nav__link> <span class=md-ellipsis> CORE API </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2_3 checked> <div class="md-nav__link md-nav__container"> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Code generation </span> </a> <label class="md-nav__link md-nav__link--active" for=__nav_7_2_3 id=__nav_7_2_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_2_3_label aria-expanded=true> <label class=md-nav__title for=__nav_7_2_3> <span class="md-nav__icon md-icon"></span> Code generation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=cpp%20types/ class=md-nav__link> <span class=md-ellipsis> Cpp types </span> </a> </li> <li class=md-nav__item> <a href=generator_helpers/ class=md-nav__link> <span class=md-ellipsis> Generator helpers </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../yaml_validation/ class=md-nav__link> <span class=md-ellipsis> Yaml validation </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#cpp_generator class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;cpp_generator </span> </a> <nav class=md-nav aria-label= cpp_generator> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.SafeExpType class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;SafeExpType </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.ArrayInitializer class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ArrayInitializer </span> </a> <nav class=md-nav aria-label= ArrayInitializer> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.ArrayInitializer.args class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;args </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.ArrayInitializer.multiline class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;multiline </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.AssignmentExpression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;AssignmentExpression </span> </a> <nav class=md-nav aria-label= AssignmentExpression> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.AssignmentExpression.modifier class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;modifier </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.AssignmentExpression.name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;name </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.AssignmentExpression.rhs class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;rhs </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.AssignmentExpression.type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;type </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.BinOpExpression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BinOpExpression </span> </a> <nav class=md-nav aria-label= BinOpExpression> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.BinOpExpression.lhs class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;lhs </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.BinOpExpression.op class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;op </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.BinOpExpression.rhs class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;rhs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.BoolLiteral class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;BoolLiteral </span> </a> <nav class=md-nav aria-label= BoolLiteral> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.BoolLiteral.binary class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;binary </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.CallExpression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;CallExpression </span> </a> <nav class=md-nav aria-label= CallExpression> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.CallExpression.args class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;args </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.CallExpression.base class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;base </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.CallExpression.template_args class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;template_args </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.Expression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Expression </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.ExpressionList class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ExpressionList </span> </a> <nav class=md-nav aria-label= ExpressionList> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.ExpressionList.args class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;args </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.ExpressionStatement class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ExpressionStatement </span> </a> <nav class=md-nav aria-label= ExpressionStatement> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.ExpressionStatement.expression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;expression </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.FloatLiteral class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;FloatLiteral </span> </a> <nav class=md-nav aria-label= FloatLiteral> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.FloatLiteral.f class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;f </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.HexIntLiteral class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;HexIntLiteral </span> </a> <nav class=md-nav aria-label= HexIntLiteral> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.HexIntLiteral.i class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;i </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.IntLiteral class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IntLiteral </span> </a> <nav class=md-nav aria-label= IntLiteral> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.IntLiteral.i class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;i </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.LambdaExpression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LambdaExpression </span> </a> <nav class=md-nav aria-label= LambdaExpression> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.LambdaExpression.capture class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;capture </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.LambdaExpression.content class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;content </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.LambdaExpression.parameters class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parameters </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.LambdaExpression.parts class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parts </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.LambdaExpression.return_type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;return_type </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.LambdaExpression.source class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;source </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.LineComment class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;LineComment </span> </a> <nav class=md-nav aria-label= LineComment> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.LineComment.value class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;value </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.Literal class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Literal </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObj class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MockObj </span> </a> <nav class=md-nav aria-label= MockObj> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.MockObj.base class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;base </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObj.new class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;new </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObj.op class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;op </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObj.using class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;using </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObj.class_ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;class_ </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObj.enum class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;enum </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObj.namespace class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;namespace </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObj.operator class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;operator </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObj.struct class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;struct </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObj.template class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;template </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObjClass class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MockObjClass </span> </a> <nav class=md-nav aria-label= MockObjClass> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.MockObjClass.inherits_from class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;inherits_from </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObjClass.template class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;template </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.MockObjEnum class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MockObjEnum </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.ParameterExpression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ParameterExpression </span> </a> <nav class=md-nav aria-label= ParameterExpression> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.ParameterExpression.id class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;id </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.ParameterExpression.type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;type </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.ParameterListExpression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ParameterListExpression </span> </a> <nav class=md-nav aria-label= ParameterListExpression> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.ParameterListExpression.parameters class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;parameters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.ProgmemAssignmentExpression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ProgmemAssignmentExpression </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.RawExpression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RawExpression </span> </a> <nav class=md-nav aria-label= RawExpression> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.RawExpression.text class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;text </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.RawStatement class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;RawStatement </span> </a> <nav class=md-nav aria-label= RawStatement> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.RawStatement.text class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;text </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.Statement class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Statement </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.StaticConstAssignmentExpression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StaticConstAssignmentExpression </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.StringLiteral class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StringLiteral </span> </a> <nav class=md-nav aria-label= StringLiteral> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.StringLiteral.string class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;string </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.StructInitializer class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;StructInitializer </span> </a> <nav class=md-nav aria-label= StructInitializer> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.StructInitializer.args class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;args </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.StructInitializer.base class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;base </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.TemplateArguments class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TemplateArguments </span> </a> <nav class=md-nav aria-label= TemplateArguments> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.TemplateArguments.args class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;args </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.UnaryOpExpression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UnaryOpExpression </span> </a> <nav class=md-nav aria-label= UnaryOpExpression> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.UnaryOpExpression.exp class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;exp </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.UnaryOpExpression.op class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;op </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.VariableDeclarationExpression class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;VariableDeclarationExpression </span> </a> <nav class=md-nav aria-label= VariableDeclarationExpression> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cpp_generator.VariableDeclarationExpression.modifier class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;modifier </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.VariableDeclarationExpression.name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;name </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.VariableDeclarationExpression.type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;type </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cpp_generator.Pvariable class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;Pvariable </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.add class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.add_build_flag class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_build_flag </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.add_define class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_define </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.add_global class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_global </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.add_library class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_library </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.add_platformio_option class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;add_platformio_option </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.get_variable class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_variable </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.get_variable_with_full_id class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_variable_with_full_id </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.is_template class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;is_template </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.new_Pvariable class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;new_Pvariable </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.new_variable class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;new_variable </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.process_lambda class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;process_lambda </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.progmem_array class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;progmem_array </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.safe_exp class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;safe_exp </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.statement class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;statement </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.static_const_array class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;static_const_array </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.templatable class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;templatable </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.variable class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;variable </span> </a> </li> <li class=md-nav__item> <a href=#cpp_generator.with_local_variable class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;with_local_variable </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <div class="post-head-wrapper-text-only "> </div> <a href="https://github.com/nielsnl68/developers.esphome.io/edit/main/docs/references/python scripts/code_generation/index.md" title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <a href="https://github.com/nielsnl68/developers.esphome.io/raw/main/docs/references/python scripts/code_generation/index.md" title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg> </a> <div> <h1 style> Index </h1> </div> <hr> <div class="doc doc-object doc-module"> <h2 id=cpp_generator class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">cpp_generator</span> <a href=#cpp_generator class=headerlink title="Anchor link to this section for reference">&para;</a></h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=cpp_generator.SafeExpType class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">SafeExpType</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#cpp_generator.SafeExpType class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1> 1</a></span>
<span class=normal><a href=#__codelineno-0-2> 2</a></span>
<span class=normal><a href=#__codelineno-0-3> 3</a></span>
<span class=normal><a href=#__codelineno-0-4> 4</a></span>
<span class=normal><a href=#__codelineno-0-5> 5</a></span>
<span class=normal><a href=#__codelineno-0-6> 6</a></span>
<span class=normal><a href=#__codelineno-0-7> 7</a></span>
<span class=normal><a href=#__codelineno-0-8> 8</a></span>
<span class=normal><a href=#__codelineno-0-9> 9</a></span>
<span class=normal><a href=#__codelineno-0-10>10</a></span>
<span class=normal><a href=#__codelineno-0-11>11</a></span>
<span class=normal><a href=#__codelineno-0-12>12</a></span>
<span class=normal><a href=#__codelineno-0-13>13</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>SafeExpType</span> <span class=o>=</span> <span class=n><span title=typing.Union>Union</span></span><span class=p>[</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=n>bool</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a>    <span class=n>str</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a>    <span class=n>str</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6></a>    <span class=n>int</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7></a>    <span class=n>float</span><span class=p>,</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8></a>    <span class=n><span title=esphome.core.TimePeriod>TimePeriod</span></span><span class=p>,</span>
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9></a>    <span class=n>type</span><span class=p>[</span><span class=n>bool</span><span class=p>],</span>
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10></a>    <span class=n>type</span><span class=p>[</span><span class=n>int</span><span class=p>],</span>
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11></a>    <span class=n>type</span><span class=p>[</span><span class=n>float</span><span class=p>],</span>
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12></a>    <span class=n><span title=collections.abc.Sequence>Sequence</span></span><span class=p>[</span><span class=n><span title=typing.Any>Any</span></span><span class=p>],</span>
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13></a><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.ArrayInitializer class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ArrayInitializer</span> <a href=#cpp_generator.ArrayInitializer class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>ArrayInitializer</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n><span title=typing.Any>Any</span></span><span class=p>,</span> <span class=n>multiline</span><span class=p>:</span> <span class=n>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-165><a id=__codelineno-0-165 name=__codelineno-0-165></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>multiline</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>):</span>
</span><span id=__span-0-166><a id=__codelineno-0-166 name=__codelineno-0-166></a>    <span class=bp>self</span><span class=o>.</span><span class=n>multiline</span> <span class=o>=</span> <span class=n>multiline</span>
</span><span id=__span-0-167><a id=__codelineno-0-167 name=__codelineno-0-167></a>    <span class=bp>self</span><span class=o>.</span><span class=n>args</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-168><a id=__codelineno-0-168 name=__codelineno-0-168></a>    <span class=k>for</span> <span class=n>arg</span> <span class=ow>in</span> <span class=n>args</span><span class=p>:</span>
</span><span id=__span-0-169><a id=__codelineno-0-169 name=__codelineno-0-169></a>        <span class=k>if</span> <span class=n>arg</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-170><a id=__codelineno-0-170 name=__codelineno-0-170></a>            <span class=k>continue</span>
</span><span id=__span-0-171><a id=__codelineno-0-171 name=__codelineno-0-171></a>        <span class=n>exp</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>arg</span><span class=p>)</span>
</span><span id=__span-0-172><a id=__codelineno-0-172 name=__codelineno-0-172></a>        <span class=bp>self</span><span class=o>.</span><span class=n>args</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>exp</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.ArrayInitializer.args class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">args</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.ArrayInitializer.args class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>args</span> <span class=o>=</span> <span class=p>[]</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.ArrayInitializer.multiline class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">multiline</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.ArrayInitializer.multiline class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>multiline</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.ArrayInitializer.multiline href=#cpp_generator.ArrayInitializer.multiline>multiline</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.AssignmentExpression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">AssignmentExpression</span> <a href=#cpp_generator.AssignmentExpression class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>AssignmentExpression</span><span class=p>(</span><span class=n>type_</span><span class=p>,</span> <span class=n>modifier</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-66><a id=__codelineno-0-66 name=__codelineno-0-66></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>type_</span><span class=p>,</span> <span class=n>modifier</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>rhs</span><span class=p>):</span>
</span><span id=__span-0-67><a id=__codelineno-0-67 name=__codelineno-0-67></a>    <span class=bp>self</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=n>type_</span>
</span><span id=__span-0-68><a id=__codelineno-0-68 name=__codelineno-0-68></a>    <span class=bp>self</span><span class=o>.</span><span class=n>modifier</span> <span class=o>=</span> <span class=n>modifier</span>
</span><span id=__span-0-69><a id=__codelineno-0-69 name=__codelineno-0-69></a>    <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span><span id=__span-0-70><a id=__codelineno-0-70 name=__codelineno-0-70></a>    <span class=bp>self</span><span class=o>.</span><span class=n>rhs</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>rhs</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.AssignmentExpression.modifier class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">modifier</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.AssignmentExpression.modifier class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>modifier</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.AssignmentExpression.modifier href=#cpp_generator.AssignmentExpression.modifier>modifier</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.AssignmentExpression.name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">name</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.AssignmentExpression.name class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>name</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.AssignmentExpression.name href=#cpp_generator.AssignmentExpression.name>name</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.AssignmentExpression.rhs class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">rhs</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.AssignmentExpression.rhs class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>rhs</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.safe_exp href=#cpp_generator.safe_exp>safe_exp</a></span><span class=p>(</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.AssignmentExpression.rhs href=#cpp_generator.AssignmentExpression.rhs>rhs</a></span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.AssignmentExpression.type class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">type</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.AssignmentExpression.type class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nb>type</span> <span class=o>=</span> <span class=n>type_</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.BinOpExpression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">BinOpExpression</span> <a href=#cpp_generator.BinOpExpression class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>BinOpExpression</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>lhs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>,</span> <span class=n>op</span><span class=p>:</span> <span class=n>str</span><span class=p>,</span> <span class=n>rhs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-313>313</a></span>
<span class=normal><a href=#__codelineno-0-314>314</a></span>
<span class=normal><a href=#__codelineno-0-315>315</a></span>
<span class=normal><a href=#__codelineno-0-316>316</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-313><a id=__codelineno-0-313 name=__codelineno-0-313></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>lhs</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>,</span> <span class=n>op</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>rhs</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>):</span>
</span><span id=__span-0-314><a id=__codelineno-0-314 name=__codelineno-0-314></a>    <span class=bp>self</span><span class=o>.</span><span class=n>lhs</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>lhs</span><span class=p>)</span>
</span><span id=__span-0-315><a id=__codelineno-0-315 name=__codelineno-0-315></a>    <span class=bp>self</span><span class=o>.</span><span class=n>op</span> <span class=o>=</span> <span class=n>op</span>
</span><span id=__span-0-316><a id=__codelineno-0-316 name=__codelineno-0-316></a>    <span class=bp>self</span><span class=o>.</span><span class=n>rhs</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>rhs</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.BinOpExpression.lhs class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">lhs</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.BinOpExpression.lhs class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>lhs</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.safe_exp href=#cpp_generator.safe_exp>safe_exp</a></span><span class=p>(</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.BinOpExpression.lhs href=#cpp_generator.BinOpExpression.lhs>lhs</a></span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.BinOpExpression.op class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">op</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.BinOpExpression.op class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>op</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.BinOpExpression.op href=#cpp_generator.BinOpExpression.op>op</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.BinOpExpression.rhs class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">rhs</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.BinOpExpression.rhs class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>rhs</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.safe_exp href=#cpp_generator.safe_exp>safe_exp</a></span><span class=p>(</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.BinOpExpression.rhs href=#cpp_generator.BinOpExpression.rhs>rhs</a></span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.BoolLiteral class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">BoolLiteral</span> <a href=#cpp_generator.BoolLiteral class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>BoolLiteral</span><span class=p>(</span><span class=n>binary</span><span class=p>:</span> <span class=n>bool</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Literal href=#cpp_generator.Literal>Literal</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-278>278</a></span>
<span class=normal><a href=#__codelineno-0-279>279</a></span>
<span class=normal><a href=#__codelineno-0-280>280</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-278><a id=__codelineno-0-278 name=__codelineno-0-278></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>binary</span><span class=p>:</span> <span class=nb>bool</span><span class=p>):</span>
</span><span id=__span-0-279><a id=__codelineno-0-279 name=__codelineno-0-279></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span><span id=__span-0-280><a id=__codelineno-0-280 name=__codelineno-0-280></a>    <span class=bp>self</span><span class=o>.</span><span class=n>binary</span> <span class=o>=</span> <span class=n>binary</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.BoolLiteral.binary class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">binary</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.BoolLiteral.binary class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>binary</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.BoolLiteral.binary href=#cpp_generator.BoolLiteral.binary>binary</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.CallExpression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">CallExpression</span> <a href=#cpp_generator.CallExpression class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>CallExpression</span><span class=p>(</span><span class=n>base</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-124><a id=__codelineno-0-124 name=__codelineno-0-124></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>base</span><span class=p>:</span> <span class=n>Expression</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>):</span>
</span><span id=__span-0-125><a id=__codelineno-0-125 name=__codelineno-0-125></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base</span> <span class=o>=</span> <span class=n>base</span>
</span><span id=__span-0-126><a id=__codelineno-0-126 name=__codelineno-0-126></a>    <span class=k>if</span> <span class=n>args</span> <span class=ow>and</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>TemplateArguments</span><span class=p>):</span>
</span><span id=__span-0-127><a id=__codelineno-0-127 name=__codelineno-0-127></a>        <span class=bp>self</span><span class=o>.</span><span class=n>template_args</span> <span class=o>=</span> <span class=n>args</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span><span id=__span-0-128><a id=__codelineno-0-128 name=__codelineno-0-128></a>        <span class=n>args</span> <span class=o>=</span> <span class=n>args</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span>
</span><span id=__span-0-129><a id=__codelineno-0-129 name=__codelineno-0-129></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-130><a id=__codelineno-0-130 name=__codelineno-0-130></a>        <span class=bp>self</span><span class=o>.</span><span class=n>template_args</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-131><a id=__codelineno-0-131 name=__codelineno-0-131></a>    <span class=bp>self</span><span class=o>.</span><span class=n>args</span> <span class=o>=</span> <span class=n>ExpressionList</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.CallExpression.args class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">args</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.CallExpression.args class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>args</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.ExpressionList href=#cpp_generator.ExpressionList>ExpressionList</a></span><span class=p>(</span><span class=o>*</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.CallExpression.args href=#cpp_generator.CallExpression.args>args</a></span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.CallExpression.base class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">base</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.CallExpression.base class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>base</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.CallExpression.base href=#cpp_generator.CallExpression.base>base</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.CallExpression.template_args class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">template_args</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.CallExpression.template_args class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>template_args</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.CallExpression.args href=#cpp_generator.CallExpression.args>args</a></span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.Expression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">Expression</span> <a href=#cpp_generator.Expression class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=abc.ABC>ABC</span></code></p> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.ExpressionList class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ExpressionList</span> <a href=#cpp_generator.ExpressionList class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>ExpressionList</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n><span title=typing.Optional>Optional</span></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>])</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-93>93</a></span>
<span class=normal><a href=#__codelineno-0-94>94</a></span>
<span class=normal><a href=#__codelineno-0-95>95</a></span>
<span class=normal><a href=#__codelineno-0-96>96</a></span>
<span class=normal><a href=#__codelineno-0-97>97</a></span>
<span class=normal><a href=#__codelineno-0-98>98</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-93><a id=__codelineno-0-93 name=__codelineno-0-93></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>SafeExpType</span><span class=p>]):</span>
</span><span id=__span-0-94><a id=__codelineno-0-94 name=__codelineno-0-94></a>    <span class=c1># Remove every None on end</span>
</span><span id=__span-0-95><a id=__codelineno-0-95 name=__codelineno-0-95></a>    <span class=n>args</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>args</span><span class=p>)</span>
</span><span id=__span-0-96><a id=__codelineno-0-96 name=__codelineno-0-96></a>    <span class=k>while</span> <span class=n>args</span> <span class=ow>and</span> <span class=n>args</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-97><a id=__codelineno-0-97 name=__codelineno-0-97></a>        <span class=n>args</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</span><span id=__span-0-98><a id=__codelineno-0-98 name=__codelineno-0-98></a>    <span class=bp>self</span><span class=o>.</span><span class=n>args</span> <span class=o>=</span> <span class=p>[</span><span class=n>safe_exp</span><span class=p>(</span><span class=n>arg</span><span class=p>)</span> <span class=k>for</span> <span class=n>arg</span> <span class=ow>in</span> <span class=n>args</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.ExpressionList.args class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">args</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.ExpressionList.args class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>args</span> <span class=o>=</span> <span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.safe_exp href=#cpp_generator.safe_exp>safe_exp</a></span><span class=p>(</span><span class=n>arg</span><span class=p>)</span> <span class=k>for</span> <span class=n>arg</span> <span class=ow>in</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.ExpressionList.args href=#cpp_generator.ExpressionList.args>args</a></span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.ExpressionStatement class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ExpressionStatement</span> <a href=#cpp_generator.ExpressionStatement class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>ExpressionStatement</span><span class=p>(</span><span class=n>expression</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Statement href=#cpp_generator.Statement>Statement</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-407>407</a></span>
<span class=normal><a href=#__codelineno-0-408>408</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-407><a id=__codelineno-0-407 name=__codelineno-0-407></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>expression</span><span class=p>):</span>
</span><span id=__span-0-408><a id=__codelineno-0-408 name=__codelineno-0-408></a>    <span class=bp>self</span><span class=o>.</span><span class=n>expression</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>expression</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.ExpressionStatement.expression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">expression</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.ExpressionStatement.expression class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>expression</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.safe_exp href=#cpp_generator.safe_exp>safe_exp</a></span><span class=p>(</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.ExpressionStatement.expression href=#cpp_generator.ExpressionStatement.expression>expression</a></span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.FloatLiteral class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">FloatLiteral</span> <a href=#cpp_generator.FloatLiteral class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>FloatLiteral</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=n>float</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Literal href=#cpp_generator.Literal>Literal</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-300>300</a></span>
<span class=normal><a href=#__codelineno-0-301>301</a></span>
<span class=normal><a href=#__codelineno-0-302>302</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-300><a id=__codelineno-0-300 name=__codelineno-0-300></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>float</span><span class=p>):</span>
</span><span id=__span-0-301><a id=__codelineno-0-301 name=__codelineno-0-301></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span><span id=__span-0-302><a id=__codelineno-0-302 name=__codelineno-0-302></a>    <span class=bp>self</span><span class=o>.</span><span class=n>f</span> <span class=o>=</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.FloatLiteral.f class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">f</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.FloatLiteral.f class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>f</span> <span class=o>=</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.HexIntLiteral class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">HexIntLiteral</span> <a href=#cpp_generator.HexIntLiteral class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>HexIntLiteral</span><span class=p>(</span><span class=n>i</span><span class=p>:</span> <span class=n>int</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Literal href=#cpp_generator.Literal>Literal</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-289>289</a></span>
<span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-289><a id=__codelineno-0-289 name=__codelineno-0-289></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>i</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-290><a id=__codelineno-0-290 name=__codelineno-0-290></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span><span id=__span-0-291><a id=__codelineno-0-291 name=__codelineno-0-291></a>    <span class=bp>self</span><span class=o>.</span><span class=n>i</span> <span class=o>=</span> <span class=n>HexInt</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.HexIntLiteral.i class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">i</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.HexIntLiteral.i class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>i</span> <span class=o>=</span> <span class=n><span title=esphome.core.HexInt>HexInt</span></span><span class=p>(</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.HexIntLiteral.i href=#cpp_generator.HexIntLiteral.i>i</a></span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.IntLiteral class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IntLiteral</span> <a href=#cpp_generator.IntLiteral class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>IntLiteral</span><span class=p>(</span><span class=n>i</span><span class=p>:</span> <span class=n>int</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Literal href=#cpp_generator.Literal>Literal</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-261>261</a></span>
<span class=normal><a href=#__codelineno-0-262>262</a></span>
<span class=normal><a href=#__codelineno-0-263>263</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-261><a id=__codelineno-0-261 name=__codelineno-0-261></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>i</span><span class=p>:</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-262><a id=__codelineno-0-262 name=__codelineno-0-262></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span><span id=__span-0-263><a id=__codelineno-0-263 name=__codelineno-0-263></a>    <span class=bp>self</span><span class=o>.</span><span class=n>i</span> <span class=o>=</span> <span class=n>i</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.IntLiteral.i class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">i</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.IntLiteral.i class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>i</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.IntLiteral.i href=#cpp_generator.IntLiteral.i>i</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.LambdaExpression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">LambdaExpression</span> <a href=#cpp_generator.LambdaExpression class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span>
<span class=normal><a href=#__codelineno-0-4>4</a></span>
<span class=normal><a href=#__codelineno-0-5>5</a></span>
<span class=normal><a href=#__codelineno-0-6>6</a></span>
<span class=normal><a href=#__codelineno-0-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>LambdaExpression</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>parts</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=n>parameters</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a>    <span class=n>capture</span><span class=p>:</span> <span class=n>str</span> <span class=o>=</span> <span class=s2>&quot;=&quot;</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a>    <span class=n>return_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6></a>    <span class=n>source</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7></a><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-216><a id=__codelineno-0-216 name=__codelineno-0-216></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-217><a id=__codelineno-0-217 name=__codelineno-0-217></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>parts</span><span class=p>,</span> <span class=n>parameters</span><span class=p>,</span> <span class=n>capture</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;=&quot;</span><span class=p>,</span> <span class=n>return_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>source</span><span class=o>=</span><span class=kc>None</span>
</span><span id=__span-0-218><a id=__codelineno-0-218 name=__codelineno-0-218></a><span class=p>):</span>
</span><span id=__span-0-219><a id=__codelineno-0-219 name=__codelineno-0-219></a>    <span class=bp>self</span><span class=o>.</span><span class=n>parts</span> <span class=o>=</span> <span class=n>parts</span>
</span><span id=__span-0-220><a id=__codelineno-0-220 name=__codelineno-0-220></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>parameters</span><span class=p>,</span> <span class=n>ParameterListExpression</span><span class=p>):</span>
</span><span id=__span-0-221><a id=__codelineno-0-221 name=__codelineno-0-221></a>        <span class=n>parameters</span> <span class=o>=</span> <span class=n>ParameterListExpression</span><span class=p>(</span><span class=o>*</span><span class=n>parameters</span><span class=p>)</span>
</span><span id=__span-0-222><a id=__codelineno-0-222 name=__codelineno-0-222></a>    <span class=bp>self</span><span class=o>.</span><span class=n>parameters</span> <span class=o>=</span> <span class=n>parameters</span>
</span><span id=__span-0-223><a id=__codelineno-0-223 name=__codelineno-0-223></a>    <span class=bp>self</span><span class=o>.</span><span class=n>source</span> <span class=o>=</span> <span class=n>source</span>
</span><span id=__span-0-224><a id=__codelineno-0-224 name=__codelineno-0-224></a>    <span class=bp>self</span><span class=o>.</span><span class=n>capture</span> <span class=o>=</span> <span class=n>capture</span>
</span><span id=__span-0-225><a id=__codelineno-0-225 name=__codelineno-0-225></a>    <span class=bp>self</span><span class=o>.</span><span class=n>return_type</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>return_type</span><span class=p>)</span> <span class=k>if</span> <span class=n>return_type</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=k>else</span> <span class=kc>None</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.LambdaExpression.capture class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">capture</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.LambdaExpression.capture class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>capture</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.LambdaExpression.capture href=#cpp_generator.LambdaExpression.capture>capture</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.LambdaExpression.content class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">content</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#cpp_generator.LambdaExpression.content class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>content</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.LambdaExpression.parameters class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">parameters</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.LambdaExpression.parameters class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>parameters</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.LambdaExpression.parameters href=#cpp_generator.LambdaExpression.parameters>parameters</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.LambdaExpression.parts class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">parts</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.LambdaExpression.parts class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>parts</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.LambdaExpression.parts href=#cpp_generator.LambdaExpression.parts>parts</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.LambdaExpression.return_type class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">return_type</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.LambdaExpression.return_type class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span>
<span class=normal><a href=#__codelineno-0-4>4</a></span>
<span class=normal><a href=#__codelineno-0-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>return_type</span> <span class=o>=</span> <span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.safe_exp href=#cpp_generator.safe_exp>safe_exp</a></span><span class=p>(</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.LambdaExpression.return_type href=#cpp_generator.LambdaExpression.return_type>return_type</a></span><span class=p>)</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=k>if</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.LambdaExpression.return_type href=#cpp_generator.LambdaExpression.return_type>return_type</a></span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a>    <span class=k>else</span> <span class=kc>None</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.LambdaExpression.source class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">source</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.LambdaExpression.source class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>source</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.LambdaExpression.source href=#cpp_generator.LambdaExpression.source>source</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.LineComment class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">LineComment</span> <a href=#cpp_generator.LineComment class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>LineComment</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=n>str</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Statement href=#cpp_generator.Statement>Statement</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-417>417</a></span>
<span class=normal><a href=#__codelineno-0-418>418</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-417><a id=__codelineno-0-417 name=__codelineno-0-417></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-418><a id=__codelineno-0-418 name=__codelineno-0-418></a>    <span class=bp>self</span><span class=o>.</span><span class=n>value</span> <span class=o>=</span> <span class=n>value</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.LineComment.value class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">value</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.LineComment.value class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>value</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.LineComment.value href=#cpp_generator.LineComment.value>value</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.Literal class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">Literal</span> <a href=#cpp_generator.Literal class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.MockObj class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">MockObj</span> <a href=#cpp_generator.MockObj class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>MockObj</span><span class=p>(</span><span class=n>base</span><span class=p>,</span> <span class=n>op</span><span class=o>=</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <p>A general expression that can be used to represent any value.</p> <p>Mostly consists of magic methods that allow ESPHome's codegen syntax.</p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-745>745</a></span>
<span class=normal><a href=#__codelineno-0-746>746</a></span>
<span class=normal><a href=#__codelineno-0-747>747</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-745><a id=__codelineno-0-745 name=__codelineno-0-745></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>base</span><span class=p>,</span> <span class=n>op</span><span class=o>=</span><span class=s2>&quot;.&quot;</span><span class=p>):</span>
</span><span id=__span-0-746><a id=__codelineno-0-746 name=__codelineno-0-746></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base</span> <span class=o>=</span> <span class=n>base</span>
</span><span id=__span-0-747><a id=__codelineno-0-747 name=__codelineno-0-747></a>    <span class=bp>self</span><span class=o>.</span><span class=n>op</span> <span class=o>=</span> <span class=n>op</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.MockObj.base class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">base</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.MockObj.base class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>base</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj.base href=#cpp_generator.MockObj.base>base</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.MockObj.new class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">new</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#cpp_generator.MockObj.new class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>new</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.MockObj.op class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">op</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.MockObj.op class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>op</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj.op href=#cpp_generator.MockObj.op>op</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.MockObj.using class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">using</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#cpp_generator.MockObj.using class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>using</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-function"> <h4 id=cpp_generator.MockObj.class_ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">class_</span> <a href=#cpp_generator.MockObj.class_ class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>class_</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=n>str</span><span class=p>,</span> <span class=o>*</span><span class=n>parents</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObjClass href=#cpp_generator.MockObjClass>MockObjClass</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObjClass href=#cpp_generator.MockObjClass>MockObjClass</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-790>790</a></span>
<span class=normal><a href=#__codelineno-0-791>791</a></span>
<span class=normal><a href=#__codelineno-0-792>792</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-790><a id=__codelineno-0-790 name=__codelineno-0-790></a><span class=k>def</span> <span class=nf>class_</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=o>*</span><span class=n>parents</span><span class=p>:</span> <span class=s2>&quot;MockObjClass&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObjClass&quot;</span><span class=p>:</span>
</span><span id=__span-0-791><a id=__codelineno-0-791 name=__codelineno-0-791></a>    <span class=n>op</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>op</span> <span class=o>==</span> <span class=s2>&quot;&quot;</span> <span class=k>else</span> <span class=s2>&quot;::&quot;</span>
</span><span id=__span-0-792><a id=__codelineno-0-792 name=__codelineno-0-792></a>    <span class=k>return</span> <span class=n>MockObjClass</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>base</span><span class=si>}{</span><span class=n>op</span><span class=si>}{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;.&quot;</span><span class=p>,</span> <span class=n>parents</span><span class=o>=</span><span class=n>parents</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=cpp_generator.MockObj.enum class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">enum</span> <a href=#cpp_generator.MockObj.enum class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>enum</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=n>str</span><span class=p>,</span> <span class=n>is_class</span><span class=p>:</span> <span class=n>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-797>797</a></span>
<span class=normal><a href=#__codelineno-0-798>798</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-797><a id=__codelineno-0-797 name=__codelineno-0-797></a><span class=k>def</span> <span class=nf>enum</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>is_class</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObj&quot;</span><span class=p>:</span>
</span><span id=__span-0-798><a id=__codelineno-0-798 name=__codelineno-0-798></a>    <span class=k>return</span> <span class=n>MockObjEnum</span><span class=p>(</span><span class=n>enum</span><span class=o>=</span><span class=n>name</span><span class=p>,</span> <span class=n>is_class</span><span class=o>=</span><span class=n>is_class</span><span class=p>,</span> <span class=n>base</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>base</span><span class=p>,</span> <span class=n>op</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>op</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=cpp_generator.MockObj.namespace class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">namespace</span> <a href=#cpp_generator.MockObj.namespace class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>namespace</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=n>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-787>787</a></span>
<span class=normal><a href=#__codelineno-0-788>788</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-787><a id=__codelineno-0-787 name=__codelineno-0-787></a><span class=k>def</span> <span class=nf>namespace</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObj&quot;</span><span class=p>:</span>
</span><span id=__span-0-788><a id=__codelineno-0-788 name=__codelineno-0-788></a>    <span class=k>return</span> <span class=n>MockObj</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_</span><span class=si>}{</span><span class=n>name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;::&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=cpp_generator.MockObj.operator class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">operator</span> <a href=#cpp_generator.MockObj.operator class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>operator</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=n>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Various other operations.</p> <p>Named operator because it's a C++ keyword and can't occur in valid code.</p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-800>800</a></span>
<span class=normal><a href=#__codelineno-0-801>801</a></span>
<span class=normal><a href=#__codelineno-0-802>802</a></span>
<span class=normal><a href=#__codelineno-0-803>803</a></span>
<span class=normal><a href=#__codelineno-0-804>804</a></span>
<span class=normal><a href=#__codelineno-0-805>805</a></span>
<span class=normal><a href=#__codelineno-0-806>806</a></span>
<span class=normal><a href=#__codelineno-0-807>807</a></span>
<span class=normal><a href=#__codelineno-0-808>808</a></span>
<span class=normal><a href=#__codelineno-0-809>809</a></span>
<span class=normal><a href=#__codelineno-0-810>810</a></span>
<span class=normal><a href=#__codelineno-0-811>811</a></span>
<span class=normal><a href=#__codelineno-0-812>812</a></span>
<span class=normal><a href=#__codelineno-0-813>813</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-800><a id=__codelineno-0-800 name=__codelineno-0-800></a><span class=k>def</span> <span class=nf>operator</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObj&quot;</span><span class=p>:</span>
</span><span id=__span-0-801><a id=__codelineno-0-801 name=__codelineno-0-801></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Various other operations.</span>
</span><span id=__span-0-802><a id=__codelineno-0-802 name=__codelineno-0-802></a>
</span><span id=__span-0-803><a id=__codelineno-0-803 name=__codelineno-0-803></a><span class=sd>    Named operator because it&#39;s a C++ keyword and can&#39;t occur in valid code.</span>
</span><span id=__span-0-804><a id=__codelineno-0-804 name=__codelineno-0-804></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-805><a id=__codelineno-0-805 name=__codelineno-0-805></a>    <span class=k>if</span> <span class=n>name</span> <span class=o>==</span> <span class=s2>&quot;ref&quot;</span><span class=p>:</span>
</span><span id=__span-0-806><a id=__codelineno-0-806 name=__codelineno-0-806></a>        <span class=k>return</span> <span class=n>MockObj</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>base</span><span class=si>}</span><span class=s2> &amp;&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-807><a id=__codelineno-0-807 name=__codelineno-0-807></a>    <span class=k>if</span> <span class=n>name</span> <span class=o>==</span> <span class=s2>&quot;ptr&quot;</span><span class=p>:</span>
</span><span id=__span-0-808><a id=__codelineno-0-808 name=__codelineno-0-808></a>        <span class=k>return</span> <span class=n>MockObj</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>base</span><span class=si>}</span><span class=s2> *&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-809><a id=__codelineno-0-809 name=__codelineno-0-809></a>    <span class=k>if</span> <span class=n>name</span> <span class=o>==</span> <span class=s2>&quot;const_ptr&quot;</span><span class=p>:</span>
</span><span id=__span-0-810><a id=__codelineno-0-810 name=__codelineno-0-810></a>        <span class=k>return</span> <span class=n>MockObj</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>base</span><span class=si>}</span><span class=s2> *const&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-811><a id=__codelineno-0-811 name=__codelineno-0-811></a>    <span class=k>if</span> <span class=n>name</span> <span class=o>==</span> <span class=s2>&quot;const&quot;</span><span class=p>:</span>
</span><span id=__span-0-812><a id=__codelineno-0-812 name=__codelineno-0-812></a>        <span class=k>return</span> <span class=n>MockObj</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;const </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>base</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-813><a id=__codelineno-0-813 name=__codelineno-0-813></a>    <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Expected one of ref, ptr, const_ptr, const.&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=cpp_generator.MockObj.struct class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">struct</span> <a href=#cpp_generator.MockObj.struct class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>struct</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=n>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObjClass href=#cpp_generator.MockObjClass>MockObjClass</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-794>794</a></span>
<span class=normal><a href=#__codelineno-0-795>795</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-794><a id=__codelineno-0-794 name=__codelineno-0-794></a><span class=k>def</span> <span class=nf>struct</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObjClass&quot;</span><span class=p>:</span>
</span><span id=__span-0-795><a id=__codelineno-0-795 name=__codelineno-0-795></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>class_</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=cpp_generator.MockObj.template class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">template</span> <a href=#cpp_generator.MockObj.template class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>template</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Apply template parameters to this object.</p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-779>779</a></span>
<span class=normal><a href=#__codelineno-0-780>780</a></span>
<span class=normal><a href=#__codelineno-0-781>781</a></span>
<span class=normal><a href=#__codelineno-0-782>782</a></span>
<span class=normal><a href=#__codelineno-0-783>783</a></span>
<span class=normal><a href=#__codelineno-0-784>784</a></span>
<span class=normal><a href=#__codelineno-0-785>785</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-779><a id=__codelineno-0-779 name=__codelineno-0-779></a><span class=k>def</span> <span class=nf>template</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObj&quot;</span><span class=p>:</span>
</span><span id=__span-0-780><a id=__codelineno-0-780 name=__codelineno-0-780></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Apply template parameters to this object.&quot;&quot;&quot;</span>
</span><span id=__span-0-781><a id=__codelineno-0-781 name=__codelineno-0-781></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>args</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>1</span> <span class=ow>or</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>TemplateArguments</span><span class=p>):</span>
</span><span id=__span-0-782><a id=__codelineno-0-782 name=__codelineno-0-782></a>        <span class=n>args</span> <span class=o>=</span> <span class=n>TemplateArguments</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>)</span>
</span><span id=__span-0-783><a id=__codelineno-0-783 name=__codelineno-0-783></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-784><a id=__codelineno-0-784 name=__codelineno-0-784></a>        <span class=n>args</span> <span class=o>=</span> <span class=n>args</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span><span id=__span-0-785><a id=__codelineno-0-785 name=__codelineno-0-785></a>    <span class=k>return</span> <span class=n>MockObj</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>base</span><span class=si>}{</span><span class=n>args</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.MockObjClass class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">MockObjClass</span> <a href=#cpp_generator.MockObjClass class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>MockObjClass</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1005>1005</a></span>
<span class=normal><a href=#__codelineno-0-1006>1006</a></span>
<span class=normal><a href=#__codelineno-0-1007>1007</a></span>
<span class=normal><a href=#__codelineno-0-1008>1008</a></span>
<span class=normal><a href=#__codelineno-0-1009>1009</a></span>
<span class=normal><a href=#__codelineno-0-1010>1010</a></span>
<span class=normal><a href=#__codelineno-0-1011>1011</a></span>
<span class=normal><a href=#__codelineno-0-1012>1012</a></span>
<span class=normal><a href=#__codelineno-0-1013>1013</a></span>
<span class=normal><a href=#__codelineno-0-1014>1014</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1005><a id=__codelineno-0-1005 name=__codelineno-0-1005></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span><span id=__span-0-1006><a id=__codelineno-0-1006 name=__codelineno-0-1006></a>    <span class=n>parens</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;parents&quot;</span><span class=p>)</span>
</span><span id=__span-0-1007><a id=__codelineno-0-1007 name=__codelineno-0-1007></a>    <span class=n>MockObj</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span><span id=__span-0-1008><a id=__codelineno-0-1008 name=__codelineno-0-1008></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_parents</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-1009><a id=__codelineno-0-1009 name=__codelineno-0-1009></a>    <span class=k>for</span> <span class=n>paren</span> <span class=ow>in</span> <span class=n>parens</span><span class=p>:</span>
</span><span id=__span-0-1010><a id=__codelineno-0-1010 name=__codelineno-0-1010></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>paren</span><span class=p>,</span> <span class=n>MockObjClass</span><span class=p>):</span>
</span><span id=__span-0-1011><a id=__codelineno-0-1011 name=__codelineno-0-1011></a>            <span class=k>raise</span> <span class=ne>ValueError</span>
</span><span id=__span-0-1012><a id=__codelineno-0-1012 name=__codelineno-0-1012></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_parents</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>paren</span><span class=p>)</span>
</span><span id=__span-0-1013><a id=__codelineno-0-1013 name=__codelineno-0-1013></a>        <span class=c1># pylint: disable=protected-access</span>
</span><span id=__span-0-1014><a id=__codelineno-0-1014 name=__codelineno-0-1014></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_parents</span> <span class=o>+=</span> <span class=n>paren</span><span class=o>.</span><span class=n>_parents</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=cpp_generator.MockObjClass.inherits_from class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">inherits_from</span> <a href=#cpp_generator.MockObjClass.inherits_from class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>inherits_from</span><span class=p>(</span><span class=n>other</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObjClass href=#cpp_generator.MockObjClass>MockObjClass</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>bool</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1016>1016</a></span>
<span class=normal><a href=#__codelineno-0-1017>1017</a></span>
<span class=normal><a href=#__codelineno-0-1018>1018</a></span>
<span class=normal><a href=#__codelineno-0-1019>1019</a></span>
<span class=normal><a href=#__codelineno-0-1020>1020</a></span>
<span class=normal><a href=#__codelineno-0-1021>1021</a></span>
<span class=normal><a href=#__codelineno-0-1022>1022</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1016><a id=__codelineno-0-1016 name=__codelineno-0-1016></a><span class=k>def</span> <span class=nf>inherits_from</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>:</span> <span class=s2>&quot;MockObjClass&quot;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-0-1017><a id=__codelineno-0-1017 name=__codelineno-0-1017></a>    <span class=k>if</span> <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>==</span> <span class=nb>str</span><span class=p>(</span><span class=n>other</span><span class=p>):</span>
</span><span id=__span-0-1018><a id=__codelineno-0-1018 name=__codelineno-0-1018></a>        <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-0-1019><a id=__codelineno-0-1019 name=__codelineno-0-1019></a>    <span class=k>for</span> <span class=n>parent</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_parents</span><span class=p>:</span>
</span><span id=__span-0-1020><a id=__codelineno-0-1020 name=__codelineno-0-1020></a>        <span class=k>if</span> <span class=nb>str</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span> <span class=o>==</span> <span class=nb>str</span><span class=p>(</span><span class=n>other</span><span class=p>):</span>
</span><span id=__span-0-1021><a id=__codelineno-0-1021 name=__codelineno-0-1021></a>            <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-0-1022><a id=__codelineno-0-1022 name=__codelineno-0-1022></a>    <span class=k>return</span> <span class=kc>False</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=cpp_generator.MockObjClass.template class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">template</span> <a href=#cpp_generator.MockObjClass.template class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>template</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObjClass href=#cpp_generator.MockObjClass>MockObjClass</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1024>1024</a></span>
<span class=normal><a href=#__codelineno-0-1025>1025</a></span>
<span class=normal><a href=#__codelineno-0-1026>1026</a></span>
<span class=normal><a href=#__codelineno-0-1027>1027</a></span>
<span class=normal><a href=#__codelineno-0-1028>1028</a></span>
<span class=normal><a href=#__codelineno-0-1029>1029</a></span>
<span class=normal><a href=#__codelineno-0-1030>1030</a></span>
<span class=normal><a href=#__codelineno-0-1031>1031</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1024><a id=__codelineno-0-1024 name=__codelineno-0-1024></a><span class=k>def</span> <span class=nf>template</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObjClass&quot;</span><span class=p>:</span>
</span><span id=__span-0-1025><a id=__codelineno-0-1025 name=__codelineno-0-1025></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>args</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>1</span> <span class=ow>or</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>TemplateArguments</span><span class=p>):</span>
</span><span id=__span-0-1026><a id=__codelineno-0-1026 name=__codelineno-0-1026></a>        <span class=n>args</span> <span class=o>=</span> <span class=n>TemplateArguments</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>)</span>
</span><span id=__span-0-1027><a id=__codelineno-0-1027 name=__codelineno-0-1027></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-1028><a id=__codelineno-0-1028 name=__codelineno-0-1028></a>        <span class=n>args</span> <span class=o>=</span> <span class=n>args</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span><span id=__span-0-1029><a id=__codelineno-0-1029 name=__codelineno-0-1029></a>    <span class=n>new_parents</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_parents</span><span class=p>[:]</span>
</span><span id=__span-0-1030><a id=__codelineno-0-1030 name=__codelineno-0-1030></a>    <span class=n>new_parents</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span><span id=__span-0-1031><a id=__codelineno-0-1031 name=__codelineno-0-1031></a>    <span class=k>return</span> <span class=n>MockObjClass</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>base</span><span class=si>}{</span><span class=n>args</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>parents</span><span class=o>=</span><span class=n>new_parents</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.MockObjEnum class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">MockObjEnum</span> <a href=#cpp_generator.MockObjEnum class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>MockObjEnum</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-985>985</a></span>
<span class=normal><a href=#__codelineno-0-986>986</a></span>
<span class=normal><a href=#__codelineno-0-987>987</a></span>
<span class=normal><a href=#__codelineno-0-988>988</a></span>
<span class=normal><a href=#__codelineno-0-989>989</a></span>
<span class=normal><a href=#__codelineno-0-990>990</a></span>
<span class=normal><a href=#__codelineno-0-991>991</a></span>
<span class=normal><a href=#__codelineno-0-992>992</a></span>
<span class=normal><a href=#__codelineno-0-993>993</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-985><a id=__codelineno-0-985 name=__codelineno-0-985></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span><span id=__span-0-986><a id=__codelineno-0-986 name=__codelineno-0-986></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_enum</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;enum&quot;</span><span class=p>)</span>
</span><span id=__span-0-987><a id=__codelineno-0-987 name=__codelineno-0-987></a>    <span class=bp>self</span><span class=o>.</span><span class=n>_is_class</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;is_class&quot;</span><span class=p>)</span>
</span><span id=__span-0-988><a id=__codelineno-0-988 name=__codelineno-0-988></a>    <span class=n>base</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;base&quot;</span><span class=p>)</span>
</span><span id=__span-0-989><a id=__codelineno-0-989 name=__codelineno-0-989></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_class</span><span class=p>:</span>
</span><span id=__span-0-990><a id=__codelineno-0-990 name=__codelineno-0-990></a>        <span class=n>base</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>base</span><span class=si>}</span><span class=s2>::</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>_enum</span><span class=si>}</span><span class=s2>&quot;</span>
</span><span id=__span-0-991><a id=__codelineno-0-991 name=__codelineno-0-991></a>    <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;op&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;::&quot;</span>
</span><span id=__span-0-992><a id=__codelineno-0-992 name=__codelineno-0-992></a>    <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;base&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>base</span>
</span><span id=__span-0-993><a id=__codelineno-0-993 name=__codelineno-0-993></a>    <span class=n>MockObj</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.ParameterExpression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ParameterExpression</span> <a href=#cpp_generator.ParameterExpression class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>ParameterExpression</span><span class=p>(</span><span class=n>type_</span><span class=p>,</span> <span class=n>id_</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-189><a id=__codelineno-0-189 name=__codelineno-0-189></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>type_</span><span class=p>,</span> <span class=n>id_</span><span class=p>):</span>
</span><span id=__span-0-190><a id=__codelineno-0-190 name=__codelineno-0-190></a>    <span class=bp>self</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>type_</span><span class=p>)</span>
</span><span id=__span-0-191><a id=__codelineno-0-191 name=__codelineno-0-191></a>    <span class=bp>self</span><span class=o>.</span><span class=n>id</span> <span class=o>=</span> <span class=n>id_</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.ParameterExpression.id class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">id</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.ParameterExpression.id class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nb>id</span> <span class=o>=</span> <span class=n>id_</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.ParameterExpression.type class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">type</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.ParameterExpression.type class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nb>type</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.safe_exp href=#cpp_generator.safe_exp>safe_exp</a></span><span class=p>(</span><span class=n>type_</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.ParameterListExpression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ParameterListExpression</span> <a href=#cpp_generator.ParameterListExpression class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span>
<span class=normal><a href=#__codelineno-0-4>4</a></span>
<span class=normal><a href=#__codelineno-0-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>ParameterListExpression</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=o>*</span><span class=n>parameters</span><span class=p>:</span> <span class=n><span title=typing.Union>Union</span></span><span class=p>[</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a>        <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.ParameterExpression href=#cpp_generator.ParameterExpression>ParameterExpression</a></span><span class=p>,</span> <span class=n>tuple</span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>,</span> <span class=n>str</span><span class=p>]</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a>    <span class=p>]</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-200><a id=__codelineno-0-200 name=__codelineno-0-200></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-201><a id=__codelineno-0-201 name=__codelineno-0-201></a>    <span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>parameters</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=n>ParameterExpression</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>[</span><span class=n>SafeExpType</span><span class=p>,</span> <span class=nb>str</span><span class=p>]]</span>
</span><span id=__span-0-202><a id=__codelineno-0-202 name=__codelineno-0-202></a><span class=p>):</span>
</span><span id=__span-0-203><a id=__codelineno-0-203 name=__codelineno-0-203></a>    <span class=bp>self</span><span class=o>.</span><span class=n>parameters</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-204><a id=__codelineno-0-204 name=__codelineno-0-204></a>    <span class=k>for</span> <span class=n>parameter</span> <span class=ow>in</span> <span class=n>parameters</span><span class=p>:</span>
</span><span id=__span-0-205><a id=__codelineno-0-205 name=__codelineno-0-205></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>parameter</span><span class=p>,</span> <span class=n>ParameterExpression</span><span class=p>):</span>
</span><span id=__span-0-206><a id=__codelineno-0-206 name=__codelineno-0-206></a>            <span class=n>parameter</span> <span class=o>=</span> <span class=n>ParameterExpression</span><span class=p>(</span><span class=o>*</span><span class=n>parameter</span><span class=p>)</span>
</span><span id=__span-0-207><a id=__codelineno-0-207 name=__codelineno-0-207></a>        <span class=bp>self</span><span class=o>.</span><span class=n>parameters</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>parameter</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.ParameterListExpression.parameters class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">parameters</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.ParameterListExpression.parameters class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>parameters</span> <span class=o>=</span> <span class=p>[]</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.ProgmemAssignmentExpression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ProgmemAssignmentExpression</span> <a href=#cpp_generator.ProgmemAssignmentExpression class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>ProgmemAssignmentExpression</span><span class=p>(</span><span class=n>type_</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.AssignmentExpression href=#cpp_generator.AssignmentExpression>AssignmentExpression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-429>429</a></span>
<span class=normal><a href=#__codelineno-0-430>430</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-429><a id=__codelineno-0-429 name=__codelineno-0-429></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>type_</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>rhs</span><span class=p>):</span>
</span><span id=__span-0-430><a id=__codelineno-0-430 name=__codelineno-0-430></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>type_</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.RawExpression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">RawExpression</span> <a href=#cpp_generator.RawExpression class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>RawExpression</span><span class=p>(</span><span class=n>text</span><span class=p>:</span> <span class=n>str</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=bp>self</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=n>text</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.RawExpression.text class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">text</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.RawExpression.text class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>text</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.RawExpression.text href=#cpp_generator.RawExpression.text>text</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.RawStatement class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">RawStatement</span> <a href=#cpp_generator.RawStatement class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>RawStatement</span><span class=p>(</span><span class=n>text</span><span class=p>:</span> <span class=n>str</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Statement href=#cpp_generator.Statement>Statement</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-397>397</a></span>
<span class=normal><a href=#__codelineno-0-398>398</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-397><a id=__codelineno-0-397 name=__codelineno-0-397></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-398><a id=__codelineno-0-398 name=__codelineno-0-398></a>    <span class=bp>self</span><span class=o>.</span><span class=n>text</span> <span class=o>=</span> <span class=n>text</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.RawStatement.text class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">text</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.RawStatement.text class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>text</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.RawStatement.text href=#cpp_generator.RawStatement.text>text</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.Statement class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">Statement</span> <a href=#cpp_generator.Statement class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=abc.ABC>ABC</span></code></p> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.StaticConstAssignmentExpression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">StaticConstAssignmentExpression</span> <a href=#cpp_generator.StaticConstAssignmentExpression class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>StaticConstAssignmentExpression</span><span class=p>(</span><span class=n>type_</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.AssignmentExpression href=#cpp_generator.AssignmentExpression>AssignmentExpression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-439>439</a></span>
<span class=normal><a href=#__codelineno-0-440>440</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-439><a id=__codelineno-0-439 name=__codelineno-0-439></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>type_</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>rhs</span><span class=p>):</span>
</span><span id=__span-0-440><a id=__codelineno-0-440 name=__codelineno-0-440></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>type_</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.StringLiteral class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">StringLiteral</span> <a href=#cpp_generator.StringLiteral class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>StringLiteral</span><span class=p>(</span><span class=n>string</span><span class=p>:</span> <span class=n>str</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Literal href=#cpp_generator.Literal>Literal</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-250>250</a></span>
<span class=normal><a href=#__codelineno-0-251>251</a></span>
<span class=normal><a href=#__codelineno-0-252>252</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-250><a id=__codelineno-0-250 name=__codelineno-0-250></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>string</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-251><a id=__codelineno-0-251 name=__codelineno-0-251></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
</span><span id=__span-0-252><a id=__codelineno-0-252 name=__codelineno-0-252></a>    <span class=bp>self</span><span class=o>.</span><span class=n>string</span> <span class=o>=</span> <span class=n>string</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.StringLiteral.string class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">string</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.StringLiteral.string class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>string</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.StringLiteral.string href=#cpp_generator.StringLiteral.string>string</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.StructInitializer class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">StructInitializer</span> <a href=#cpp_generator.StructInitializer class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span>
<span class=normal><a href=#__codelineno-0-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>StructInitializer</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>base</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>tuple</span><span class=p>[</span><span class=n>str</span><span class=p>,</span> <span class=n><span title=typing.Optional>Optional</span></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>]]</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-142><a id=__codelineno-0-142 name=__codelineno-0-142></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>base</span><span class=p>:</span> <span class=n>Expression</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=nb>tuple</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Optional</span><span class=p>[</span><span class=n>SafeExpType</span><span class=p>]]):</span>
</span><span id=__span-0-143><a id=__codelineno-0-143 name=__codelineno-0-143></a>    <span class=bp>self</span><span class=o>.</span><span class=n>base</span> <span class=o>=</span> <span class=n>base</span>
</span><span id=__span-0-144><a id=__codelineno-0-144 name=__codelineno-0-144></a>    <span class=c1># TODO: args is always a Tuple, is this check required?</span>
</span><span id=__span-0-145><a id=__codelineno-0-145 name=__codelineno-0-145></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>args</span><span class=p>,</span> <span class=n>OrderedDict</span><span class=p>):</span>
</span><span id=__span-0-146><a id=__codelineno-0-146 name=__codelineno-0-146></a>        <span class=n>args</span> <span class=o>=</span> <span class=n>OrderedDict</span><span class=p>(</span><span class=n>args</span><span class=p>)</span>
</span><span id=__span-0-147><a id=__codelineno-0-147 name=__codelineno-0-147></a>    <span class=bp>self</span><span class=o>.</span><span class=n>args</span> <span class=o>=</span> <span class=n>OrderedDict</span><span class=p>()</span>
</span><span id=__span-0-148><a id=__codelineno-0-148 name=__codelineno-0-148></a>    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>args</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span><span id=__span-0-149><a id=__codelineno-0-149 name=__codelineno-0-149></a>        <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-150><a id=__codelineno-0-150 name=__codelineno-0-150></a>            <span class=k>continue</span>
</span><span id=__span-0-151><a id=__codelineno-0-151 name=__codelineno-0-151></a>        <span class=n>exp</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-152><a id=__codelineno-0-152 name=__codelineno-0-152></a>        <span class=bp>self</span><span class=o>.</span><span class=n>args</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>exp</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.StructInitializer.args class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">args</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.StructInitializer.args class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>args</span> <span class=o>=</span> <span class=n><span title=esphome.util.OrderedDict>OrderedDict</span></span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.StructInitializer.base class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">base</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.StructInitializer.base class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>base</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.StructInitializer.base href=#cpp_generator.StructInitializer.base>base</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.TemplateArguments class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">TemplateArguments</span> <a href=#cpp_generator.TemplateArguments class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>TemplateArguments</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-111><a id=__codelineno-0-111 name=__codelineno-0-111></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>):</span>
</span><span id=__span-0-112><a id=__codelineno-0-112 name=__codelineno-0-112></a>    <span class=bp>self</span><span class=o>.</span><span class=n>args</span> <span class=o>=</span> <span class=n>ExpressionList</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.TemplateArguments.args class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">args</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.TemplateArguments.args class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>args</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.ExpressionList href=#cpp_generator.ExpressionList>ExpressionList</a></span><span class=p>(</span><span class=o>*</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.TemplateArguments.args href=#cpp_generator.TemplateArguments.args>args</a></span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.UnaryOpExpression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">UnaryOpExpression</span> <a href=#cpp_generator.UnaryOpExpression class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>UnaryOpExpression</span><span class=p>(</span><span class=n>op</span><span class=p>:</span> <span class=n>str</span><span class=p>,</span> <span class=n>exp</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-327>327</a></span>
<span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-327><a id=__codelineno-0-327 name=__codelineno-0-327></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>op</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>exp</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>):</span>
</span><span id=__span-0-328><a id=__codelineno-0-328 name=__codelineno-0-328></a>    <span class=bp>self</span><span class=o>.</span><span class=n>op</span> <span class=o>=</span> <span class=n>op</span>
</span><span id=__span-0-329><a id=__codelineno-0-329 name=__codelineno-0-329></a>    <span class=bp>self</span><span class=o>.</span><span class=n>exp</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>exp</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.UnaryOpExpression.exp class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">exp</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.UnaryOpExpression.exp class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>exp</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.safe_exp href=#cpp_generator.safe_exp>safe_exp</a></span><span class=p>(</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.UnaryOpExpression.exp href=#cpp_generator.UnaryOpExpression.exp>exp</a></span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.UnaryOpExpression.op class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">op</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.UnaryOpExpression.op class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>op</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.UnaryOpExpression.op href=#cpp_generator.UnaryOpExpression.op>op</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=cpp_generator.VariableDeclarationExpression class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">VariableDeclarationExpression</span> <a href=#cpp_generator.VariableDeclarationExpression class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>VariableDeclarationExpression</span><span class=p>(</span><span class=n>type_</span><span class=p>,</span> <span class=n>modifier</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></code></p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-81><a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>type_</span><span class=p>,</span> <span class=n>modifier</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span><span id=__span-0-82><a id=__codelineno-0-82 name=__codelineno-0-82></a>    <span class=bp>self</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=n>type_</span>
</span><span id=__span-0-83><a id=__codelineno-0-83 name=__codelineno-0-83></a>    <span class=bp>self</span><span class=o>.</span><span class=n>modifier</span> <span class=o>=</span> <span class=n>modifier</span>
</span><span id=__span-0-84><a id=__codelineno-0-84 name=__codelineno-0-84></a>    <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.VariableDeclarationExpression.modifier class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">modifier</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.VariableDeclarationExpression.modifier class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>modifier</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.VariableDeclarationExpression.modifier href=#cpp_generator.VariableDeclarationExpression.modifier>modifier</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.VariableDeclarationExpression.name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">name</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.VariableDeclarationExpression.name class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>name</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.VariableDeclarationExpression.name href=#cpp_generator.VariableDeclarationExpression.name>name</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> <div class="doc doc-object doc-attribute"> <h4 id=cpp_generator.VariableDeclarationExpression.type class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">type</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small> </span> <a href=#cpp_generator.VariableDeclarationExpression.type class=headerlink title="Anchor link to this section for reference">&para;</a></h4> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=nb>type</span> <span class=o>=</span> <span class=n>type_</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.Pvariable class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">Pvariable</span> <a href=#cpp_generator.Pvariable class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>Pvariable</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>id_</span><span class=p>:</span> <span class=n><span title=esphome.core.ID>ID</span></span><span class=p>,</span> <span class=n>rhs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>,</span> <span class=n>type_</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Declare a new pointer variable in the code generation.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>id_</code></td> <td> <code><span title=esphome.core.ID>ID</span></code> </td> <td> <div class=doc-md-description> <p>The ID used to declare the variable.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>rhs</code></td> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></code> </td> <td> <div class=doc-md-description> <p>The expression to place on the right hand side of the assignment.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>type_</code></td> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></code> </td> <td> <div class=doc-md-description> <p>Manually define a type for the variable, only use this when it's not possible to do so during config validation phase (for example because of template arguments).</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></code> </td> <td> <div class=doc-md-description> <p>The new variable as a MockObj.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-544>544</a></span>
<span class=normal><a href=#__codelineno-0-545>545</a></span>
<span class=normal><a href=#__codelineno-0-546>546</a></span>
<span class=normal><a href=#__codelineno-0-547>547</a></span>
<span class=normal><a href=#__codelineno-0-548>548</a></span>
<span class=normal><a href=#__codelineno-0-549>549</a></span>
<span class=normal><a href=#__codelineno-0-550>550</a></span>
<span class=normal><a href=#__codelineno-0-551>551</a></span>
<span class=normal><a href=#__codelineno-0-552>552</a></span>
<span class=normal><a href=#__codelineno-0-553>553</a></span>
<span class=normal><a href=#__codelineno-0-554>554</a></span>
<span class=normal><a href=#__codelineno-0-555>555</a></span>
<span class=normal><a href=#__codelineno-0-556>556</a></span>
<span class=normal><a href=#__codelineno-0-557>557</a></span>
<span class=normal><a href=#__codelineno-0-558>558</a></span>
<span class=normal><a href=#__codelineno-0-559>559</a></span>
<span class=normal><a href=#__codelineno-0-560>560</a></span>
<span class=normal><a href=#__codelineno-0-561>561</a></span>
<span class=normal><a href=#__codelineno-0-562>562</a></span>
<span class=normal><a href=#__codelineno-0-563>563</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-544><a id=__codelineno-0-544 name=__codelineno-0-544></a><span class=k>def</span> <span class=nf>Pvariable</span><span class=p>(</span><span class=n>id_</span><span class=p>:</span> <span class=n>ID</span><span class=p>,</span> <span class=n>rhs</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>,</span> <span class=n>type_</span><span class=p>:</span> <span class=s2>&quot;MockObj&quot;</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObj&quot;</span><span class=p>:</span>
</span><span id=__span-0-545><a id=__codelineno-0-545 name=__codelineno-0-545></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Declare a new pointer variable in the code generation.</span>
</span><span id=__span-0-546><a id=__codelineno-0-546 name=__codelineno-0-546></a>
</span><span id=__span-0-547><a id=__codelineno-0-547 name=__codelineno-0-547></a><span class=sd>    :param id_: The ID used to declare the variable.</span>
</span><span id=__span-0-548><a id=__codelineno-0-548 name=__codelineno-0-548></a><span class=sd>    :param rhs: The expression to place on the right hand side of the assignment.</span>
</span><span id=__span-0-549><a id=__codelineno-0-549 name=__codelineno-0-549></a><span class=sd>    :param type_: Manually define a type for the variable, only use this when it&#39;s not possible</span>
</span><span id=__span-0-550><a id=__codelineno-0-550 name=__codelineno-0-550></a><span class=sd>      to do so during config validation phase (for example because of template arguments).</span>
</span><span id=__span-0-551><a id=__codelineno-0-551 name=__codelineno-0-551></a>
</span><span id=__span-0-552><a id=__codelineno-0-552 name=__codelineno-0-552></a><span class=sd>    :return: The new variable as a MockObj.</span>
</span><span id=__span-0-553><a id=__codelineno-0-553 name=__codelineno-0-553></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-554><a id=__codelineno-0-554 name=__codelineno-0-554></a>    <span class=n>rhs</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>rhs</span><span class=p>)</span>
</span><span id=__span-0-555><a id=__codelineno-0-555 name=__codelineno-0-555></a>    <span class=n>obj</span> <span class=o>=</span> <span class=n>MockObj</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=s2>&quot;-&gt;&quot;</span><span class=p>)</span>
</span><span id=__span-0-556><a id=__codelineno-0-556 name=__codelineno-0-556></a>    <span class=k>if</span> <span class=n>type_</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-557><a id=__codelineno-0-557 name=__codelineno-0-557></a>        <span class=n>id_</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=n>type_</span>
</span><span id=__span-0-558><a id=__codelineno-0-558 name=__codelineno-0-558></a>    <span class=n>decl</span> <span class=o>=</span> <span class=n>VariableDeclarationExpression</span><span class=p>(</span><span class=n>id_</span><span class=o>.</span><span class=n>type</span><span class=p>,</span> <span class=s2>&quot;*&quot;</span><span class=p>,</span> <span class=n>id_</span><span class=p>)</span>
</span><span id=__span-0-559><a id=__codelineno-0-559 name=__codelineno-0-559></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add_global</span><span class=p>(</span><span class=n>decl</span><span class=p>)</span>
</span><span id=__span-0-560><a id=__codelineno-0-560 name=__codelineno-0-560></a>    <span class=n>assignment</span> <span class=o>=</span> <span class=n>AssignmentExpression</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=n>id_</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span>
</span><span id=__span-0-561><a id=__codelineno-0-561 name=__codelineno-0-561></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>assignment</span><span class=p>)</span>
</span><span id=__span-0-562><a id=__codelineno-0-562 name=__codelineno-0-562></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>register_variable</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-563><a id=__codelineno-0-563 name=__codelineno-0-563></a>    <span class=k>return</span> <span class=n>obj</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.add class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">add</span> <a href=#cpp_generator.add class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>add</span><span class=p>(</span><span class=n>expression</span><span class=p>:</span> <span class=n><span title=typing.Union>Union</span></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.Statement href=#cpp_generator.Statement>Statement</a></span><span class=p>])</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Add an expression to the codegen section.</p> <p>After this is called, the given given expression will show up in the setup() function after this has been called.</p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-583>583</a></span>
<span class=normal><a href=#__codelineno-0-584>584</a></span>
<span class=normal><a href=#__codelineno-0-585>585</a></span>
<span class=normal><a href=#__codelineno-0-586>586</a></span>
<span class=normal><a href=#__codelineno-0-587>587</a></span>
<span class=normal><a href=#__codelineno-0-588>588</a></span>
<span class=normal><a href=#__codelineno-0-589>589</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-583><a id=__codelineno-0-583 name=__codelineno-0-583></a><span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=n>expression</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=n>Expression</span><span class=p>,</span> <span class=n>Statement</span><span class=p>]):</span>
</span><span id=__span-0-584><a id=__codelineno-0-584 name=__codelineno-0-584></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Add an expression to the codegen section.</span>
</span><span id=__span-0-585><a id=__codelineno-0-585 name=__codelineno-0-585></a>
</span><span id=__span-0-586><a id=__codelineno-0-586 name=__codelineno-0-586></a><span class=sd>    After this is called, the given given expression will</span>
</span><span id=__span-0-587><a id=__codelineno-0-587 name=__codelineno-0-587></a><span class=sd>    show up in the setup() function after this has been called.</span>
</span><span id=__span-0-588><a id=__codelineno-0-588 name=__codelineno-0-588></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-589><a id=__codelineno-0-589 name=__codelineno-0-589></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>expression</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.add_build_flag class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">add_build_flag</span> <a href=#cpp_generator.add_build_flag class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>add_build_flag</span><span class=p>(</span><span class=n>build_flag</span><span class=p>:</span> <span class=n>str</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Add a global build flag to the compiler flags.</p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-606>606</a></span>
<span class=normal><a href=#__codelineno-0-607>607</a></span>
<span class=normal><a href=#__codelineno-0-608>608</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-606><a id=__codelineno-0-606 name=__codelineno-0-606></a><span class=k>def</span> <span class=nf>add_build_flag</span><span class=p>(</span><span class=n>build_flag</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-607><a id=__codelineno-0-607 name=__codelineno-0-607></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Add a global build flag to the compiler flags.&quot;&quot;&quot;</span>
</span><span id=__span-0-608><a id=__codelineno-0-608 name=__codelineno-0-608></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add_build_flag</span><span class=p>(</span><span class=n>build_flag</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.add_define class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">add_define</span> <a href=#cpp_generator.add_define class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>add_define</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=n>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Add a global define to the auto-generated defines.h file.</p> <p>Optionally define a value to set this define to.</p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-611>611</a></span>
<span class=normal><a href=#__codelineno-0-612>612</a></span>
<span class=normal><a href=#__codelineno-0-613>613</a></span>
<span class=normal><a href=#__codelineno-0-614>614</a></span>
<span class=normal><a href=#__codelineno-0-615>615</a></span>
<span class=normal><a href=#__codelineno-0-616>616</a></span>
<span class=normal><a href=#__codelineno-0-617>617</a></span>
<span class=normal><a href=#__codelineno-0-618>618</a></span>
<span class=normal><a href=#__codelineno-0-619>619</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-611><a id=__codelineno-0-611 name=__codelineno-0-611></a><span class=k>def</span> <span class=nf>add_define</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=n>SafeExpType</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-612><a id=__codelineno-0-612 name=__codelineno-0-612></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Add a global define to the auto-generated defines.h file.</span>
</span><span id=__span-0-613><a id=__codelineno-0-613 name=__codelineno-0-613></a>
</span><span id=__span-0-614><a id=__codelineno-0-614 name=__codelineno-0-614></a><span class=sd>    Optionally define a value to set this define to.</span>
</span><span id=__span-0-615><a id=__codelineno-0-615 name=__codelineno-0-615></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-616><a id=__codelineno-0-616 name=__codelineno-0-616></a>    <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-617><a id=__codelineno-0-617 name=__codelineno-0-617></a>        <span class=n>CORE</span><span class=o>.</span><span class=n>add_define</span><span class=p>(</span><span class=n>Define</span><span class=p>(</span><span class=n>name</span><span class=p>))</span>
</span><span id=__span-0-618><a id=__codelineno-0-618 name=__codelineno-0-618></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-619><a id=__codelineno-0-619 name=__codelineno-0-619></a>        <span class=n>CORE</span><span class=o>.</span><span class=n>add_define</span><span class=p>(</span><span class=n>Define</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>value</span><span class=p>)))</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.add_global class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">add_global</span> <a href=#cpp_generator.add_global class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>add_global</span><span class=p>(</span><span class=n>expression</span><span class=p>:</span> <span class=n><span title=typing.Union>Union</span></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.Statement href=#cpp_generator.Statement>Statement</a></span><span class=p>])</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Add an expression to the codegen global storage (above setup()).</p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-592>592</a></span>
<span class=normal><a href=#__codelineno-0-593>593</a></span>
<span class=normal><a href=#__codelineno-0-594>594</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-592><a id=__codelineno-0-592 name=__codelineno-0-592></a><span class=k>def</span> <span class=nf>add_global</span><span class=p>(</span><span class=n>expression</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=n>SafeExpType</span><span class=p>,</span> <span class=n>Statement</span><span class=p>]):</span>
</span><span id=__span-0-593><a id=__codelineno-0-593 name=__codelineno-0-593></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Add an expression to the codegen global storage (above setup()).&quot;&quot;&quot;</span>
</span><span id=__span-0-594><a id=__codelineno-0-594 name=__codelineno-0-594></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add_global</span><span class=p>(</span><span class=n>expression</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.add_library class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">add_library</span> <a href=#cpp_generator.add_library class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span>
<span class=normal><a href=#__codelineno-0-4>4</a></span>
<span class=normal><a href=#__codelineno-0-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>add_library</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>name</span><span class=p>:</span> <span class=n>str</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=n>version</span><span class=p>:</span> <span class=n><span title=typing.Optional>Optional</span></span><span class=p>[</span><span class=n>str</span><span class=p>],</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a>    <span class=n>repository</span><span class=p>:</span> <span class=n><span title=typing.Optional>Optional</span></span><span class=p>[</span><span class=n>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Add a library to the codegen library storage.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>name</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The name of the library (for example 'AsyncTCP')</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>version</code></td> <td> <code><span title=typing.Optional>Optional</span>[str]</code> </td> <td> <div class=doc-md-description> <p>The version of the library, may be None.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-597>597</a></span>
<span class=normal><a href=#__codelineno-0-598>598</a></span>
<span class=normal><a href=#__codelineno-0-599>599</a></span>
<span class=normal><a href=#__codelineno-0-600>600</a></span>
<span class=normal><a href=#__codelineno-0-601>601</a></span>
<span class=normal><a href=#__codelineno-0-602>602</a></span>
<span class=normal><a href=#__codelineno-0-603>603</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-597><a id=__codelineno-0-597 name=__codelineno-0-597></a><span class=k>def</span> <span class=nf>add_library</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>version</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>repository</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-598><a id=__codelineno-0-598 name=__codelineno-0-598></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Add a library to the codegen library storage.</span>
</span><span id=__span-0-599><a id=__codelineno-0-599 name=__codelineno-0-599></a>
</span><span id=__span-0-600><a id=__codelineno-0-600 name=__codelineno-0-600></a><span class=sd>    :param name: The name of the library (for example &#39;AsyncTCP&#39;)</span>
</span><span id=__span-0-601><a id=__codelineno-0-601 name=__codelineno-0-601></a><span class=sd>    :param version: The version of the library, may be None.</span>
</span><span id=__span-0-602><a id=__codelineno-0-602 name=__codelineno-0-602></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-603><a id=__codelineno-0-603 name=__codelineno-0-603></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add_library</span><span class=p>(</span><span class=n>Library</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>version</span><span class=p>,</span> <span class=n>repository</span><span class=p>))</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.add_platformio_option class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">add_platformio_option</span> <a href=#cpp_generator.add_platformio_option class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>add_platformio_option</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>key</span><span class=p>:</span> <span class=n>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=n><span title=typing.Union>Union</span></span><span class=p>[</span><span class=n>str</span><span class=p>,</span> <span class=n>list</span><span class=p>[</span><span class=n>str</span><span class=p>]]</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-622>622</a></span>
<span class=normal><a href=#__codelineno-0-623>623</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-622><a id=__codelineno-0-622 name=__codelineno-0-622></a><span class=k>def</span> <span class=nf>add_platformio_option</span><span class=p>(</span><span class=n>key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]]):</span>
</span><span id=__span-0-623><a id=__codelineno-0-623 name=__codelineno-0-623></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add_platformio_option</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.get_variable class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_variable</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#cpp_generator.get_variable class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>get_variable</span><span class=p>(</span><span class=n>id_</span><span class=p>:</span> <span class=n><span title=esphome.core.ID>ID</span></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Wait for the given ID to be defined in the code generation and return it as a MockObj.</p> <p>This is a coroutine, you need to await it with a 'await' expression!</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>id_</code></td> <td> <code><span title=esphome.core.ID>ID</span></code> </td> <td> <div class=doc-md-description> <p>The ID to retrieve</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></code> </td> <td> <div class=doc-md-description> <p>The variable as a MockObj.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-626>626</a></span>
<span class=normal><a href=#__codelineno-0-627>627</a></span>
<span class=normal><a href=#__codelineno-0-628>628</a></span>
<span class=normal><a href=#__codelineno-0-629>629</a></span>
<span class=normal><a href=#__codelineno-0-630>630</a></span>
<span class=normal><a href=#__codelineno-0-631>631</a></span>
<span class=normal><a href=#__codelineno-0-632>632</a></span>
<span class=normal><a href=#__codelineno-0-633>633</a></span>
<span class=normal><a href=#__codelineno-0-634>634</a></span>
<span class=normal><a href=#__codelineno-0-635>635</a></span>
<span class=normal><a href=#__codelineno-0-636>636</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-626><a id=__codelineno-0-626 name=__codelineno-0-626></a><span class=k>async</span> <span class=k>def</span> <span class=nf>get_variable</span><span class=p>(</span><span class=n>id_</span><span class=p>:</span> <span class=n>ID</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObj&quot;</span><span class=p>:</span>
</span><span id=__span-0-627><a id=__codelineno-0-627 name=__codelineno-0-627></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-628><a id=__codelineno-0-628 name=__codelineno-0-628></a><span class=sd>    Wait for the given ID to be defined in the code generation and</span>
</span><span id=__span-0-629><a id=__codelineno-0-629 name=__codelineno-0-629></a><span class=sd>    return it as a MockObj.</span>
</span><span id=__span-0-630><a id=__codelineno-0-630 name=__codelineno-0-630></a>
</span><span id=__span-0-631><a id=__codelineno-0-631 name=__codelineno-0-631></a><span class=sd>    This is a coroutine, you need to await it with a &#39;await&#39; expression!</span>
</span><span id=__span-0-632><a id=__codelineno-0-632 name=__codelineno-0-632></a>
</span><span id=__span-0-633><a id=__codelineno-0-633 name=__codelineno-0-633></a><span class=sd>    :param id_: The ID to retrieve</span>
</span><span id=__span-0-634><a id=__codelineno-0-634 name=__codelineno-0-634></a><span class=sd>    :return: The variable as a MockObj.</span>
</span><span id=__span-0-635><a id=__codelineno-0-635 name=__codelineno-0-635></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-636><a id=__codelineno-0-636 name=__codelineno-0-636></a>    <span class=k>return</span> <span class=k>await</span> <span class=n>CORE</span><span class=o>.</span><span class=n>get_variable</span><span class=p>(</span><span class=n>id_</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.get_variable_with_full_id class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_variable_with_full_id</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#cpp_generator.get_variable_with_full_id class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>get_variable_with_full_id</span><span class=p>(</span><span class=n>id_</span><span class=p>:</span> <span class=n><span title=esphome.core.ID>ID</span></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>tuple</span><span class=p>[</span><span class=n><span title=esphome.core.ID>ID</span></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Wait for the given ID to be defined in the code generation and return it as a MockObj.</p> <p>This is a coroutine, you need to await it with a 'await' expression!</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>id_</code></td> <td> <code><span title=esphome.core.ID>ID</span></code> </td> <td> <div class=doc-md-description> <p>The ID to retrieve</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code>tuple[<span title=esphome.core.ID>ID</span>, <a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a>]</code> </td> <td> <div class=doc-md-description> <p>The variable as a MockObj.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-639>639</a></span>
<span class=normal><a href=#__codelineno-0-640>640</a></span>
<span class=normal><a href=#__codelineno-0-641>641</a></span>
<span class=normal><a href=#__codelineno-0-642>642</a></span>
<span class=normal><a href=#__codelineno-0-643>643</a></span>
<span class=normal><a href=#__codelineno-0-644>644</a></span>
<span class=normal><a href=#__codelineno-0-645>645</a></span>
<span class=normal><a href=#__codelineno-0-646>646</a></span>
<span class=normal><a href=#__codelineno-0-647>647</a></span>
<span class=normal><a href=#__codelineno-0-648>648</a></span>
<span class=normal><a href=#__codelineno-0-649>649</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-639><a id=__codelineno-0-639 name=__codelineno-0-639></a><span class=k>async</span> <span class=k>def</span> <span class=nf>get_variable_with_full_id</span><span class=p>(</span><span class=n>id_</span><span class=p>:</span> <span class=n>ID</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=n>ID</span><span class=p>,</span> <span class=s2>&quot;MockObj&quot;</span><span class=p>]:</span>
</span><span id=__span-0-640><a id=__codelineno-0-640 name=__codelineno-0-640></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-641><a id=__codelineno-0-641 name=__codelineno-0-641></a><span class=sd>    Wait for the given ID to be defined in the code generation and</span>
</span><span id=__span-0-642><a id=__codelineno-0-642 name=__codelineno-0-642></a><span class=sd>    return it as a MockObj.</span>
</span><span id=__span-0-643><a id=__codelineno-0-643 name=__codelineno-0-643></a>
</span><span id=__span-0-644><a id=__codelineno-0-644 name=__codelineno-0-644></a><span class=sd>    This is a coroutine, you need to await it with a &#39;await&#39; expression!</span>
</span><span id=__span-0-645><a id=__codelineno-0-645 name=__codelineno-0-645></a>
</span><span id=__span-0-646><a id=__codelineno-0-646 name=__codelineno-0-646></a><span class=sd>    :param id_: The ID to retrieve</span>
</span><span id=__span-0-647><a id=__codelineno-0-647 name=__codelineno-0-647></a><span class=sd>    :return: The variable as a MockObj.</span>
</span><span id=__span-0-648><a id=__codelineno-0-648 name=__codelineno-0-648></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-649><a id=__codelineno-0-649 name=__codelineno-0-649></a>    <span class=k>return</span> <span class=k>await</span> <span class=n>CORE</span><span class=o>.</span><span class=n>get_variable_with_full_id</span><span class=p>(</span><span class=n>id_</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.is_template class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">is_template</span> <a href=#cpp_generator.is_template class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>is_template</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Return if value is a lambda expression.</p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-706>706</a></span>
<span class=normal><a href=#__codelineno-0-707>707</a></span>
<span class=normal><a href=#__codelineno-0-708>708</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-706><a id=__codelineno-0-706 name=__codelineno-0-706></a><span class=k>def</span> <span class=nf>is_template</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-707><a id=__codelineno-0-707 name=__codelineno-0-707></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Return if value is a lambda expression.&quot;&quot;&quot;</span>
</span><span id=__span-0-708><a id=__codelineno-0-708 name=__codelineno-0-708></a>    <span class=k>return</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>Lambda</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.new_Pvariable class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">new_Pvariable</span> <a href=#cpp_generator.new_Pvariable class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>new_Pvariable</span><span class=p>(</span><span class=n>id_</span><span class=p>:</span> <span class=n><span title=esphome.core.ID>ID</span></span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.Pvariable href=#cpp_generator.Pvariable>Pvariable</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Declare a new pointer variable in the code generation by calling it's constructor with the given arguments.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>id_</code></td> <td> <code><span title=esphome.core.ID>ID</span></code> </td> <td> <div class=doc-md-description> <p>The ID used to declare the variable (also specifies the type).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>args</code></td> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></code> </td> <td> <div class=doc-md-description> <p>The values to pass to the constructor.</p> </div> </td> <td> <code>()</code> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.Pvariable href=#cpp_generator.Pvariable>Pvariable</a></code> </td> <td> <div class=doc-md-description> <p>The new variable as a MockObj.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-566>566</a></span>
<span class=normal><a href=#__codelineno-0-567>567</a></span>
<span class=normal><a href=#__codelineno-0-568>568</a></span>
<span class=normal><a href=#__codelineno-0-569>569</a></span>
<span class=normal><a href=#__codelineno-0-570>570</a></span>
<span class=normal><a href=#__codelineno-0-571>571</a></span>
<span class=normal><a href=#__codelineno-0-572>572</a></span>
<span class=normal><a href=#__codelineno-0-573>573</a></span>
<span class=normal><a href=#__codelineno-0-574>574</a></span>
<span class=normal><a href=#__codelineno-0-575>575</a></span>
<span class=normal><a href=#__codelineno-0-576>576</a></span>
<span class=normal><a href=#__codelineno-0-577>577</a></span>
<span class=normal><a href=#__codelineno-0-578>578</a></span>
<span class=normal><a href=#__codelineno-0-579>579</a></span>
<span class=normal><a href=#__codelineno-0-580>580</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-566><a id=__codelineno-0-566 name=__codelineno-0-566></a><span class=k>def</span> <span class=nf>new_Pvariable</span><span class=p>(</span><span class=n>id_</span><span class=p>:</span> <span class=n>ID</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Pvariable</span><span class=p>:</span>
</span><span id=__span-0-567><a id=__codelineno-0-567 name=__codelineno-0-567></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Declare a new pointer variable in the code generation by calling it&#39;s constructor</span>
</span><span id=__span-0-568><a id=__codelineno-0-568 name=__codelineno-0-568></a><span class=sd>    with the given arguments.</span>
</span><span id=__span-0-569><a id=__codelineno-0-569 name=__codelineno-0-569></a>
</span><span id=__span-0-570><a id=__codelineno-0-570 name=__codelineno-0-570></a><span class=sd>    :param id_: The ID used to declare the variable (also specifies the type).</span>
</span><span id=__span-0-571><a id=__codelineno-0-571 name=__codelineno-0-571></a><span class=sd>    :param args: The values to pass to the constructor.</span>
</span><span id=__span-0-572><a id=__codelineno-0-572 name=__codelineno-0-572></a>
</span><span id=__span-0-573><a id=__codelineno-0-573 name=__codelineno-0-573></a><span class=sd>    :return: The new variable as a MockObj.</span>
</span><span id=__span-0-574><a id=__codelineno-0-574 name=__codelineno-0-574></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-575><a id=__codelineno-0-575 name=__codelineno-0-575></a>    <span class=k>if</span> <span class=n>args</span> <span class=ow>and</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>TemplateArguments</span><span class=p>):</span>
</span><span id=__span-0-576><a id=__codelineno-0-576 name=__codelineno-0-576></a>        <span class=n>id_</span> <span class=o>=</span> <span class=n>id_</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span><span id=__span-0-577><a id=__codelineno-0-577 name=__codelineno-0-577></a>        <span class=n>id_</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=n>id_</span><span class=o>.</span><span class=n>type</span><span class=o>.</span><span class=n>template</span><span class=p>(</span><span class=n>args</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span><span id=__span-0-578><a id=__codelineno-0-578 name=__codelineno-0-578></a>        <span class=n>args</span> <span class=o>=</span> <span class=n>args</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span>
</span><span id=__span-0-579><a id=__codelineno-0-579 name=__codelineno-0-579></a>    <span class=n>rhs</span> <span class=o>=</span> <span class=n>id_</span><span class=o>.</span><span class=n>type</span><span class=o>.</span><span class=n>new</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>)</span>
</span><span id=__span-0-580><a id=__codelineno-0-580 name=__codelineno-0-580></a>    <span class=k>return</span> <span class=n>Pvariable</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.new_variable class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">new_variable</span> <a href=#cpp_generator.new_variable class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>new_variable</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>id_</span><span class=p>:</span> <span class=n><span title=esphome.core.ID>ID</span></span><span class=p>,</span> <span class=n>rhs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>,</span> <span class=n>type_</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Declare and define a new variable, not pointer type, in the code generation.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>id_</code></td> <td> <code><span title=esphome.core.ID>ID</span></code> </td> <td> <div class=doc-md-description> <p>The ID used to declare the variable.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>rhs</code></td> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></code> </td> <td> <div class=doc-md-description> <p>The expression to place on the right hand side of the assignment.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>type_</code></td> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></code> </td> <td> <div class=doc-md-description> <p>Manually define a type for the variable, only use this when it's not possible to do so during config validation phase (for example because of template arguments).</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></code> </td> <td> <div class=doc-md-description> <p>The new variable as a MockObj.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-521>521</a></span>
<span class=normal><a href=#__codelineno-0-522>522</a></span>
<span class=normal><a href=#__codelineno-0-523>523</a></span>
<span class=normal><a href=#__codelineno-0-524>524</a></span>
<span class=normal><a href=#__codelineno-0-525>525</a></span>
<span class=normal><a href=#__codelineno-0-526>526</a></span>
<span class=normal><a href=#__codelineno-0-527>527</a></span>
<span class=normal><a href=#__codelineno-0-528>528</a></span>
<span class=normal><a href=#__codelineno-0-529>529</a></span>
<span class=normal><a href=#__codelineno-0-530>530</a></span>
<span class=normal><a href=#__codelineno-0-531>531</a></span>
<span class=normal><a href=#__codelineno-0-532>532</a></span>
<span class=normal><a href=#__codelineno-0-533>533</a></span>
<span class=normal><a href=#__codelineno-0-534>534</a></span>
<span class=normal><a href=#__codelineno-0-535>535</a></span>
<span class=normal><a href=#__codelineno-0-536>536</a></span>
<span class=normal><a href=#__codelineno-0-537>537</a></span>
<span class=normal><a href=#__codelineno-0-538>538</a></span>
<span class=normal><a href=#__codelineno-0-539>539</a></span>
<span class=normal><a href=#__codelineno-0-540>540</a></span>
<span class=normal><a href=#__codelineno-0-541>541</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-521><a id=__codelineno-0-521 name=__codelineno-0-521></a><span class=k>def</span> <span class=nf>new_variable</span><span class=p>(</span><span class=n>id_</span><span class=p>:</span> <span class=n>ID</span><span class=p>,</span> <span class=n>rhs</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>,</span> <span class=n>type_</span><span class=p>:</span> <span class=s2>&quot;MockObj&quot;</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObj&quot;</span><span class=p>:</span>
</span><span id=__span-0-522><a id=__codelineno-0-522 name=__codelineno-0-522></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Declare and define a new variable, not pointer type, in the code generation.</span>
</span><span id=__span-0-523><a id=__codelineno-0-523 name=__codelineno-0-523></a>
</span><span id=__span-0-524><a id=__codelineno-0-524 name=__codelineno-0-524></a><span class=sd>    :param id_: The ID used to declare the variable.</span>
</span><span id=__span-0-525><a id=__codelineno-0-525 name=__codelineno-0-525></a><span class=sd>    :param rhs: The expression to place on the right hand side of the assignment.</span>
</span><span id=__span-0-526><a id=__codelineno-0-526 name=__codelineno-0-526></a><span class=sd>    :param type_: Manually define a type for the variable, only use this when it&#39;s not possible</span>
</span><span id=__span-0-527><a id=__codelineno-0-527 name=__codelineno-0-527></a><span class=sd>      to do so during config validation phase (for example because of template arguments).</span>
</span><span id=__span-0-528><a id=__codelineno-0-528 name=__codelineno-0-528></a>
</span><span id=__span-0-529><a id=__codelineno-0-529 name=__codelineno-0-529></a><span class=sd>    :return: The new variable as a MockObj.</span>
</span><span id=__span-0-530><a id=__codelineno-0-530 name=__codelineno-0-530></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-531><a id=__codelineno-0-531 name=__codelineno-0-531></a>    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>ID</span><span class=p>)</span>
</span><span id=__span-0-532><a id=__codelineno-0-532 name=__codelineno-0-532></a>    <span class=n>rhs</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>rhs</span><span class=p>)</span>
</span><span id=__span-0-533><a id=__codelineno-0-533 name=__codelineno-0-533></a>    <span class=n>obj</span> <span class=o>=</span> <span class=n>MockObj</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=s2>&quot;.&quot;</span><span class=p>)</span>
</span><span id=__span-0-534><a id=__codelineno-0-534 name=__codelineno-0-534></a>    <span class=k>if</span> <span class=n>type_</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-535><a id=__codelineno-0-535 name=__codelineno-0-535></a>        <span class=n>id_</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=n>type_</span>
</span><span id=__span-0-536><a id=__codelineno-0-536 name=__codelineno-0-536></a>    <span class=n>decl</span> <span class=o>=</span> <span class=n>VariableDeclarationExpression</span><span class=p>(</span><span class=n>id_</span><span class=o>.</span><span class=n>type</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>,</span> <span class=n>id_</span><span class=p>)</span>
</span><span id=__span-0-537><a id=__codelineno-0-537 name=__codelineno-0-537></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add_global</span><span class=p>(</span><span class=n>decl</span><span class=p>)</span>
</span><span id=__span-0-538><a id=__codelineno-0-538 name=__codelineno-0-538></a>    <span class=n>assignment</span> <span class=o>=</span> <span class=n>AssignmentExpression</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>,</span> <span class=n>id_</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span>
</span><span id=__span-0-539><a id=__codelineno-0-539 name=__codelineno-0-539></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>assignment</span><span class=p>)</span>
</span><span id=__span-0-540><a id=__codelineno-0-540 name=__codelineno-0-540></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>register_variable</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-541><a id=__codelineno-0-541 name=__codelineno-0-541></a>    <span class=k>return</span> <span class=n>obj</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.process_lambda class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">process_lambda</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#cpp_generator.process_lambda class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span>
<span class=normal><a href=#__codelineno-0-4>4</a></span>
<span class=normal><a href=#__codelineno-0-5>5</a></span>
<span class=normal><a href=#__codelineno-0-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>process_lambda</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>value</span><span class=p>:</span> <span class=n><span title=esphome.core.Lambda>Lambda</span></span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=n>parameters</span><span class=p>:</span> <span class=n>list</span><span class=p>[</span><span class=n>tuple</span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>,</span> <span class=n>str</span><span class=p>]],</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a>    <span class=n>capture</span><span class=p>:</span> <span class=n>str</span> <span class=o>=</span> <span class=s2>&quot;=&quot;</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a>    <span class=n>return_type</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><span title=collections.abc.Generator>Generator</span></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.LambdaExpression href=#cpp_generator.LambdaExpression>LambdaExpression</a></span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>]</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Process the given lambda value into a LambdaExpression.</p> <p>This is a coroutine because lambdas can depend on other IDs, you need to await it with 'await'!</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>value</code></td> <td> <code><span title=esphome.core.Lambda>Lambda</span></code> </td> <td> <div class=doc-md-description> <p>The lambda to process.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>parameters</code></td> <td> <code>list[tuple[<a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a>, str]]</code> </td> <td> <div class=doc-md-description> <p>The parameters to pass to the Lambda, list of tuples</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>capture</code></td> <td> <code>str</code> </td> <td> <div class=doc-md-description> <p>The capture expression for the lambda, usually ''.</p> </div> </td> <td> <code>&#39;=&#39;</code> </td> </tr> <tr> <td><code>return_type</code></td> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></code> </td> <td> <div class=doc-md-description> <p>The return type of the lambda.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><span title=collections.abc.Generator>Generator</span>[<a class="autorefs autorefs-internal" title=cpp_generator.LambdaExpression href=#cpp_generator.LambdaExpression>LambdaExpression</a>, None, None]</code> </td> <td> <div class=doc-md-description> <p>The generated lambda expression.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-652>652</a></span>
<span class=normal><a href=#__codelineno-0-653>653</a></span>
<span class=normal><a href=#__codelineno-0-654>654</a></span>
<span class=normal><a href=#__codelineno-0-655>655</a></span>
<span class=normal><a href=#__codelineno-0-656>656</a></span>
<span class=normal><a href=#__codelineno-0-657>657</a></span>
<span class=normal><a href=#__codelineno-0-658>658</a></span>
<span class=normal><a href=#__codelineno-0-659>659</a></span>
<span class=normal><a href=#__codelineno-0-660>660</a></span>
<span class=normal><a href=#__codelineno-0-661>661</a></span>
<span class=normal><a href=#__codelineno-0-662>662</a></span>
<span class=normal><a href=#__codelineno-0-663>663</a></span>
<span class=normal><a href=#__codelineno-0-664>664</a></span>
<span class=normal><a href=#__codelineno-0-665>665</a></span>
<span class=normal><a href=#__codelineno-0-666>666</a></span>
<span class=normal><a href=#__codelineno-0-667>667</a></span>
<span class=normal><a href=#__codelineno-0-668>668</a></span>
<span class=normal><a href=#__codelineno-0-669>669</a></span>
<span class=normal><a href=#__codelineno-0-670>670</a></span>
<span class=normal><a href=#__codelineno-0-671>671</a></span>
<span class=normal><a href=#__codelineno-0-672>672</a></span>
<span class=normal><a href=#__codelineno-0-673>673</a></span>
<span class=normal><a href=#__codelineno-0-674>674</a></span>
<span class=normal><a href=#__codelineno-0-675>675</a></span>
<span class=normal><a href=#__codelineno-0-676>676</a></span>
<span class=normal><a href=#__codelineno-0-677>677</a></span>
<span class=normal><a href=#__codelineno-0-678>678</a></span>
<span class=normal><a href=#__codelineno-0-679>679</a></span>
<span class=normal><a href=#__codelineno-0-680>680</a></span>
<span class=normal><a href=#__codelineno-0-681>681</a></span>
<span class=normal><a href=#__codelineno-0-682>682</a></span>
<span class=normal><a href=#__codelineno-0-683>683</a></span>
<span class=normal><a href=#__codelineno-0-684>684</a></span>
<span class=normal><a href=#__codelineno-0-685>685</a></span>
<span class=normal><a href=#__codelineno-0-686>686</a></span>
<span class=normal><a href=#__codelineno-0-687>687</a></span>
<span class=normal><a href=#__codelineno-0-688>688</a></span>
<span class=normal><a href=#__codelineno-0-689>689</a></span>
<span class=normal><a href=#__codelineno-0-690>690</a></span>
<span class=normal><a href=#__codelineno-0-691>691</a></span>
<span class=normal><a href=#__codelineno-0-692>692</a></span>
<span class=normal><a href=#__codelineno-0-693>693</a></span>
<span class=normal><a href=#__codelineno-0-694>694</a></span>
<span class=normal><a href=#__codelineno-0-695>695</a></span>
<span class=normal><a href=#__codelineno-0-696>696</a></span>
<span class=normal><a href=#__codelineno-0-697>697</a></span>
<span class=normal><a href=#__codelineno-0-698>698</a></span>
<span class=normal><a href=#__codelineno-0-699>699</a></span>
<span class=normal><a href=#__codelineno-0-700>700</a></span>
<span class=normal><a href=#__codelineno-0-701>701</a></span>
<span class=normal><a href=#__codelineno-0-702>702</a></span>
<span class=normal><a href=#__codelineno-0-703>703</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-652><a id=__codelineno-0-652 name=__codelineno-0-652></a><span class=k>async</span> <span class=k>def</span> <span class=nf>process_lambda</span><span class=p>(</span>
</span><span id=__span-0-653><a id=__codelineno-0-653 name=__codelineno-0-653></a>    <span class=n>value</span><span class=p>:</span> <span class=n>Lambda</span><span class=p>,</span>
</span><span id=__span-0-654><a id=__codelineno-0-654 name=__codelineno-0-654></a>    <span class=n>parameters</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>tuple</span><span class=p>[</span><span class=n>SafeExpType</span><span class=p>,</span> <span class=nb>str</span><span class=p>]],</span>
</span><span id=__span-0-655><a id=__codelineno-0-655 name=__codelineno-0-655></a>    <span class=n>capture</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;=&quot;</span><span class=p>,</span>
</span><span id=__span-0-656><a id=__codelineno-0-656 name=__codelineno-0-656></a>    <span class=n>return_type</span><span class=p>:</span> <span class=n>SafeExpType</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-657><a id=__codelineno-0-657 name=__codelineno-0-657></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Generator</span><span class=p>[</span><span class=n>LambdaExpression</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>]:</span>
</span><span id=__span-0-658><a id=__codelineno-0-658 name=__codelineno-0-658></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Process the given lambda value into a LambdaExpression.</span>
</span><span id=__span-0-659><a id=__codelineno-0-659 name=__codelineno-0-659></a>
</span><span id=__span-0-660><a id=__codelineno-0-660 name=__codelineno-0-660></a><span class=sd>    This is a coroutine because lambdas can depend on other IDs,</span>
</span><span id=__span-0-661><a id=__codelineno-0-661 name=__codelineno-0-661></a><span class=sd>    you need to await it with &#39;await&#39;!</span>
</span><span id=__span-0-662><a id=__codelineno-0-662 name=__codelineno-0-662></a>
</span><span id=__span-0-663><a id=__codelineno-0-663 name=__codelineno-0-663></a><span class=sd>    :param value: The lambda to process.</span>
</span><span id=__span-0-664><a id=__codelineno-0-664 name=__codelineno-0-664></a><span class=sd>    :param parameters: The parameters to pass to the Lambda, list of tuples</span>
</span><span id=__span-0-665><a id=__codelineno-0-665 name=__codelineno-0-665></a><span class=sd>    :param capture: The capture expression for the lambda, usually &#39;&#39;.</span>
</span><span id=__span-0-666><a id=__codelineno-0-666 name=__codelineno-0-666></a><span class=sd>    :param return_type: The return type of the lambda.</span>
</span><span id=__span-0-667><a id=__codelineno-0-667 name=__codelineno-0-667></a><span class=sd>    :return: The generated lambda expression.</span>
</span><span id=__span-0-668><a id=__codelineno-0-668 name=__codelineno-0-668></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-669><a id=__codelineno-0-669 name=__codelineno-0-669></a>    <span class=kn>from</span> <span class=nn>esphome.components.globals</span> <span class=kn>import</span> <span class=p>(</span>
</span><span id=__span-0-670><a id=__codelineno-0-670 name=__codelineno-0-670></a>        <span class=n>GlobalsComponent</span><span class=p>,</span>
</span><span id=__span-0-671><a id=__codelineno-0-671 name=__codelineno-0-671></a>        <span class=n>RestoringGlobalsComponent</span><span class=p>,</span>
</span><span id=__span-0-672><a id=__codelineno-0-672 name=__codelineno-0-672></a>        <span class=n>RestoringGlobalStringComponent</span><span class=p>,</span>
</span><span id=__span-0-673><a id=__codelineno-0-673 name=__codelineno-0-673></a>    <span class=p>)</span>
</span><span id=__span-0-674><a id=__codelineno-0-674 name=__codelineno-0-674></a>
</span><span id=__span-0-675><a id=__codelineno-0-675 name=__codelineno-0-675></a>    <span class=k>if</span> <span class=n>value</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-676><a id=__codelineno-0-676 name=__codelineno-0-676></a>        <span class=k>return</span>
</span><span id=__span-0-677><a id=__codelineno-0-677 name=__codelineno-0-677></a>    <span class=n>parts</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>parts</span><span class=p>[:]</span>
</span><span id=__span-0-678><a id=__codelineno-0-678 name=__codelineno-0-678></a>    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=nb>id</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>value</span><span class=o>.</span><span class=n>requires_ids</span><span class=p>):</span>
</span><span id=__span-0-679><a id=__codelineno-0-679 name=__codelineno-0-679></a>        <span class=n>full_id</span><span class=p>,</span> <span class=n>var</span> <span class=o>=</span> <span class=k>await</span> <span class=n>get_variable_with_full_id</span><span class=p>(</span><span class=nb>id</span><span class=p>)</span>
</span><span id=__span-0-680><a id=__codelineno-0-680 name=__codelineno-0-680></a>        <span class=k>if</span> <span class=p>(</span>
</span><span id=__span-0-681><a id=__codelineno-0-681 name=__codelineno-0-681></a>            <span class=n>full_id</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
</span><span id=__span-0-682><a id=__codelineno-0-682 name=__codelineno-0-682></a>            <span class=ow>and</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>full_id</span><span class=o>.</span><span class=n>type</span><span class=p>,</span> <span class=n>MockObjClass</span><span class=p>)</span>
</span><span id=__span-0-683><a id=__codelineno-0-683 name=__codelineno-0-683></a>            <span class=ow>and</span> <span class=p>(</span>
</span><span id=__span-0-684><a id=__codelineno-0-684 name=__codelineno-0-684></a>                <span class=n>full_id</span><span class=o>.</span><span class=n>type</span><span class=o>.</span><span class=n>inherits_from</span><span class=p>(</span><span class=n>GlobalsComponent</span><span class=p>)</span>
</span><span id=__span-0-685><a id=__codelineno-0-685 name=__codelineno-0-685></a>                <span class=ow>or</span> <span class=n>full_id</span><span class=o>.</span><span class=n>type</span><span class=o>.</span><span class=n>inherits_from</span><span class=p>(</span><span class=n>RestoringGlobalsComponent</span><span class=p>)</span>
</span><span id=__span-0-686><a id=__codelineno-0-686 name=__codelineno-0-686></a>                <span class=ow>or</span> <span class=n>full_id</span><span class=o>.</span><span class=n>type</span><span class=o>.</span><span class=n>inherits_from</span><span class=p>(</span><span class=n>RestoringGlobalStringComponent</span><span class=p>)</span>
</span><span id=__span-0-687><a id=__codelineno-0-687 name=__codelineno-0-687></a>            <span class=p>)</span>
</span><span id=__span-0-688><a id=__codelineno-0-688 name=__codelineno-0-688></a>        <span class=p>):</span>
</span><span id=__span-0-689><a id=__codelineno-0-689 name=__codelineno-0-689></a>            <span class=n>parts</span><span class=p>[</span><span class=n>i</span> <span class=o>*</span> <span class=mi>3</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>var</span><span class=o>.</span><span class=n>value</span><span class=p>()</span>
</span><span id=__span-0-690><a id=__codelineno-0-690 name=__codelineno-0-690></a>            <span class=k>continue</span>
</span><span id=__span-0-691><a id=__codelineno-0-691 name=__codelineno-0-691></a>
</span><span id=__span-0-692><a id=__codelineno-0-692 name=__codelineno-0-692></a>        <span class=k>if</span> <span class=n>parts</span><span class=p>[</span><span class=n>i</span> <span class=o>*</span> <span class=mi>3</span> <span class=o>+</span> <span class=mi>2</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;.&quot;</span><span class=p>:</span>
</span><span id=__span-0-693><a id=__codelineno-0-693 name=__codelineno-0-693></a>            <span class=n>parts</span><span class=p>[</span><span class=n>i</span> <span class=o>*</span> <span class=mi>3</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>var</span><span class=o>.</span><span class=n>_</span>
</span><span id=__span-0-694><a id=__codelineno-0-694 name=__codelineno-0-694></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-695><a id=__codelineno-0-695 name=__codelineno-0-695></a>            <span class=n>parts</span><span class=p>[</span><span class=n>i</span> <span class=o>*</span> <span class=mi>3</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>var</span>
</span><span id=__span-0-696><a id=__codelineno-0-696 name=__codelineno-0-696></a>        <span class=n>parts</span><span class=p>[</span><span class=n>i</span> <span class=o>*</span> <span class=mi>3</span> <span class=o>+</span> <span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
</span><span id=__span-0-697><a id=__codelineno-0-697 name=__codelineno-0-697></a>
</span><span id=__span-0-698><a id=__codelineno-0-698 name=__codelineno-0-698></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>ESPHomeDataBase</span><span class=p>)</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>esp_range</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-699><a id=__codelineno-0-699 name=__codelineno-0-699></a>        <span class=n>location</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>esp_range</span><span class=o>.</span><span class=n>start_mark</span>
</span><span id=__span-0-700><a id=__codelineno-0-700 name=__codelineno-0-700></a>        <span class=n>location</span><span class=o>.</span><span class=n>line</span> <span class=o>+=</span> <span class=n>value</span><span class=o>.</span><span class=n>content_offset</span>
</span><span id=__span-0-701><a id=__codelineno-0-701 name=__codelineno-0-701></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-702><a id=__codelineno-0-702 name=__codelineno-0-702></a>        <span class=n>location</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-703><a id=__codelineno-0-703 name=__codelineno-0-703></a>    <span class=k>return</span> <span class=n>LambdaExpression</span><span class=p>(</span><span class=n>parts</span><span class=p>,</span> <span class=n>parameters</span><span class=p>,</span> <span class=n>capture</span><span class=p>,</span> <span class=n>return_type</span><span class=p>,</span> <span class=n>location</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.progmem_array class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">progmem_array</span> <a href=#cpp_generator.progmem_array class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>progmem_array</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-446>446</a></span>
<span class=normal><a href=#__codelineno-0-447>447</a></span>
<span class=normal><a href=#__codelineno-0-448>448</a></span>
<span class=normal><a href=#__codelineno-0-449>449</a></span>
<span class=normal><a href=#__codelineno-0-450>450</a></span>
<span class=normal><a href=#__codelineno-0-451>451</a></span>
<span class=normal><a href=#__codelineno-0-452>452</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-446><a id=__codelineno-0-446 name=__codelineno-0-446></a><span class=k>def</span> <span class=nf>progmem_array</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObj&quot;</span><span class=p>:</span>
</span><span id=__span-0-447><a id=__codelineno-0-447 name=__codelineno-0-447></a>    <span class=n>rhs</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>rhs</span><span class=p>)</span>
</span><span id=__span-0-448><a id=__codelineno-0-448 name=__codelineno-0-448></a>    <span class=n>obj</span> <span class=o>=</span> <span class=n>MockObj</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=s2>&quot;.&quot;</span><span class=p>)</span>
</span><span id=__span-0-449><a id=__codelineno-0-449 name=__codelineno-0-449></a>    <span class=n>assignment</span> <span class=o>=</span> <span class=n>ProgmemAssignmentExpression</span><span class=p>(</span><span class=n>id_</span><span class=o>.</span><span class=n>type</span><span class=p>,</span> <span class=n>id_</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span>
</span><span id=__span-0-450><a id=__codelineno-0-450 name=__codelineno-0-450></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>assignment</span><span class=p>)</span>
</span><span id=__span-0-451><a id=__codelineno-0-451 name=__codelineno-0-451></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>register_variable</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-452><a id=__codelineno-0-452 name=__codelineno-0-452></a>    <span class=k>return</span> <span class=n>obj</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.safe_exp class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">safe_exp</span> <a href=#cpp_generator.safe_exp class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>safe_exp</span><span class=p>(</span><span class=n>obj</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Try to convert obj to an expression by automatically converting native python types to expressions/literals.</p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-335>335</a></span>
<span class=normal><a href=#__codelineno-0-336>336</a></span>
<span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span>
<span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span>
<span class=normal><a href=#__codelineno-0-360>360</a></span>
<span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span>
<span class=normal><a href=#__codelineno-0-366>366</a></span>
<span class=normal><a href=#__codelineno-0-367>367</a></span>
<span class=normal><a href=#__codelineno-0-368>368</a></span>
<span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span>
<span class=normal><a href=#__codelineno-0-371>371</a></span>
<span class=normal><a href=#__codelineno-0-372>372</a></span>
<span class=normal><a href=#__codelineno-0-373>373</a></span>
<span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-335><a id=__codelineno-0-335 name=__codelineno-0-335></a><span class=k>def</span> <span class=nf>safe_exp</span><span class=p>(</span><span class=n>obj</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Expression</span><span class=p>:</span>
</span><span id=__span-0-336><a id=__codelineno-0-336 name=__codelineno-0-336></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Try to convert obj to an expression by automatically converting native python types to</span>
</span><span id=__span-0-337><a id=__codelineno-0-337 name=__codelineno-0-337></a><span class=sd>    expressions/literals.</span>
</span><span id=__span-0-338><a id=__codelineno-0-338 name=__codelineno-0-338></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339></a>    <span class=kn>from</span> <span class=nn>esphome.cpp_types</span> <span class=kn>import</span> <span class=n>bool_</span><span class=p>,</span> <span class=n>float_</span><span class=p>,</span> <span class=n>int32</span>
</span><span id=__span-0-340><a id=__codelineno-0-340 name=__codelineno-0-340></a>
</span><span id=__span-0-341><a id=__codelineno-0-341 name=__codelineno-0-341></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>Expression</span><span class=p>):</span>
</span><span id=__span-0-342><a id=__codelineno-0-342 name=__codelineno-0-342></a>        <span class=k>return</span> <span class=n>obj</span>
</span><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>EnumValue</span><span class=p>):</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a>        <span class=k>return</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>enum_value</span><span class=p>)</span>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=nb>bool</span><span class=p>):</span>
</span><span id=__span-0-346><a id=__codelineno-0-346 name=__codelineno-0-346></a>        <span class=k>return</span> <span class=n>BoolLiteral</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-347><a id=__codelineno-0-347 name=__codelineno-0-347></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-348><a id=__codelineno-0-348 name=__codelineno-0-348></a>        <span class=k>return</span> <span class=n>StringLiteral</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-349><a id=__codelineno-0-349 name=__codelineno-0-349></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>HexInt</span><span class=p>):</span>
</span><span id=__span-0-350><a id=__codelineno-0-350 name=__codelineno-0-350></a>        <span class=k>return</span> <span class=n>HexIntLiteral</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-351><a id=__codelineno-0-351 name=__codelineno-0-351></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
</span><span id=__span-0-352><a id=__codelineno-0-352 name=__codelineno-0-352></a>        <span class=k>return</span> <span class=n>IntLiteral</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-353><a id=__codelineno-0-353 name=__codelineno-0-353></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=nb>float</span><span class=p>):</span>
</span><span id=__span-0-354><a id=__codelineno-0-354 name=__codelineno-0-354></a>        <span class=k>return</span> <span class=n>FloatLiteral</span><span class=p>(</span><span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-355><a id=__codelineno-0-355 name=__codelineno-0-355></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>TimePeriodNanoseconds</span><span class=p>):</span>
</span><span id=__span-0-356><a id=__codelineno-0-356 name=__codelineno-0-356></a>        <span class=k>return</span> <span class=n>IntLiteral</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>total_nanoseconds</span><span class=p>))</span>
</span><span id=__span-0-357><a id=__codelineno-0-357 name=__codelineno-0-357></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>TimePeriodMicroseconds</span><span class=p>):</span>
</span><span id=__span-0-358><a id=__codelineno-0-358 name=__codelineno-0-358></a>        <span class=k>return</span> <span class=n>IntLiteral</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>total_microseconds</span><span class=p>))</span>
</span><span id=__span-0-359><a id=__codelineno-0-359 name=__codelineno-0-359></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>TimePeriodMilliseconds</span><span class=p>):</span>
</span><span id=__span-0-360><a id=__codelineno-0-360 name=__codelineno-0-360></a>        <span class=k>return</span> <span class=n>IntLiteral</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>total_milliseconds</span><span class=p>))</span>
</span><span id=__span-0-361><a id=__codelineno-0-361 name=__codelineno-0-361></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>TimePeriodSeconds</span><span class=p>):</span>
</span><span id=__span-0-362><a id=__codelineno-0-362 name=__codelineno-0-362></a>        <span class=k>return</span> <span class=n>IntLiteral</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>total_seconds</span><span class=p>))</span>
</span><span id=__span-0-363><a id=__codelineno-0-363 name=__codelineno-0-363></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>TimePeriodMinutes</span><span class=p>):</span>
</span><span id=__span-0-364><a id=__codelineno-0-364 name=__codelineno-0-364></a>        <span class=k>return</span> <span class=n>IntLiteral</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>total_minutes</span><span class=p>))</span>
</span><span id=__span-0-365><a id=__codelineno-0-365 name=__codelineno-0-365></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=p>(</span><span class=nb>tuple</span><span class=p>,</span> <span class=nb>list</span><span class=p>)):</span>
</span><span id=__span-0-366><a id=__codelineno-0-366 name=__codelineno-0-366></a>        <span class=k>return</span> <span class=n>ArrayInitializer</span><span class=p>(</span><span class=o>*</span><span class=p>[</span><span class=n>safe_exp</span><span class=p>(</span><span class=n>o</span><span class=p>)</span> <span class=k>for</span> <span class=n>o</span> <span class=ow>in</span> <span class=n>obj</span><span class=p>])</span>
</span><span id=__span-0-367><a id=__codelineno-0-367 name=__codelineno-0-367></a>    <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-0-368><a id=__codelineno-0-368 name=__codelineno-0-368></a>        <span class=k>return</span> <span class=n>bool_</span>
</span><span id=__span-0-369><a id=__codelineno-0-369 name=__codelineno-0-369></a>    <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=nb>int</span><span class=p>:</span>
</span><span id=__span-0-370><a id=__codelineno-0-370 name=__codelineno-0-370></a>        <span class=k>return</span> <span class=n>int32</span>
</span><span id=__span-0-371><a id=__codelineno-0-371 name=__codelineno-0-371></a>    <span class=k>if</span> <span class=n>obj</span> <span class=ow>is</span> <span class=nb>float</span><span class=p>:</span>
</span><span id=__span-0-372><a id=__codelineno-0-372 name=__codelineno-0-372></a>        <span class=k>return</span> <span class=n>float_</span>
</span><span id=__span-0-373><a id=__codelineno-0-373 name=__codelineno-0-373></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>ID</span><span class=p>):</span>
</span><span id=__span-0-374><a id=__codelineno-0-374 name=__codelineno-0-374></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
</span><span id=__span-0-375><a id=__codelineno-0-375 name=__codelineno-0-375></a>            <span class=sa>f</span><span class=s2>&quot;Object </span><span class=si>{</span><span class=n>obj</span><span class=si>}</span><span class=s2> is an ID. Did you forget to register the variable?&quot;</span>
</span><span id=__span-0-376><a id=__codelineno-0-376 name=__codelineno-0-376></a>        <span class=p>)</span>
</span><span id=__span-0-377><a id=__codelineno-0-377 name=__codelineno-0-377></a>    <span class=k>if</span> <span class=n>inspect</span><span class=o>.</span><span class=n>isgenerator</span><span class=p>(</span><span class=n>obj</span><span class=p>):</span>
</span><span id=__span-0-378><a id=__codelineno-0-378 name=__codelineno-0-378></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
</span><span id=__span-0-379><a id=__codelineno-0-379 name=__codelineno-0-379></a>            <span class=sa>f</span><span class=s2>&quot;Object </span><span class=si>{</span><span class=n>obj</span><span class=si>}</span><span class=s2> is a coroutine. Did you forget to await the expression with &#39;await&#39;?&quot;</span>
</span><span id=__span-0-380><a id=__codelineno-0-380 name=__codelineno-0-380></a>        <span class=p>)</span>
</span><span id=__span-0-381><a id=__codelineno-0-381 name=__codelineno-0-381></a>    <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;Object is not an expression&quot;</span><span class=p>,</span> <span class=n>obj</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.statement class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">statement</span> <a href=#cpp_generator.statement class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>statement</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>expression</span><span class=p>:</span> <span class=n><span title=typing.Union>Union</span></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.Expression href=#cpp_generator.Expression>Expression</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.Statement href=#cpp_generator.Statement>Statement</a></span><span class=p>]</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.Statement href=#cpp_generator.Statement>Statement</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Convert expression into a statement unless is already a statement.</p> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-464>464</a></span>
<span class=normal><a href=#__codelineno-0-465>465</a></span>
<span class=normal><a href=#__codelineno-0-466>466</a></span>
<span class=normal><a href=#__codelineno-0-467>467</a></span>
<span class=normal><a href=#__codelineno-0-468>468</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-464><a id=__codelineno-0-464 name=__codelineno-0-464></a><span class=k>def</span> <span class=nf>statement</span><span class=p>(</span><span class=n>expression</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=n>Expression</span><span class=p>,</span> <span class=n>Statement</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>Statement</span><span class=p>:</span>
</span><span id=__span-0-465><a id=__codelineno-0-465 name=__codelineno-0-465></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert expression into a statement unless is already a statement.&quot;&quot;&quot;</span>
</span><span id=__span-0-466><a id=__codelineno-0-466 name=__codelineno-0-466></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>expression</span><span class=p>,</span> <span class=n>Statement</span><span class=p>):</span>
</span><span id=__span-0-467><a id=__codelineno-0-467 name=__codelineno-0-467></a>        <span class=k>return</span> <span class=n>expression</span>
</span><span id=__span-0-468><a id=__codelineno-0-468 name=__codelineno-0-468></a>    <span class=k>return</span> <span class=n>ExpressionStatement</span><span class=p>(</span><span class=n>expression</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.static_const_array class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">static_const_array</span> <a href=#cpp_generator.static_const_array class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>static_const_array</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-455>455</a></span>
<span class=normal><a href=#__codelineno-0-456>456</a></span>
<span class=normal><a href=#__codelineno-0-457>457</a></span>
<span class=normal><a href=#__codelineno-0-458>458</a></span>
<span class=normal><a href=#__codelineno-0-459>459</a></span>
<span class=normal><a href=#__codelineno-0-460>460</a></span>
<span class=normal><a href=#__codelineno-0-461>461</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-455><a id=__codelineno-0-455 name=__codelineno-0-455></a><span class=k>def</span> <span class=nf>static_const_array</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObj&quot;</span><span class=p>:</span>
</span><span id=__span-0-456><a id=__codelineno-0-456 name=__codelineno-0-456></a>    <span class=n>rhs</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>rhs</span><span class=p>)</span>
</span><span id=__span-0-457><a id=__codelineno-0-457 name=__codelineno-0-457></a>    <span class=n>obj</span> <span class=o>=</span> <span class=n>MockObj</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=s2>&quot;.&quot;</span><span class=p>)</span>
</span><span id=__span-0-458><a id=__codelineno-0-458 name=__codelineno-0-458></a>    <span class=n>assignment</span> <span class=o>=</span> <span class=n>StaticConstAssignmentExpression</span><span class=p>(</span><span class=n>id_</span><span class=o>.</span><span class=n>type</span><span class=p>,</span> <span class=n>id_</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span>
</span><span id=__span-0-459><a id=__codelineno-0-459 name=__codelineno-0-459></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>assignment</span><span class=p>)</span>
</span><span id=__span-0-460><a id=__codelineno-0-460 name=__codelineno-0-460></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>register_variable</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-461><a id=__codelineno-0-461 name=__codelineno-0-461></a>    <span class=k>return</span> <span class=n>obj</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.templatable class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">templatable</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-async"><code>async</code></small> </span> <a href=#cpp_generator.templatable class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span>
<span class=normal><a href=#__codelineno-0-4>4</a></span>
<span class=normal><a href=#__codelineno-0-5>5</a></span>
<span class=normal><a href=#__codelineno-0-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>templatable</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>value</span><span class=p>:</span> <span class=n><span title=typing.Any>Any</span></span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=n>args</span><span class=p>:</span> <span class=n>list</span><span class=p>[</span><span class=n>tuple</span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>,</span> <span class=n>str</span><span class=p>]],</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a>    <span class=n>output_type</span><span class=p>:</span> <span class=n><span title=typing.Optional>Optional</span></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>],</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a>    <span class=n>to_exp</span><span class=p>:</span> <span class=n><span title=typing.Any>Any</span></span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6></a><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Generate code for a templatable config option.</p> <p>If <code>value</code> is a templated value, the lambda expression is returned. Otherwise the value is returned as-is (optionally process with to_exp).</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>value</code></td> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>The value to process.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>args</code></td> <td> <code>list[tuple[<a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a>, str]]</code> </td> <td> <div class=doc-md-description> <p>The arguments for the lambda expression.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>output_type</code></td> <td> <code><span title=typing.Optional>Optional</span>[<a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a>]</code> </td> <td> <div class=doc-md-description> <p>The output type of the lambda expression.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>to_exp</code></td> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>An optional callable to use for converting non-templated values.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> </td> <td> <div class=doc-md-description> <p>The potentially templated value.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-711>711</a></span>
<span class=normal><a href=#__codelineno-0-712>712</a></span>
<span class=normal><a href=#__codelineno-0-713>713</a></span>
<span class=normal><a href=#__codelineno-0-714>714</a></span>
<span class=normal><a href=#__codelineno-0-715>715</a></span>
<span class=normal><a href=#__codelineno-0-716>716</a></span>
<span class=normal><a href=#__codelineno-0-717>717</a></span>
<span class=normal><a href=#__codelineno-0-718>718</a></span>
<span class=normal><a href=#__codelineno-0-719>719</a></span>
<span class=normal><a href=#__codelineno-0-720>720</a></span>
<span class=normal><a href=#__codelineno-0-721>721</a></span>
<span class=normal><a href=#__codelineno-0-722>722</a></span>
<span class=normal><a href=#__codelineno-0-723>723</a></span>
<span class=normal><a href=#__codelineno-0-724>724</a></span>
<span class=normal><a href=#__codelineno-0-725>725</a></span>
<span class=normal><a href=#__codelineno-0-726>726</a></span>
<span class=normal><a href=#__codelineno-0-727>727</a></span>
<span class=normal><a href=#__codelineno-0-728>728</a></span>
<span class=normal><a href=#__codelineno-0-729>729</a></span>
<span class=normal><a href=#__codelineno-0-730>730</a></span>
<span class=normal><a href=#__codelineno-0-731>731</a></span>
<span class=normal><a href=#__codelineno-0-732>732</a></span>
<span class=normal><a href=#__codelineno-0-733>733</a></span>
<span class=normal><a href=#__codelineno-0-734>734</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-711><a id=__codelineno-0-711 name=__codelineno-0-711></a><span class=k>async</span> <span class=k>def</span> <span class=nf>templatable</span><span class=p>(</span>
</span><span id=__span-0-712><a id=__codelineno-0-712 name=__codelineno-0-712></a>    <span class=n>value</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span>
</span><span id=__span-0-713><a id=__codelineno-0-713 name=__codelineno-0-713></a>    <span class=n>args</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>tuple</span><span class=p>[</span><span class=n>SafeExpType</span><span class=p>,</span> <span class=nb>str</span><span class=p>]],</span>
</span><span id=__span-0-714><a id=__codelineno-0-714 name=__codelineno-0-714></a>    <span class=n>output_type</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>SafeExpType</span><span class=p>],</span>
</span><span id=__span-0-715><a id=__codelineno-0-715 name=__codelineno-0-715></a>    <span class=n>to_exp</span><span class=p>:</span> <span class=n>Any</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-716><a id=__codelineno-0-716 name=__codelineno-0-716></a><span class=p>):</span>
</span><span id=__span-0-717><a id=__codelineno-0-717 name=__codelineno-0-717></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Generate code for a templatable config option.</span>
</span><span id=__span-0-718><a id=__codelineno-0-718 name=__codelineno-0-718></a>
</span><span id=__span-0-719><a id=__codelineno-0-719 name=__codelineno-0-719></a><span class=sd>    If `value` is a templated value, the lambda expression is returned.</span>
</span><span id=__span-0-720><a id=__codelineno-0-720 name=__codelineno-0-720></a><span class=sd>    Otherwise the value is returned as-is (optionally process with to_exp).</span>
</span><span id=__span-0-721><a id=__codelineno-0-721 name=__codelineno-0-721></a>
</span><span id=__span-0-722><a id=__codelineno-0-722 name=__codelineno-0-722></a><span class=sd>    :param value: The value to process.</span>
</span><span id=__span-0-723><a id=__codelineno-0-723 name=__codelineno-0-723></a><span class=sd>    :param args: The arguments for the lambda expression.</span>
</span><span id=__span-0-724><a id=__codelineno-0-724 name=__codelineno-0-724></a><span class=sd>    :param output_type: The output type of the lambda expression.</span>
</span><span id=__span-0-725><a id=__codelineno-0-725 name=__codelineno-0-725></a><span class=sd>    :param to_exp: An optional callable to use for converting non-templated values.</span>
</span><span id=__span-0-726><a id=__codelineno-0-726 name=__codelineno-0-726></a><span class=sd>    :return: The potentially templated value.</span>
</span><span id=__span-0-727><a id=__codelineno-0-727 name=__codelineno-0-727></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-728><a id=__codelineno-0-728 name=__codelineno-0-728></a>    <span class=k>if</span> <span class=n>is_template</span><span class=p>(</span><span class=n>value</span><span class=p>):</span>
</span><span id=__span-0-729><a id=__codelineno-0-729 name=__codelineno-0-729></a>        <span class=k>return</span> <span class=k>await</span> <span class=n>process_lambda</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>args</span><span class=p>,</span> <span class=n>return_type</span><span class=o>=</span><span class=n>output_type</span><span class=p>)</span>
</span><span id=__span-0-730><a id=__codelineno-0-730 name=__codelineno-0-730></a>    <span class=k>if</span> <span class=n>to_exp</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-731><a id=__codelineno-0-731 name=__codelineno-0-731></a>        <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-0-732><a id=__codelineno-0-732 name=__codelineno-0-732></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>to_exp</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
</span><span id=__span-0-733><a id=__codelineno-0-733 name=__codelineno-0-733></a>        <span class=k>return</span> <span class=n>to_exp</span><span class=p>[</span><span class=n>value</span><span class=p>]</span>
</span><span id=__span-0-734><a id=__codelineno-0-734 name=__codelineno-0-734></a>    <span class=k>return</span> <span class=n>to_exp</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.variable class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">variable</span> <a href=#cpp_generator.variable class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span>
<span class=normal><a href=#__codelineno-0-4>4</a></span>
<span class=normal><a href=#__codelineno-0-5>5</a></span>
<span class=normal><a href=#__codelineno-0-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>variable</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>id_</span><span class=p>:</span> <span class=n><span title=esphome.core.ID>ID</span></span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=n>rhs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a>    <span class=n>type_</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a>    <span class=n>register</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Declare a new variable, not pointer type, in the code generation.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>id_</code></td> <td> <code><span title=esphome.core.ID>ID</span></code> </td> <td> <div class=doc-md-description> <p>The ID used to declare the variable.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>rhs</code></td> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></code> </td> <td> <div class=doc-md-description> <p>The expression to place on the right hand side of the assignment.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>type_</code></td> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></code> </td> <td> <div class=doc-md-description> <p>Manually define a type for the variable, only use this when it's not possible to do so during config validation phase (for example because of template arguments).</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></code> </td> <td> <div class=doc-md-description> <p>The new variable as a MockObj.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-471>471</a></span>
<span class=normal><a href=#__codelineno-0-472>472</a></span>
<span class=normal><a href=#__codelineno-0-473>473</a></span>
<span class=normal><a href=#__codelineno-0-474>474</a></span>
<span class=normal><a href=#__codelineno-0-475>475</a></span>
<span class=normal><a href=#__codelineno-0-476>476</a></span>
<span class=normal><a href=#__codelineno-0-477>477</a></span>
<span class=normal><a href=#__codelineno-0-478>478</a></span>
<span class=normal><a href=#__codelineno-0-479>479</a></span>
<span class=normal><a href=#__codelineno-0-480>480</a></span>
<span class=normal><a href=#__codelineno-0-481>481</a></span>
<span class=normal><a href=#__codelineno-0-482>482</a></span>
<span class=normal><a href=#__codelineno-0-483>483</a></span>
<span class=normal><a href=#__codelineno-0-484>484</a></span>
<span class=normal><a href=#__codelineno-0-485>485</a></span>
<span class=normal><a href=#__codelineno-0-486>486</a></span>
<span class=normal><a href=#__codelineno-0-487>487</a></span>
<span class=normal><a href=#__codelineno-0-488>488</a></span>
<span class=normal><a href=#__codelineno-0-489>489</a></span>
<span class=normal><a href=#__codelineno-0-490>490</a></span>
<span class=normal><a href=#__codelineno-0-491>491</a></span>
<span class=normal><a href=#__codelineno-0-492>492</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-471><a id=__codelineno-0-471 name=__codelineno-0-471></a><span class=k>def</span> <span class=nf>variable</span><span class=p>(</span>
</span><span id=__span-0-472><a id=__codelineno-0-472 name=__codelineno-0-472></a>    <span class=n>id_</span><span class=p>:</span> <span class=n>ID</span><span class=p>,</span> <span class=n>rhs</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>,</span> <span class=n>type_</span><span class=p>:</span> <span class=s2>&quot;MockObj&quot;</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>register</span><span class=o>=</span><span class=kc>True</span>
</span><span id=__span-0-473><a id=__codelineno-0-473 name=__codelineno-0-473></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=s2>&quot;MockObj&quot;</span><span class=p>:</span>
</span><span id=__span-0-474><a id=__codelineno-0-474 name=__codelineno-0-474></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Declare a new variable, not pointer type, in the code generation.</span>
</span><span id=__span-0-475><a id=__codelineno-0-475 name=__codelineno-0-475></a>
</span><span id=__span-0-476><a id=__codelineno-0-476 name=__codelineno-0-476></a><span class=sd>    :param id_: The ID used to declare the variable.</span>
</span><span id=__span-0-477><a id=__codelineno-0-477 name=__codelineno-0-477></a><span class=sd>    :param rhs: The expression to place on the right hand side of the assignment.</span>
</span><span id=__span-0-478><a id=__codelineno-0-478 name=__codelineno-0-478></a><span class=sd>    :param type_: Manually define a type for the variable, only use this when it&#39;s not possible</span>
</span><span id=__span-0-479><a id=__codelineno-0-479 name=__codelineno-0-479></a><span class=sd>      to do so during config validation phase (for example because of template arguments).</span>
</span><span id=__span-0-480><a id=__codelineno-0-480 name=__codelineno-0-480></a>
</span><span id=__span-0-481><a id=__codelineno-0-481 name=__codelineno-0-481></a><span class=sd>    :return: The new variable as a MockObj.</span>
</span><span id=__span-0-482><a id=__codelineno-0-482 name=__codelineno-0-482></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-483><a id=__codelineno-0-483 name=__codelineno-0-483></a>    <span class=k>assert</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>ID</span><span class=p>)</span>
</span><span id=__span-0-484><a id=__codelineno-0-484 name=__codelineno-0-484></a>    <span class=n>rhs</span> <span class=o>=</span> <span class=n>safe_exp</span><span class=p>(</span><span class=n>rhs</span><span class=p>)</span>
</span><span id=__span-0-485><a id=__codelineno-0-485 name=__codelineno-0-485></a>    <span class=n>obj</span> <span class=o>=</span> <span class=n>MockObj</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=s2>&quot;.&quot;</span><span class=p>)</span>
</span><span id=__span-0-486><a id=__codelineno-0-486 name=__codelineno-0-486></a>    <span class=k>if</span> <span class=n>type_</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-487><a id=__codelineno-0-487 name=__codelineno-0-487></a>        <span class=n>id_</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=n>type_</span>
</span><span id=__span-0-488><a id=__codelineno-0-488 name=__codelineno-0-488></a>    <span class=n>assignment</span> <span class=o>=</span> <span class=n>AssignmentExpression</span><span class=p>(</span><span class=n>id_</span><span class=o>.</span><span class=n>type</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>,</span> <span class=n>id_</span><span class=p>,</span> <span class=n>rhs</span><span class=p>)</span>
</span><span id=__span-0-489><a id=__codelineno-0-489 name=__codelineno-0-489></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>assignment</span><span class=p>)</span>
</span><span id=__span-0-490><a id=__codelineno-0-490 name=__codelineno-0-490></a>    <span class=k>if</span> <span class=n>register</span><span class=p>:</span>
</span><span id=__span-0-491><a id=__codelineno-0-491 name=__codelineno-0-491></a>        <span class=n>CORE</span><span class=o>.</span><span class=n>register_variable</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>obj</span><span class=p>)</span>
</span><span id=__span-0-492><a id=__codelineno-0-492 name=__codelineno-0-492></a>    <span class=k>return</span> <span class=n>obj</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=cpp_generator.with_local_variable class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">with_local_variable</span> <a href=#cpp_generator.with_local_variable class=headerlink title="Anchor link to this section for reference">&para;</a></h3> <div class="doc-signature highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span>
<span class=normal><a href=#__codelineno-0-4>4</a></span>
<span class=normal><a href=#__codelineno-0-5>5</a></span>
<span class=normal><a href=#__codelineno-0-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><span class=n>with_local_variable</span><span class=p>(</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a>    <span class=n>id_</span><span class=p>:</span> <span class=n><span title=esphome.core.ID>ID</span></span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a>    <span class=n>rhs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4></a>    <span class=n>callback</span><span class=p>:</span> <span class=n><span title=typing.Callable>Callable</span></span><span class=p>[[</span><span class=n><a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a></span><span class=p>],</span> <span class=kc>None</span><span class=p>],</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5></a>    <span class=o>*</span><span class=n>args</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</span></code></pre></div></td></tr></table></div> <div class="doc doc-contents "> <p>Declare a new variable, not pointer type, in the code generation, within a scoped block The variable is only usable within the callback The callback cannot be async.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>id_</code></td> <td> <code><span title=esphome.core.ID>ID</span></code> </td> <td> <div class=doc-md-description> <p>The ID used to declare the variable.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>rhs</code></td> <td> <code><a class="autorefs autorefs-internal" title=cpp_generator.SafeExpType href=#cpp_generator.SafeExpType>SafeExpType</a></code> </td> <td> <div class=doc-md-description> <p>The expression to place on the right hand side of the assignment.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>callback</code></td> <td> <code><span title=typing.Callable>Callable</span>[[<a class="autorefs autorefs-internal" title=cpp_generator.MockObj href=#cpp_generator.MockObj>MockObj</a>], None]</code> </td> <td> <div class=doc-md-description> <p>The function to invoke that will receive the temporary variable</p> </div> </td> <td> <em>required</em> </td> </tr> <tr> <td><code>args</code></td> <td> </td> <td> <div class=doc-md-description> <p>args to pass to the callback in addition to the temporary variable</p> </div> </td> <td> <code>()</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>esphome\cpp_generator.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-495>495</a></span>
<span class=normal><a href=#__codelineno-0-496>496</a></span>
<span class=normal><a href=#__codelineno-0-497>497</a></span>
<span class=normal><a href=#__codelineno-0-498>498</a></span>
<span class=normal><a href=#__codelineno-0-499>499</a></span>
<span class=normal><a href=#__codelineno-0-500>500</a></span>
<span class=normal><a href=#__codelineno-0-501>501</a></span>
<span class=normal><a href=#__codelineno-0-502>502</a></span>
<span class=normal><a href=#__codelineno-0-503>503</a></span>
<span class=normal><a href=#__codelineno-0-504>504</a></span>
<span class=normal><a href=#__codelineno-0-505>505</a></span>
<span class=normal><a href=#__codelineno-0-506>506</a></span>
<span class=normal><a href=#__codelineno-0-507>507</a></span>
<span class=normal><a href=#__codelineno-0-508>508</a></span>
<span class=normal><a href=#__codelineno-0-509>509</a></span>
<span class=normal><a href=#__codelineno-0-510>510</a></span>
<span class=normal><a href=#__codelineno-0-511>511</a></span>
<span class=normal><a href=#__codelineno-0-512>512</a></span>
<span class=normal><a href=#__codelineno-0-513>513</a></span>
<span class=normal><a href=#__codelineno-0-514>514</a></span>
<span class=normal><a href=#__codelineno-0-515>515</a></span>
<span class=normal><a href=#__codelineno-0-516>516</a></span>
<span class=normal><a href=#__codelineno-0-517>517</a></span>
<span class=normal><a href=#__codelineno-0-518>518</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-495><a id=__codelineno-0-495 name=__codelineno-0-495></a><span class=k>def</span> <span class=nf>with_local_variable</span><span class=p>(</span>
</span><span id=__span-0-496><a id=__codelineno-0-496 name=__codelineno-0-496></a>    <span class=n>id_</span><span class=p>:</span> <span class=n>ID</span><span class=p>,</span> <span class=n>rhs</span><span class=p>:</span> <span class=n>SafeExpType</span><span class=p>,</span> <span class=n>callback</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[</span><span class=s2>&quot;MockObj&quot;</span><span class=p>],</span> <span class=kc>None</span><span class=p>],</span> <span class=o>*</span><span class=n>args</span>
</span><span id=__span-0-497><a id=__codelineno-0-497 name=__codelineno-0-497></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-498><a id=__codelineno-0-498 name=__codelineno-0-498></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Declare a new variable, not pointer type, in the code generation, within a scoped block</span>
</span><span id=__span-0-499><a id=__codelineno-0-499 name=__codelineno-0-499></a><span class=sd>    The variable is only usable within the callback</span>
</span><span id=__span-0-500><a id=__codelineno-0-500 name=__codelineno-0-500></a><span class=sd>    The callback cannot be async.</span>
</span><span id=__span-0-501><a id=__codelineno-0-501 name=__codelineno-0-501></a>
</span><span id=__span-0-502><a id=__codelineno-0-502 name=__codelineno-0-502></a><span class=sd>    :param id_: The ID used to declare the variable.</span>
</span><span id=__span-0-503><a id=__codelineno-0-503 name=__codelineno-0-503></a><span class=sd>    :param rhs: The expression to place on the right hand side of the assignment.</span>
</span><span id=__span-0-504><a id=__codelineno-0-504 name=__codelineno-0-504></a><span class=sd>    :param callback: The function to invoke that will receive the temporary variable</span>
</span><span id=__span-0-505><a id=__codelineno-0-505 name=__codelineno-0-505></a><span class=sd>    :param args: args to pass to the callback in addition to the temporary variable</span>
</span><span id=__span-0-506><a id=__codelineno-0-506 name=__codelineno-0-506></a>
</span><span id=__span-0-507><a id=__codelineno-0-507 name=__codelineno-0-507></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-508><a id=__codelineno-0-508 name=__codelineno-0-508></a>
</span><span id=__span-0-509><a id=__codelineno-0-509 name=__codelineno-0-509></a>    <span class=c1># throw if the callback is async:</span>
</span><span id=__span-0-510><a id=__codelineno-0-510 name=__codelineno-0-510></a>    <span class=k>assert</span> <span class=ow>not</span> <span class=n>inspect</span><span class=o>.</span><span class=n>iscoroutinefunction</span><span class=p>(</span>
</span><span id=__span-0-511><a id=__codelineno-0-511 name=__codelineno-0-511></a>        <span class=n>callback</span>
</span><span id=__span-0-512><a id=__codelineno-0-512 name=__codelineno-0-512></a>    <span class=p>),</span> <span class=s2>&quot;with_local_variable() callback cannot be async!&quot;</span>
</span><span id=__span-0-513><a id=__codelineno-0-513 name=__codelineno-0-513></a>
</span><span id=__span-0-514><a id=__codelineno-0-514 name=__codelineno-0-514></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>RawStatement</span><span class=p>(</span><span class=s2>&quot;{&quot;</span><span class=p>))</span>  <span class=c1># output opening curly brace</span>
</span><span id=__span-0-515><a id=__codelineno-0-515 name=__codelineno-0-515></a>    <span class=n>obj</span> <span class=o>=</span> <span class=n>variable</span><span class=p>(</span><span class=n>id_</span><span class=p>,</span> <span class=n>rhs</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>True</span><span class=p>)</span>
</span><span id=__span-0-516><a id=__codelineno-0-516 name=__codelineno-0-516></a>    <span class=c1># invoke user-provided callback to generate code with this local variable</span>
</span><span id=__span-0-517><a id=__codelineno-0-517 name=__codelineno-0-517></a>    <span class=n>callback</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>)</span>
</span><span id=__span-0-518><a id=__codelineno-0-518 name=__codelineno-0-518></a>    <span class=n>CORE</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>RawStatement</span><span class=p>(</span><span class=s2>&quot;}&quot;</span><span class=p>))</span>  <span class=c1># output closing curly brace</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href=... target=_blank rel=noopener>feedback form</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> <strong>ESPHome</strong> is an open source project by <a href=https://https://www.nabucasa.com/ >Nabu Casa</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.instant", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "search.suggest", "search.highlight", "announce.dismiss", "content.action.edit", "content.action.view", "content.code.copy", "content.code.select", "content.code.annotate", "content.tabs.link", "content.tooltips", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.8fd75fb4.min.js></script> <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body> </html>